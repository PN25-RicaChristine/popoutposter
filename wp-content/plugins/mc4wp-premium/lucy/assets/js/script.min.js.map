{"version":3,"sources":["lucy/assets/js/script.js"],"names":["define","undefined","r","e","n","t","o","i","f","c","u","a","Error","code","p","exports","call","length","1","require","module","Lucy","config","algoliaAppId","algoliaAppKey","algoliaIndexName","links","text","href","contactLink","window","lucy_config","email_link","./third-party/lucy.js","2","m","algoliasearch","addEvent","element","event","handler","addEventListener","attachEvent","removeEvent","removeEventListener","detachEvent","maybeClose","type","keyCode","clickedElement","target","srcElement","this","contains","close","algolia","initIndex","opened","loader","searchResults","searchQuery","document","createElement","setAttribute","hrefLinks","hrefContactLink","body","appendChild","mount","view","getDOM","bind","prototype","results","map","l","trust","style","display","onclick","onsubmit","search","value","onkeyup","reset","onupdate","vnode","dom","focus","placeholder","class","oncreate","open","redraw","query","_this","innerText","loadingInterval","setInterval","hitsPerPage","then","result","clearInterval","hits","url","_highlightResult","title","error","console","log","algoliasearch/lite","mithril","3","_typeof","obj","Symbol","iterator","constructor","Object","keys","getOwnPropertySymbols","filter","getOwnPropertyDescriptor","enumerable","push","apply","arguments","forEach","defineProperty","configurable","writable","getOwnPropertyDescriptors","defineProperties","Array","isArray","toString","next","done","TypeError","from","s","serializable","get","miss","Promise","resolve","JSON","stringify","parse","set","delete","clear","replace","encodeURIComponent","h","d","data","indexOf","entries","timeout","headers","queryParameters","cacheable","Read","Write","Any","g","y","status","lastUpdate","Date","now","b","protocol","accept","P","j","pop","name","message","transporterStackTrace","A","request","response","host","triesLeft","method","T","concat","charAt","substr","w","path","connectTimeout","timeouts","connect","responseTimeout","onSucess","content","onRetry","isTimedOut","all","logger","info","x","hostsCache","onFail","requester","send","toLowerCase","x-algolia-agent","userAgent","getTimeout","statelessHosts","q","reverse","join","x-algolia-api-key","C","appId","authMode","apiKey","x-algolia-application-id","hosts","Math","floor","random","content-type","requestsCache","responsesCache","read","mappedRequestOptions","transporter","reject","write","addAlgoliaAgent","add","segment","version","clearCache","methods","N","indexName","k","params","requests","J","facetName","facetQuery","propertyIsEnumerable","searchForFacetValues","I","E","W","XMLHttpRequest","setRequestHeader","setTimeout","abort","onreadystatechange","readyState","OPENED","clearTimeout","onerror","responseText","onload","debug","caches","shift","localStorage","getItem","key","setItem","removeItem","S","multipleQueries","multipleSearchForFacetValues","amd","self","4","Vnode","render","schedule","subscriptions","rendering","pending","sync","root","component","index","splice","../render/vnode","5","setImmediate","buildPathname","parsePathname","compileTemplate","assign","sentinel","$window","mountRedraw","fireAsync","setPath","options","state","history","replaceState","route","prefix","pushState","location","attrs","currentPath","_lastUpdate","currentResolver","SKIP","defaultRoute","routes","onremove","compiled","SyntaxError","test","check","callAsync","scheduled","defaultData","some","ReferenceError","resolveRoute","hash","pathname","decodeURIComponent","slice","fail","loop","payload","matchedRoute","localComp","update","comp","onmatch","onbeforeupdate","Link","selector","oninit","onbeforeremove","child","children","disabled","Boolean","currentTarget","handleEvent","defaultPrevented","button","which","ctrlKey","metaKey","shiftKey","altKey","preventDefault","param","../pathname/assign","../pathname/build","../pathname/compileTemplate","../pathname/parse","../promise/promise","../render/hyperscript","timers","6","hyperscript","fragment","./render/fragment","./render/hyperscript","./render/trust","7","jsonp","parseQueryString","buildQueryString","PromisePolyfill","./hyperscript","./mount-redraw","./pathname/build","./pathname/parse","./promise/polyfill","./querystring/build","./querystring/parse","./render","./render/vnode","./request","./route","8","requestAnimationFrame","./api/mount-redraw","9","source","10","template","queryIndex","hashIndex","queryEnd","pathEnd","resolved","variadic","String","newQueryIndex","newHashIndex","newQueryEnd","newPathEnd","querystring","../querystring/build","./assign","11","templateData","templateKeys","regexp","RegExp","extra","values","exec","./parse","12","../querystring/parse","13","executor","resolvers","rejectors","resolveCurrent","rejectCurrent","instance","_instance","list","shouldAbsorb","execute","retry","executeOnce","runs","run","fn","onFulfilled","onRejection","resolveNext","rejectNext","handle","callback","promise","reason","total","count","consume","race","14","global","./polyfill","15","object","args","destructure","16","string","split","counters","entry","levels","cursor","level","nextLevel","isNumber","isNaN","parseInt","desc","17","./render/render","18","hyperscriptVnode","tag","normalizeChildren","./hyperscriptVnode","19","selectorParser","selectorCache","hasOwn","hasOwnProperty","isEmpty","hasClass","className","newAttrs","execSelector","match","classes","id","attrValue","compileSelector","20","start","21","currentRedraw","$doc","nameSpace","svg","math","getNameSpace","xmlns","checkState","original","callHook","activeElement","createNodes","parent","vnodes","end","hooks","nextSibling","ns","createNode","initLifecycle","createTextNode","insertNode","createText","createHTML","createDocumentFragment","firstChild","domSize","childNodes","createFragment","is","createElementNS","setAttr","setAttrs","maybeSetContentEditable","textContent","selectedIndex","normalized","setLateSelectAttrs","create","$$reentrantLock$$","normalize","initComponent","createComponent","possibleParents","caption","thead","tbody","tfoot","tr","th","td","colgroup","col","temp","innerHTML","updateNodes","old","removeNodes","isOldKeyed","isKeyed","oldStart","v","oe","ve","topSibling","oldEnd","updateNode","getNextSibling","moveNodes","lisIndices","originalNextSibling","vnodesLength","oldIndices","li","pos","matched","getKeyMap","oldIndex","il","lisTemp","makeLisIndices","commonLength","removeNode","oldTag","events","force","shouldNotUpdate","updateLifecycle","nodeValue","updateText","removeHTML","updateHTML","updateFragment","val","removeAttr","updateAttrs","updateElement","updateComponent","frag","moveChildToFrag","parentNode","insertBefore","contenteditable","contentEditable","stateResult","attrsResult","mask","reallyRemove","removeChild","isLifecycleMethod","attr","isFormAttribute","updateEvent","setAttributeNS","updateStyle","hasPropertyKey","removeAttribute","nsLastIndex","uppercaseRegex","capital","normalizeKey","cssText","setProperty","removeProperty","EventDict","_","ev","stopPropagation","active","namespace","namespaceURI","prevRedraw","22","html","23","node","input","24","./promise/promise","./request/request","25","oncompletion","callbackCount","PromiseProxy","makeRequest","factory","background","complete","wrap","hasHeader","__proto__","replacedAbort","toUpperCase","assumeJSON","serialize","FormData","responseType","extract","xhr","aborted","async","user","password","deserialize","withCredentials","success","callbackName","round","script","src","callbackKey","documentElement","26","./api/router","27","cachedSetTimeout","cachedClearTimeout","process","defaultSetTimout","defaultClearTimeout","runTimeout","fun","currentQueue","queue","draining","queueIndex","cleanUpNextTick","drainQueue","len","marker","runClearTimeout","Item","array","noop","nextTick","browser","env","argv","versions","on","addListener","once","off","removeListener","removeAllListeners","emit","prependListener","prependOnceListener","listeners","binding","cwd","chdir","dir","umask","28","clearImmediate","Function","immediateIds","nextImmediateId","Timeout","clearFn","_id","_clearFn","unref","ref","enroll","item","msecs","_idleTimeoutId","_idleTimeout","unenroll","_unrefActive","_onTimeout","process/browser.js"],"mappings":"CAAA,WAAe,IAA6BA,OAASC,GAAuB,SAASC,EAAEC,EAAEC,EAAEC,GAAG,SAASC,EAAEC,EAAEC,GAAG,IAAIJ,EAAEG,GAAG,CAAC,IAAIJ,EAAEI,GAAG,CAAC,IAAIE,GAAE,EAAoC,IAAID,GAAGC,EAAE,OAAOA,EAAEF,GAAE,GAAI,GAAGG,EAAE,OAAOA,EAAEH,GAAE,GAAI,IAAII,EAAE,IAAIC,MAAM,uBAAuBL,EAAE,KAAK,MAAMI,EAAEE,KAAK,mBAAmBF,EAAE,IAAIG,EAAEV,EAAEG,GAAG,CAACQ,QAAQ,IAAIZ,EAAEI,GAAG,GAAGS,KAAKF,EAAEC,QAAQ,SAASb,GAAoB,OAAOI,EAAlBH,EAAEI,GAAG,GAAGL,IAAeA,IAAIY,EAAEA,EAAEC,QAAQb,EAAEC,EAAEC,EAAEC,GAAG,OAAOD,EAAEG,GAAGQ,QAAQ,IAAI,IAAIL,GAAE,EAAoCH,EAAE,EAAEA,EAAEF,EAAEY,OAAOV,IAAID,EAAED,EAAEE,IAAI,OAAOD,EAA7b,CAA4c,CAACY,EAAE,CAAC,SAASC,EAAQC,EAAOL,GACxiB,aAEA,IAAIM,EAAOF,EAAQ,yBAEfG,EAAS,CACXC,aAAc,aACdC,cAAe,mCACfC,iBAAkB,WAClBC,MAAO,CAAC,CACNC,KAAM,gEACNC,KAAM,6BACL,CACDD,KAAM,sEACNC,KAAM,+CACL,CACDD,KAAM,iFACNC,KAAM,8DACL,CACDD,KAAM,oFACNC,KAAM,6CAERC,YAAa,4BAGXC,OAAOC,cACTT,EAAOO,YAAcC,OAAOC,YAAYC,YAG1C,IAAIX,EAAKC,EAAOC,aAAcD,EAAOE,cAAeF,EAAOG,iBAAkBH,EAAOI,MAAOJ,EAAOO,cAEhG,CAACI,wBAAwB,IAAIC,EAAE,CAAC,SAASf,EAAQC,EAAOL,GAC1D,aAEA,IAAIoB,EAAIhB,EAAQ,WAEZiB,EAAgBjB,EAAQ,sBAE5B,SAASkB,EAASC,EAASC,EAAOC,GAC5BF,EAAQG,iBACVH,EAAQG,iBAAiBF,EAAOC,GAAS,GAEzCF,EAAQI,YAAY,KAAOH,EAAOC,GAItC,SAASG,EAAYL,EAASC,EAAOC,GAC/BF,EAAQM,oBACVN,EAAQM,oBAAoBL,EAAOC,GAEnCF,EAAQO,YAAY,KAAON,EAAOC,GAItC,SAASM,EAAWP,GAElB,GAAmB,UAAfA,EAAMQ,MAAsC,KAAlBR,EAAMS,QAApC,CAMA,IAAIC,EAAiBV,EAAMW,QAAUX,EAAMY,WAExB,UAAfZ,EAAMQ,MAAoBK,KAAKd,QAAQe,WAAaD,KAAKd,QAAQe,SAASJ,IAC5EG,KAAKE,aARLF,KAAKE,QA4BE,SAAPjC,EAAqBE,EAAcC,EAAeC,EAAkBC,EAAOG,GAC7EuB,KAAKG,QAAUnB,EAAcb,EAAcC,GAAegC,UAAU/B,GACpE2B,KAAKK,QAAS,EACdL,KAAKM,OAAS,KACdN,KAAKO,cAAgB,KACrBP,KAAKQ,YAAc,GACnBR,KAAKd,QAAUuB,SAASC,cAAc,OACtCV,KAAKd,QAAQyB,aAAa,QAAS,eACnCX,KAAKY,UAAYtC,EACjB0B,KAAKa,gBAAkBpC,EACvBgC,SAASK,KAAKC,YAAYf,KAAKd,SAC/BH,EAAEiC,MAAMhB,KAAKd,QAAS,CACpB+B,KAAMjB,KAAKkB,OAAOC,KAAKnB,QAI3B/B,EAAKmD,UAAUF,OAAS,WACtB,IAAIG,EAAU,GAgBd,OAd8B,EAA1BrB,KAAKQ,YAAY3C,SAEjBwD,EADyB,OAAvBrB,KAAKO,cACGxB,EAAE,oBAAqB,8BAAiCiB,KAAKQ,YAAc,OAChD,EAA5BR,KAAKO,cAAc1C,OAClBmC,KAAKO,cAAce,IAAI,SAAUC,GACzC,OAAOxC,EAAE,IAAK,CACZP,KAAM+C,EAAE/C,MACPO,EAAEyC,MAAMD,EAAEhD,SAGLQ,EAAE,oBAAqB,sBAAyBiB,KAAKQ,YAAc,QAI1E,CAACzB,EAAE,oBAAqB,CAC7B0C,MAAO,CACLC,QAAS1B,KAAKK,OAAS,QAAU,SAElC,CAACtB,EAAE,kBAAmB,CACvB4C,QAAS3B,KAAKE,MAAMiB,KAAKnB,OACxB,IAAKjB,EAAE,aAAc,CAACA,EAAE,KAAM,qBAAsBA,EAAE,kBAAmB,CAC1E6C,SAAU5B,KAAK6B,OAAOV,KAAKnB,OAC1B,CAACjB,EAAE,QAAS,CACbY,KAAM,OACNmC,MAAO9B,KAAKQ,YACZuB,QA5DJ,SAAwB5C,GACtB,IACI2C,GADU3C,EAAMW,QAAUX,EAAMY,YAChB+B,MAEN,KAAVA,GAAqC,KAArB9B,KAAKQ,aAKzBR,KAAKQ,YAAcsB,EAEG,KAAlB3C,EAAMS,SACRI,KAAK6B,OAAOC,IAPZ9B,KAAKgC,SAuDmBb,KAAKnB,MAC7BiC,SAAU,SAAUC,GACdlC,KAAKK,QACP6B,EAAMC,IAAIC,SAEZjB,KAAKnB,MACPqC,YAAa,8BACXtD,EAAE,OAAQ,CACZuD,MAAS,SACTC,SAAU,SAAUL,GAClBlC,KAAKM,OAAS4B,EAAMC,KACpBhB,KAAKnB,QACLjB,EAAE,QAAS,CACbY,KAAM,eACAZ,EAAE,WAAY,CAACA,EAAE,YAAa,CACpC0C,MAAO,CACLC,QAAmC,EAA1B1B,KAAKQ,YAAY3C,OAAa,OAAS,UAEjDmC,KAAKY,UAAUU,IAAI,SAAUC,GAC9B,OAAOxC,EAAE,IAAK,CACZP,KAAM+C,EAAE/C,MACPO,EAAEyC,MAAMD,EAAEhD,UACVQ,EAAE,qBAAsBsC,KAAYtC,EAAE,aAAc,CAACA,EAAE,OAAQ,6CAA8CA,EAAE,IAAK,CACvHuD,MAAS,wBACT9D,KAAMwB,KAAKa,gBACXf,OAAQ,UACP,uBAAwBf,EAAE,mBAAoB,CAC/C4C,QAAS3B,KAAKwC,KAAKrB,KAAKnB,MACxByB,MAAO,CACLC,QAAS1B,KAAKK,OAAS,OAAS,UAEjC,CAACtB,EAAE,wBAAyB,kBAGjCd,EAAKmD,UAAUoB,KAAO,WAChBxC,KAAKK,SACTL,KAAKK,QAAS,EACdL,KAAKd,QAAQyB,aAAa,QAAS,aACnC5B,EAAE0D,SACFxD,EAASwB,SAAU,QAASf,EAAWyB,KAAKnB,OAC5Cf,EAASwB,SAAU,QAASf,EAAWyB,KAAKnB,SAG9C/B,EAAKmD,UAAUlB,MAAQ,WAChBF,KAAKK,SACVL,KAAKK,QAAS,EACdL,KAAKgC,QACLhC,KAAKd,QAAQyB,aAAa,QAAS,eACnCpB,EAAYkB,SAAU,QAASf,EAAWyB,KAAKnB,OAC/CT,EAAYkB,SAAU,QAASf,EAAWyB,KAAKnB,SAGjD/B,EAAKmD,UAAUY,MAAQ,WACrBhC,KAAKQ,YAAc,GACnBR,KAAKO,cAAgB,KACrBxB,EAAE0D,UAGJxE,EAAKmD,UAAUS,OAAS,SAAUa,GAChC,IAAIC,EAAQ3C,KAERM,EAASN,KAAKM,OAWlBA,EAAOsC,UAAY,IACnB,IAAIC,EAAkBnE,OAAOoE,YAVlB,WACTxC,EAAOsC,WAAa,IAEU,EAA1BtC,EAAOsC,UAAU/E,SACnByC,EAAOsC,UAAY,MAMwB,KAC/C5C,KAAKG,QAAQ0B,OAAOa,EAAO,CACzBK,YAAa,IACZC,KAAK,SAAUC,GAChBN,EAAMpC,cAAgB,GAGtBD,EAAOsC,UAAY,GACnBlE,OAAOwE,cAAcL,GACrBF,EAAMpC,cAAgB0C,EAAOE,KAAK7B,IAAI,SAAUxE,GAC9C,MAAO,CACL0B,KAAM1B,EAAEsG,IACR7E,KAAMzB,EAAEuG,iBAAiBC,MAAMxB,SAGnC/C,EAAE0D,WACM,MAAE,SAAUc,GACpBC,QAAQC,IAAIF,MAIhBvF,EAAOL,QAAUM,GAEf,CAACyF,qBAAqB,EAAEC,QAAU,IAAIC,EAAE,CAAC,SAAS7F,EAAQC,EAAOL,GACnE,aAEA,SAASkG,EAAQC,GAAmV,OAAtOD,EAArD,mBAAXE,QAAoD,iBAApBA,OAAOC,SAAmC,SAAiBF,GAAO,cAAcA,GAA2B,SAAiBA,GAAO,OAAOA,GAAyB,mBAAXC,QAAyBD,EAAIG,cAAgBF,QAAUD,IAAQC,OAAO3C,UAAY,gBAAkB0C,IAAyBA,GAGlX,IAAU/G,EAAGE,EAAAA,EAEJ,WAYR,SAASA,EAAEF,EAAGE,GACZ,IAAIH,EAAIoH,OAAOC,KAAKpH,GAEpB,GAAImH,OAAOE,sBAAuB,CAChC,IAAIpH,EAAIkH,OAAOE,sBAAsBrH,GACrCE,IAAMD,EAAIA,EAAEqH,OAAO,SAAUpH,GAC3B,OAAOiH,OAAOI,yBAAyBvH,EAAGE,GAAGsH,cAC1CzH,EAAE0H,KAAKC,MAAM3H,EAAGE,GAGvB,OAAOF,EAGT,SAASA,EAAEA,GACT,IAAK,IAAIE,EAAI,EAAGA,EAAI0H,UAAU7G,OAAQb,IAAK,CACzC,IAAIE,EAAI,MAAQwH,UAAU1H,GAAK0H,UAAU1H,GAAK,GAC9CA,EAAI,EAAIC,EAAEiH,OAAOhH,IAAI,GAAIyH,QAAQ,SAAU1H,GAzB/C,IAAWF,EAAGE,EAAGH,EAANC,EA0BHD,EA1BSA,EA0BHI,EA1BAD,EA0BHA,GAzBFA,KAAKF,EAAImH,OAAOU,eAAe7H,EAAGE,EAAG,CAC1C6E,MAAOhF,EACPyH,YAAY,EACZM,cAAc,EACdC,UAAU,IACP/H,EAAEE,GAAKH,IAqBLoH,OAAOa,0BAA4Bb,OAAOc,iBAAiBlI,EAAGoH,OAAOa,0BAA0B7H,IAAMD,EAAEiH,OAAOhH,IAAIyH,QAAQ,SAAU5H,GACvImH,OAAOU,eAAe9H,EAAGC,EAAGmH,OAAOI,yBAAyBpH,EAAGH,MAInE,OAAOD,EAiCT,SAASI,EAAEH,EAAGE,GACZ,OAAO,SAAUF,GACf,GAAIkI,MAAMC,QAAQnI,GAAI,OAAOA,EADxB,CAELA,IAAM,SAAUA,EAAGE,GACnB,GAAM8G,OAAOC,YAAYE,OAAOnH,IAAM,uBAAyBmH,OAAO9C,UAAU+D,SAASvH,KAAKb,GAA9F,CACA,IAAID,EAAI,GACJE,GAAI,EACJE,GAAI,EACJK,OAAI,EAER,IACE,IAAK,IAAID,EAAGH,EAAIJ,EAAEgH,OAAOC,cAAehH,GAAKM,EAAIH,EAAEiI,QAAQC,QAAUvI,EAAE0H,KAAKlH,EAAEwE,QAAS7E,GAAKH,EAAEe,SAAWZ,GAAID,GAAI,IAGjH,MAAOD,GACPG,GAAI,EAAIK,EAAIR,EACZ,QACA,IACEC,GAAK,MAAQG,EAAU,QAAKA,EAAU,SACtC,QACA,GAAID,EAAG,MAAMK,GAIjB,OAAOT,GArBD,CAsBNC,EAAGE,IAAM,WACT,MAAM,IAAIqI,UAAU,wDADX,GAKb,SAAS/H,EAAER,GACT,OAAO,SAAUA,GACf,GAAIkI,MAAMC,QAAQnI,GAAI,CACpB,IAAK,IAAIE,EAAI,EAAGH,EAAI,IAAImI,MAAMlI,EAAEc,QAASZ,EAAIF,EAAEc,OAAQZ,IACrDH,EAAEG,GAAKF,EAAEE,GAGX,OAAOH,GANJ,CAQLC,IAAM,SAAUA,GAChB,GAAIgH,OAAOC,YAAYE,OAAOnH,IAAM,uBAAyBmH,OAAO9C,UAAU+D,SAASvH,KAAKb,GAAI,OAAOkI,MAAMM,KAAKxI,GAD5G,CAENA,IAAM,WACN,MAAM,IAAIuI,UAAU,mDADd,GAsHV,SAASE,EAAT,GACE,IAAIzI,EAAuB,EAAnB2H,UAAU7G,aAAc,IADlC,EAAA,EAC2E,CACvE4H,cAAc,GAEZxI,EAAI,GACR,MAAO,CACLyI,IAAK,SAAa5I,EAAGE,EAAhB,GACH,IAAIE,EAAuB,EAAnBwH,UAAU7G,aAAc,IAD7B,EAAA,EACsE,CACvE8H,KAAM,WACJ,OAAOC,QAAQC,YAGftI,EAAIuI,KAAKC,UAAUjJ,GACvB,GAAIS,KAAKN,EAAG,OAAO2I,QAAQC,QAAQ9I,EAAE0I,aAAeK,KAAKE,MAAM/I,EAAEM,IAAMN,EAAEM,IAEzE,IAAID,EAAIN,IACJG,EAAID,GAAKA,EAAEyI,MAAQ,WACrB,OAAOC,QAAQC,WAGjB,OAAOvI,EAAE0F,KAAK,SAAUjG,GACtB,OAAOI,EAAEJ,KACRiG,KAAK,WACN,OAAO1F,KAGX2I,IAAK,SAAanJ,EAAGE,GACnB,OAAOC,EAAE6I,KAAKC,UAAUjJ,IAAMC,EAAE0I,aAAeK,KAAKC,UAAU/I,GAAKA,EAAG4I,QAAQC,QAAQ7I,IAExFkJ,OAAU,SAAiBnJ,GACzB,cAAcE,EAAE6I,KAAKC,UAAUhJ,IAAK6I,QAAQC,WAE9CM,MAAO,WACL,OAAOlJ,EAAI,GAAI2I,QAAQC,YAe7B,SAAStE,EAAExE,EAAGE,GACZ,OAAOiH,OAAOC,UAAK,IAAWlH,EAAIA,EAAI,IAAI0H,QAAQ,SAAU7H,GAC1DC,EAAED,GAAKG,EAAEH,GAAGC,KACVA,EAGN,SAASK,EAAEL,GACT,IAAK,IAAIE,EAAIyH,UAAU7G,OAAQf,EAAI,IAAImI,MAAU,EAAJhI,EAAQA,EAAI,EAAI,GAAID,EAAI,EAAGA,EAAIC,EAAGD,IAC7EF,EAAEE,EAAI,GAAK0H,UAAU1H,GAGvB,IAAIE,EAAI,EACR,OAAOH,EAAEqJ,QAAQ,MAAO,WACtB,OAAOC,mBAAmBvJ,EAAEI,QAIhC,IAAIoJ,EACqB,EADrBA,EAEa,EAGjB,SAASC,EAAExJ,EAAGE,GACZ,IAAIH,EAAIC,GAAK,GACTC,EAAIF,EAAE0J,MAAQ,GAClB,OAAOtC,OAAOC,KAAKrH,GAAG6H,QAAQ,SAAU5H,IACrC,IAAM,CAAC,UAAW,UAAW,kBAAmB,OAAQ,aAAa0J,QAAQ1J,KAAOC,EAAED,GAAKD,EAAEC,MAC5F,CACFyJ,KAAiC,EAA3BtC,OAAOwC,QAAQ1J,GAAGa,OAAab,OAAI,EACzC2J,QAAS7J,EAAE6J,SAAW1J,EACtB2J,QAAS9J,EAAE8J,SAAW,GACtBC,gBAAiB/J,EAAE+J,iBAAmB,GACtCC,UAAWhK,EAAEgK,WAIjB,IAAI/H,EAAI,CACNgI,KAAM,EACNC,MAAO,EACPC,IAAK,GAEHvJ,EAAI,EAEJwJ,EAAI,EAER,SAASC,EAAEpK,EAAX,GAEE,OAAOD,EAAE,GAAIC,EAAG,CACdqK,OAFyB,EAAnB1C,UAAU7G,aAAc,IADlC,EAAA,EAC2EH,EAGvE2J,WAAYC,KAAKC,QAIrB,SAASC,EAAEzK,GACT,MAAO,CACL0K,SAAU1K,EAAE0K,UAAY,QACxBrE,IAAKrG,EAAEqG,IACPsE,OAAQ3K,EAAE2K,QAAU3I,EAAEkI,KAI1B,IACIU,EAAI,OA8BR,SAASC,EAAE7K,EAAGE,EAAGD,EAAGE,GAqBV,SAAJqJ,EAAezJ,EAAGS,GACpB,IAAIgE,EAAIzE,EAAE+K,MACV,QAAI,IAAWtG,EAAG,KAAM,CACtBuG,KAAM,aACNC,QAAS,gHACTC,sBAAuBC,EAAE3K,IAWnB,SAAJyB,EAAehC,GACjB,IAAIE,EAAI,CACNiL,QAAS3B,EACT4B,SAAUpL,EACVqL,KAAM7G,EACN8G,UAAWvL,EAAEe,QAEf,OAAOP,EAAEkH,KAAKvH,GAAIA,EAfpB,IAAIsJ,EAAI,CACNC,KAAMrJ,EACNyJ,QAASpB,EACT8C,OAAQjL,EACR+F,IAuFN,SAAWrG,EAAGE,EAAGH,GACf,IAAIE,EAAIuL,EAAEzL,GACNI,EAAI,GAAGsL,OAAOzL,EAAE0K,SAAU,OAAOe,OAAOzL,EAAEqG,IAAK,KAAKoF,OAAO,MAAQvL,EAAEwL,OAAO,GAAKxL,EAAEyL,OAAO,GAAKzL,GACnG,OAAOD,EAAEa,SAAWX,GAAK,IAAIsL,OAAOxL,IAAKE,EA1FhCyL,CAAEpH,EAAGvE,EAAE4L,KAAMxL,GAClByL,eAAgBtL,EAAE+I,EAAGvJ,EAAE+L,SAASC,SAChCC,gBAAiBzL,EAAE+I,EAAGpJ,EAAEyJ,UAWtBjJ,EAAI,CACNuL,SAAU,SAAkBlM,GAC1B,OAAO,SAAUA,GACf,IACE,OAAO+I,KAAKE,MAAMjJ,EAAEmM,SACpB,MAAOjM,GACP,KACS,CACL6K,KAAM,uBACNC,QAGF9K,EAAE8K,QAFAI,SAESpL,IAVV,CAYLA,IAEJoM,QAAS,SAAiBnM,GACxB,IAAIE,EAAI6B,EAAE/B,GACV,OAAOA,EAAEoM,YAAc9C,IAAKV,QAAQyD,IAAI,CAACtM,EAAEuM,OAAOC,KAAK,oBAAqBC,EAAEtM,IAAKH,EAAE0M,WAAWxD,IAAI1E,EAAG4F,EAAE5F,EAAGvE,EAAEoM,WAAalC,EAlH3H,MAkHqIlE,KAAK,WACxI,OAAO/F,EAAEH,EAAGS,MAGhBmM,OAAQ,SAAgB3M,GACtB,MAAMgC,EAAEhC,GAAI,SAAUA,EAAGE,GACvB,IAAIH,EAAIC,EAAEmM,QACNlM,EAAID,EAAEqK,OACNlK,EAAIJ,EAER,IACEI,EAAI4I,KAAKE,MAAMlJ,GAAGiL,QAClB,MAAOhL,IAET,MACS,CACL+K,KAAM,WACNC,QAIF7K,EAHEkK,OAGCpK,EAFDgL,sBAEI/K,GAhBE,CAiBVF,EAAGkL,EAAE3K,MAIX,OAAOP,EAAE4M,UAAUC,KAAKrD,GAAGvD,KAAK,SAAUjG,GACxC,OAAoBE,EASfS,EAPGT,GADWF,EADFA,EASfA,GAPYqK,OACHrK,EAAEqM,aACHnM,GAD2BF,EAI/BA,GAHUqM,WACNtM,EAAIC,EAAEqK,QACFnK,GAAK,KAAOH,IACd,MAAQG,EAAI,MAAQ,MAAQA,EAAI,KACnCA,EAAEkM,QAAQpM,GAAK,MAAQA,EAAEqK,OAAS,KAAOnK,EAAEgM,SAASlM,GAAKE,EAAEyM,OAAO3M,GARpE,IAAUA,EAAGE,EACDF,EAEkBA,EAC3BE,EACAH,EAHFG,IA5FZ,IAMqBA,EACfD,EACAE,EARFI,EAAI,GACJH,EAAI,SAAUJ,EAAGE,GACnB,GAlCI,QAkCAF,EAAEuL,cAAgB,IAAWvL,EAAEyJ,WAAQ,IAAWvJ,EAAEuJ,MAAxD,CACA,IAAIxJ,EAAIiI,MAAMC,QAAQnI,EAAEyJ,MAAQzJ,EAAEyJ,KAAO1J,EAAE,GAAIC,EAAEyJ,KAAM,GAAIvJ,EAAEuJ,MAC7D,OAAOV,KAAKC,UAAU/I,IAHhB,CAINA,EAAGE,GACDsI,GAAiBvI,EAOhBC,EANCF,EAAIF,EAAE,GAMVC,EANgB6J,QAAS,GAAI3J,EAAE2J,SAC3B1J,EAAI,GACDgH,OAAOC,KAAKnH,GAAG2H,QAAQ,SAAU5H,GACtC,IAAIE,EAAID,EAAED,GACVG,EAAEH,EAAE8M,eAAiB5M,IACnBC,GAEFG,EAAIL,EAAEsL,OACN/G,EA/CE,QA+CEvE,EAAEsL,OAAe,GAAKxL,EAAE,GAAIE,EAAEwJ,KAAM,GAAItJ,EAAEsJ,MAC9CpJ,EAAIN,EAAE,CACRgN,kBAAmB/M,EAAEgN,UAAUjI,OAC9B/E,EAAE8J,gBAAiB,GAAItF,EAAG,GAAIrE,EAAE2J,iBAC/BP,EAAI,EAoFR,OApIF,SAAWvJ,EAAGE,GACZ,OAAO2I,QAAQyD,IAAIpM,EAAEqE,IAAI,SAAUrE,GACjC,OAAOF,EAAE2I,IAAIzI,EAAG,WACd,OAAO2I,QAAQC,QAAQsB,EAAElK,SAEzB+F,KAAK,SAAUjG,GACjB,IAAID,EAAIC,EAAEsH,OAAO,SAAUtH,GACzB,OAAiBA,EAEfA,GADSqK,SAAW1J,GAAiC,KAA5B4J,KAAKC,MAAQxK,EAAEsK,WADnC,IAAUtK,IAIfC,EAAID,EAAEsH,OAAO,SAAUtH,GACzB,OAAiBA,EAEfA,GADSqK,SAAWF,GAAKI,KAAKC,MAAQxK,EAAEsK,YAAc,KADjD,IAAUtK,IAIfG,EAAI,GAAGsL,OAAOjL,EAAET,GAAIS,EAAEP,IAC1B,MAAO,CACLgN,WAAY,SAAoBjN,EAAGE,GACjC,OAAQ,IAAMD,EAAEa,QAAU,IAAMd,EAAI,EAAIC,EAAEa,OAAS,EAAId,GAAKE,GAE9DgN,eAA2B,EAAX/M,EAAEW,OAAaX,EAAEoE,IAAI,SAAUvE,GAC7C,OAAOyK,EAAEzK,KACNE,KA6GFiN,CAAEnN,EAAE0M,WAAYxM,GAAG+F,KAAK,SAAUjG,GACvC,OAAOwJ,EAAEhJ,EAAER,EAAEkN,gBAAgBE,UAAWpN,EAAEiN,cAqB9C,SAASzB,EAAExL,GACT,OAAOmH,OAAOC,KAAKpH,GAAGuE,IAAI,SAAUrE,GAClC,OAAOG,EAAE,QAASH,GAAIH,EAAIC,EAAEE,GAAI,oBAAsBiH,OAAO9C,UAAU+D,SAASvH,KAAKd,IAAM,mBAAqBoH,OAAO9C,UAAU+D,SAASvH,KAAKd,GAAKgJ,KAAKC,UAAUhJ,EAAEE,IAAMF,EAAEE,KAC7K,IAAIH,IACHsN,KAAK,KAGV,SAASnC,EAAElL,GACT,OAAOA,EAAEuE,IAAI,SAAUvE,GACrB,OAAOyM,EAAEzM,KAIb,SAASyM,EAAEzM,GACT,IAAIE,EAAIF,EAAEmL,QAAQtB,QAAQ,qBAAuB,CAC/CyD,oBAAqB,SACnB,GACJ,OAAOvN,EAAE,GAAIC,EAAG,CACdmL,QAASpL,EAAE,GAAIC,EAAEmL,QAAS,CACxBtB,QAAS9J,EAAE,GAAIC,EAAEmL,QAAQtB,QAAS,GAAI3J,OAKpC,SAAJqN,EAAevN,GACjB,IAekBA,EACZE,EACAH,EACAE,EACAO,EACAD,EACAH,EACAqI,EACAnI,EACAkE,EACAnE,EAxBYL,EAAGE,EACfD,EAFFC,EAAIF,EAAEwN,MACNvN,GAAcD,OAahB,IAAWA,EAAEyN,SAAWzN,EAAEyN,SAAWlE,EAblBrJ,EAamCA,EAZlDD,EAAI,CACNqN,oBAWuDtN,EAAE0N,OAVzDC,2BAA4BzN,GAEvB,CACL2J,QAAS,WACP,OAAO7J,IAAMuJ,EAAkBtJ,EAAI,IAErC6J,gBAAiB,WACf,OAAO9J,IAAMuJ,EAA0BtJ,EAAI,MAI7CO,GAAcR,EAiEhBD,EAAE,CACF6N,MAAO,CAAC,CACNvH,IAAK,GAAGoF,OAAOvL,EAAG,oBAClByK,OAAQ3I,EAAEgI,MACT,CACD3D,IAAK,GAAGoF,OAAOvL,EAAG,gBAClByK,OAAQ3I,EAAEiI,QACTwB,OApVP,SAAWzL,GACT,IAAK,IAAIE,EAAIF,EAAEc,OAAS,EAAO,EAAJZ,EAAOA,IAAK,CACrC,IAAIH,EAAI8N,KAAKC,MAAMD,KAAKE,UAAY7N,EAAI,IACpCD,EAAID,EAAEE,GACVF,EAAEE,GAAKF,EAAED,GAAIC,EAAED,GAAKE,EAGtB,OAAOD,EA6UKM,CAAE,CAAC,CACX+F,IAAK,GAAGoF,OAAOvL,EAAG,sBACjB,CACDmG,IAAK,GAAGoF,OAAOvL,EAAG,sBACjB,CACDmG,IAAK,GAAGoF,OAAOvL,EAAG,0BAEnBF,EAAG,CACJ6J,QAAS9J,EAAE,GAAIE,EAAE4J,UAAW,GAAI,CAC9BmE,eAAgB,qCACf,GAAIhO,EAAE6J,SACTC,gBAAiB/J,EAAE,GAAIE,EAAE6J,kBAAmB,GAAI9J,EAAE8J,mBAlF9C5J,EAAIF,EAAE0M,WACN3M,EAAIC,EAAEuM,OACNtM,EAAID,EAAE4M,UACNpM,EAAIR,EAAEiO,cACN1N,EAAIP,EAAEkO,eACN9N,EAAIJ,EAAE+L,SACNtD,EAAIzI,EAAEgN,UACN1M,EAAIN,EAAE4N,MACNpJ,EAAIxE,EAAE8J,gBACNzJ,EAAI,CACNqM,WAAYxM,EACZqM,OAAQxM,EACR6M,UAAW3M,EACXgO,cAAezN,EACf0N,eAAgB3N,EAChBwL,SAAU3L,EACV4M,UAAWvE,EACXoB,QAAS7J,EAAE6J,QACXC,gBAAiBtF,EACjBoJ,MAAOtN,EAAEiE,IAAI,SAAUvE,GACrB,OAAOyK,EAAEzK,KAEXmO,KAAM,SAAcnO,EAAGE,GAEb,SAAJD,IACF,OAAO4K,EAAExK,EAAGA,EAAEuN,MAAMtG,OAAO,SAAUtH,GACnC,OAAO,IAAMA,EAAE2K,OAAS3I,EAAEgI,QACxBhK,EAAGD,GAJT,IAAIA,EAAIyJ,EAAEtJ,EAAGG,EAAE0L,SAASoC,MAOxB,IAAI,UAAQ,IAAWpO,EAAEgK,UAAYhK,EAAEgK,UAAY/J,EAAE+J,WAAY,OAAO9J,IACxE,IAAIO,EAAI,CACN2K,QAASnL,EACToO,qBAAsBrO,EACtBsO,YAAa,CACXvE,gBAAiBzJ,EAAEyJ,gBACnBD,QAASxJ,EAAEwJ,UAGf,OAAOxJ,EAAE6N,eAAevF,IAAInI,EAAG,WAC7B,OAAOH,EAAE4N,cAActF,IAAInI,EAAG,WAC5B,OAAOH,EAAE4N,cAAc/E,IAAI1I,EAAGP,KAAKgG,KAAK,SAAUjG,GAChD,OAAO6I,QAAQyD,IAAI,CAACjM,EAAE4N,cAAsB,OAAEzN,GAAIR,KACjD,SAAUA,GACX,OAAO6I,QAAQyD,IAAI,CAACjM,EAAE4N,cAAsB,OAAEzN,GAAIqI,QAAQyF,OAAOtO,OAChEiG,KAAK,SAAUjG,GAChB,IAAIE,EAAIC,EAAEH,EAAG,GAEb,OADAE,EAAE,GACKA,EAAE,QAGZ,CACD0I,KAAM,SAAc5I,GAClB,OAAOK,EAAE6N,eAAehF,IAAI1I,EAAGR,OAIrCuO,MAAO,SAAevO,EAAGE,GACvB,OAAO2K,EAAExK,EAAGA,EAAEuN,MAAMtG,OAAO,SAAUtH,GACnC,OAAO,IAAMA,EAAE2K,OAAS3I,EAAEiI,SACxBjK,EAAGwJ,EAAEtJ,EAAGG,EAAE0L,SAASwC,WAyB7B,OAAO/J,EAAE,CACP6J,YAAa7N,EACbgN,MAAOtN,EACPsO,gBAAiB,SAAyBxO,EAAGE,GAC3CM,EAAEwM,UAAUyB,IAAI,CACdC,QAAS1O,EACT2O,QAASzO,KAGb0O,WAAY,WACV,OAAO/F,QAAQyD,IAAI,CAAC9L,EAAEyN,cAAc7E,QAAS5I,EAAE0N,eAAe9E,UAAUnD,KAAK,gBAE9EjG,EAAE6O,SAEC,SAAJC,EAAe9O,GACjB,OAAO,SAAUE,GACf,IAAIH,EAAuB,EAAnB4H,UAAU7G,aAAc,IAAW6G,UAAU,GAAKA,UAAU,GAAK,GAMzE,OAAOnD,EALC,CACN6J,YAAarO,EAAEqO,YACfb,MAAOxN,EAAEwN,MACTuB,UAAW7O,GAEDH,EAAE8O,UAGV,SAAJG,EAAehP,GACjB,OAAO,SAAUE,EAAGD,GAClB,IAAIE,EAAID,EAAEqE,IAAI,SAAUvE,GACtB,OAAOD,EAAE,GAAIC,EAAG,CACdiP,OAAQzD,EAAExL,EAAEiP,QAAU,QAG1B,OAAOjP,EAAEqO,YAAYF,KAAK,CACxB5C,OAAQX,EACRiB,KAAM,sBACNpC,KAAM,CACJyF,SAAU/O,GAEZ4J,WAAW,GACV9J,IAGC,SAAJkP,EAAenP,GACjB,OAAO,SAAUE,EAAGC,GAClB,OAAO0I,QAAQyD,IAAIpM,EAAEqE,IAAI,SAAUrE,GACjC,IAAIM,EAAIN,EAAE+O,OACN1O,EAAIC,EAAE4O,UACNhP,EAAII,EAAE6O,WACN5G,EArnBV,SAAWzI,EAAGE,GACZ,GAAI,MAAQF,EAAG,MAAO,GAEtB,IAAID,EACAE,EACAE,EAAI,SAAUH,EAAGE,GACnB,GAAI,MAAQF,EAAG,MAAO,GACtB,IAAID,EACAE,EACAE,EAAI,GACJK,EAAI2G,OAAOC,KAAKpH,GAEpB,IAAKC,EAAI,EAAGA,EAAIO,EAAEM,OAAQb,IACxBF,EAAIS,EAAEP,GAAoB,GAAhBC,EAAEwJ,QAAQ3J,KAAYI,EAAEJ,GAAKC,EAAED,IAG3C,OAAOI,EAXD,CAYNH,EAAGE,GAEL,GAAIiH,OAAOE,sBAAuB,CAChC,IAAI7G,EAAI2G,OAAOE,sBAAsBrH,GAErC,IAAKC,EAAI,EAAGA,EAAIO,EAAEM,OAAQb,IACxBF,EAAIS,EAAEP,GAAoB,GAAhBC,EAAEwJ,QAAQ3J,IAAWoH,OAAO9C,UAAUiL,qBAAqBzO,KAAKb,EAAGD,KAAOI,EAAEJ,GAAKC,EAAED,IAIjG,OAAOI,EA0lBKF,CAAEO,EAAG,CAAC,YAAa,eAC3B,OAAOsO,EAAE9O,EAAF8O,CAAK5O,EAAE6O,UAAW,CACvBF,QAAS,CACPU,qBAAsBC,KAEvBD,qBAAqBhP,EAAGH,EAAGL,EAAE,GAAII,EAAG,GAAIsI,QAIzC,SAAJgH,EAAezP,GACjB,OAAO,SAAUE,EAAGH,GAClB,OAAOC,EAAEqO,YAAYF,KAAK,CACxB5C,OAAQX,EACRiB,KAAMxL,EAAE,qBAAsBL,EAAE+O,WAChCtF,KAAM,CACJ9D,MAAOzF,GAET6J,WAAW,GACVhK,IAxKP,IA2KIyP,EAAI,SAAWxP,GACjB,OAAO,SAAUE,EAAGH,EAAGE,GACrB,OAAOD,EAAEqO,YAAYF,KAAK,CACxB5C,OAAQX,EACRiB,KAAMxL,EAAE,+BAAgCL,EAAE+O,UAAW7O,GACrDuJ,KAAM,CACJ4F,WAAYtP,GAEdgK,WAAW,GACV9J,KAOP,SAASyP,EAAE1P,EAAGE,EAAGD,GACf,IACIO,EAAI,CACNgN,MAAOxN,EACP0N,OAAQxN,EACR6L,SAAU,CACRC,QAAS,EACTmC,KAAM,EACNI,MAAO,IAET3B,UAAW,CACTC,KAAM,SAAc7M,GAClB,OAAO,IAAI6I,QAAQ,SAAU3I,GAC3B,IAAIH,EAAI,IAAI4P,eACZ5P,EAAE0F,KAAKzF,EAAEuL,OAAQvL,EAAEqG,KAAK,GAAKc,OAAOC,KAAKpH,EAAE6J,SAASjC,QAAQ,SAAU1H,GACpE,OAAOH,EAAE6P,iBAAiB1P,EAAGF,EAAE6J,QAAQ3J,MAIjC,SAAJC,EAAeH,EAAGC,GACpB,OAAO4P,WAAW,WAChB9P,EAAE+P,QAAS5P,EAAE,CACXmK,OAAQ,EACR8B,QAASlM,EACToM,YAAY,KAEb,IAAMrM,GARX,IAAIC,EAUAO,EAAIL,EAAEH,EAAE8L,eAAgB,sBAE5B/L,EAAEgQ,mBAAqB,WACrBhQ,EAAEiQ,WAAajQ,EAAEkQ,aAAU,IAAWhQ,IAAMiQ,aAAa1P,GAAIP,EAAIE,EAAEH,EAAEiM,gBAAiB,oBACrFlM,EAAEoQ,QAAU,WACb,IAAMpQ,EAAEsK,SAAW6F,aAAa1P,GAAI0P,aAAajQ,GAAIC,EAAE,CACrDiM,QAASpM,EAAEqQ,cAAgB,yBAC3B/F,OAAQtK,EAAEsK,OACVgC,YAAY,MAEbtM,EAAEsQ,OAAS,WACZH,aAAa1P,GAAI0P,aAAajQ,GAAIC,EAAE,CAClCiM,QAASpM,EAAEqQ,aACX/F,OAAQtK,EAAEsK,OACVgC,YAAY,KAEbtM,EAAE8M,KAAK7M,EAAEyJ,UAIlB8C,QAlDI,EAkDY,CACd+D,MAAO,SAAetQ,EAAGE,GACvB,OAAsC2I,QAAQC,WAEhD0D,KAAM,SAAcxM,EAAGE,GACrB,OAAqC2I,QAAQC,WAE/CtC,MAAO,SAAexG,EAAGE,GACvB,OAAOuG,QAAQD,MAAMxG,EAAGE,GAAI2I,QAAQC,aAGxCoF,eAAgBzF,IAChBwF,cAAexF,EAAE,CACfC,cAAc,IAEhBgE,WA3lBJ,SAAStM,EAAEJ,GACT,IAAIE,EAAIM,EAAER,EAAEuQ,QACRxQ,EAAIG,EAAEsQ,QACV,YAAO,IAAWzQ,EAAI,CACpB4I,IAAK,SAAa3I,EAAGE,EAAhB,GACH,IAAIH,EAAuB,EAAnB4H,UAAU7G,aAAc,IAD7B,EAAA,EACsE,CACvE8H,KAAM,WACJ,OAAOC,QAAQC,YAInB,OADQ5I,IACC+F,KAAK,SAAUjG,GACtB,OAAO6I,QAAQyD,IAAI,CAACtM,EAAGD,EAAE6I,KAAK5I,OAC7BiG,KAAK,SAAUjG,GAChB,OAAOG,EAAEH,EAAG,GAAG,MAGnBkJ,IAAK,SAAalJ,EAAGE,GACnB,OAAO2I,QAAQC,QAAQ5I,IAEzBiJ,OAAU,SAAiBnJ,GACzB,OAAO6I,QAAQC,WAEjBM,MAAO,WACL,OAAOP,QAAQC,YAEf,CACFH,IAAK,SAAa3I,EAAGC,EAAhB,GACH,IAAIE,EAAuB,EAAnBwH,UAAU7G,aAAc,IAD7B,EAAA,EACsE,CACvE8H,KAAM,WACJ,OAAOC,QAAQC,YAGnB,OAAO/I,EAAE4I,IAAI3I,EAAGC,EAAGE,GAAU,MAAE,WAC7B,OAAOC,EAAE,CACPmQ,OAAQrQ,IACPyI,IAAI3I,EAAGC,EAAGE,MAGjB+I,IAAK,SAAalJ,EAAGC,GACnB,OAAOF,EAAEmJ,IAAIlJ,EAAGC,GAAU,MAAE,WAC1B,OAAOG,EAAE,CACPmQ,OAAQrQ,IACPgJ,IAAIlJ,EAAGC,MAGdkJ,OAAU,SAAiBnJ,GACzB,OAAOD,EAAU,OAAEC,GAAU,MAAE,WAC7B,OAAOI,EAAE,CACPmQ,OAAQrQ,IACC,OAAEF,MAGjBoJ,MAAO,WACL,OAAOrJ,EAAEqJ,QAAe,MAAE,WACxB,OAAOhJ,EAAE,CACPmQ,OAAQrQ,IACPkJ,YAkiBKhJ,CAAE,CACZmQ,OAAQ,CA9oBd,SAAWvQ,GAGD,SAAJC,IACF,YAAO,IAAWC,IAAMA,EAAIF,EAAEyQ,cAAgB9O,OAAO8O,cAAevQ,EAE9D,SAAJM,IACF,OAAOuI,KAAKE,MAAMhJ,IAAIyQ,QAAQ3Q,IAAM,MANtC,IAAIG,EACAH,EAAI,2BAA2B0L,OAAOzL,EAAE2Q,KAQ5C,MAAO,CACLhI,IAAK,SAAa3I,EAAGE,EAAhB,GACH,IAAIH,EAAuB,EAAnB4H,UAAU7G,aAAc,IAD7B,EAAA,EACsE,CACvE8H,KAAM,WACJ,OAAOC,QAAQC,YAGnB,OAAOD,QAAQC,UAAU7C,KAAK,WAC5B,IAAIlG,EAAIgJ,KAAKC,UAAUhJ,GACnBC,EAAIO,IAAIT,GACZ,OAAO8I,QAAQyD,IAAI,CAACrM,GAAKC,SAAK,IAAWD,MACxCgG,KAAK,SAAUjG,GAChB,IAAIE,EAAIC,EAAEH,EAAG,GACTC,EAAIC,EAAE,GACNM,EAAIN,EAAE,GACV,OAAO2I,QAAQyD,IAAI,CAACrM,EAAGO,GAAKT,EAAE6I,KAAK3I,OAClCgG,KAAK,SAAUjG,GAChB,OAAOG,EAAEH,EAAG,GAAG,MAGnBkJ,IAAK,SAAalJ,EAAGE,GACnB,OAAO2I,QAAQC,UAAU7C,KAAK,WAC5B,IAAI9F,EAAIK,IACR,OAAOL,EAAE4I,KAAKC,UAAUhJ,IAAME,EAAGD,IAAI2Q,QAAQ7Q,EAAGgJ,KAAKC,UAAU7I,IAAKD,KAGxEiJ,OAAU,SAAiBnJ,GACzB,OAAO6I,QAAQC,UAAU7C,KAAK,WAC5B,IAAI/F,EAAIM,WACDN,EAAE6I,KAAKC,UAAUhJ,IAAKC,IAAI2Q,QAAQ7Q,EAAGgJ,KAAKC,UAAU9I,OAG/DkJ,MAAO,WACL,OAAOP,QAAQC,UAAU7C,KAAK,WAC5BhG,IAAI4Q,WAAW9Q,OAkmBRQ,CAAE,CACToQ,IAAK,GAAGlF,OAAO,QAAS,KAAKA,OAAOzL,KAClCyI,OAENuE,UAxSJ,SAAWhN,GACT,IAAIE,EAAI,CACN6E,MAAO,2BAA2B0G,OAAOzL,EAAG,KAC5CyO,IAAK,SAAazO,GAChB,IAAID,EAAI,KAAK0L,OAAOzL,EAAE0O,SAASjD,YAAO,IAAWzL,EAAE2O,QAAU,KAAKlD,OAAOzL,EAAE2O,QAAS,KAAO,IAC3F,OAAQ,IAAMzO,EAAE6E,MAAM2E,QAAQ3J,KAAOG,EAAE6E,MAAQ,GAAG0G,OAAOvL,EAAE6E,OAAO0G,OAAO1L,IAAKG,IAGlF,OAAOA,EAgSM4Q,CAAE,SAASrC,IAAI,CACxBC,QAAS,UACTC,QAAS,SAEXlB,SAAUlE,GAEZ,OAAOgE,EAAExN,EAAE,GAAIS,EAAG,GAAIP,EAAG,CACvB4O,QAAS,CACP/J,OAAQkK,EACRO,qBAAsBJ,EACtB4B,gBAAiB/B,EACjBgC,6BAA8B7B,EAC9B9L,UAAW,SAAmBrD,GAC5B,OAAO,SAAUE,GACf,OAAO4O,EAAE9O,EAAF8O,CAAK5O,EAAG,CACb2O,QAAS,CACP/J,OAAQ2K,EACRF,qBAAsBC,WASpC,OAAOE,EAAEf,QAAU,QAASe,GA/xB5B,YADS1P,OAET,KADoBY,EAA0B,YAAckG,EAAQlG,UAAa,IAAsBK,EAASA,EAAOL,QAAUV,IAAM,mBAAqBL,GAAUA,EAAOoR,IAAMpR,EAAOK,IAAMF,EAAIA,GAAKkR,MAAMjP,cAAgB/B,KAkyB/N,IAAIiR,EAAE,CAAC,SAASnQ,EAAQC,EAAOL,GACjC,aAEA,IAAIwQ,EAAQpQ,EAAQ,mBAEpBC,EAAOL,QAAU,SAAUyQ,EAAQC,EAAU7K,GAC3C,IAAI8K,EAAgB,GAChBC,GAAY,EACZC,GAAU,EAEd,SAASC,IACP,GAAIF,EAAW,MAAM,IAAI/Q,MAAM,+BAC/B+Q,GAAY,EAEZ,IAAK,IAAIpR,EAAI,EAAGA,EAAImR,EAAczQ,OAAQV,GAAK,EAC7C,IACEiR,EAAOE,EAAcnR,GAAIgR,EAAMG,EAAcnR,EAAI,IAAKsF,GACtD,MAAO1F,GACPyG,EAAQD,MAAMxG,GAIlBwR,GAAY,EAGd,SAAS9L,IACF+L,IACHA,GAAU,EACVH,EAAS,WACPG,GAAU,EACVC,OAyBN,OApBAhM,EAAOgM,KAAOA,EAoBP,CACLzN,MAnBF,SAAe0N,EAAMC,GACnB,GAAiB,MAAbA,GAAuC,MAAlBA,EAAU1N,MAAqC,mBAAd0N,EACxD,MAAM,IAAIrJ,UAAU,gEAGtB,IAAIsJ,EAAQN,EAAc7H,QAAQiI,GAErB,GAATE,IACFN,EAAcO,OAAOD,EAAO,GAC5BR,EAAOM,EAAM,GAAIjM,IAGF,MAAbkM,IACFL,EAAc9J,KAAKkK,EAAMC,GACzBP,EAAOM,EAAMP,EAAMQ,GAAYlM,KAMjCA,OAAQA,KAIV,CAACqM,kBAAkB,KAAKC,EAAE,CAAC,SAAShR,EAAQC,EAAOL,IACrD,SAAWqR,GACX,aAEA,SAASnL,EAAQC,GAAmV,OAAtOD,EAArD,mBAAXE,QAAoD,iBAApBA,OAAOC,SAAmC,SAAiBF,GAAO,cAAcA,GAA2B,SAAiBA,GAAO,OAAOA,GAAyB,mBAAXC,QAAyBD,EAAIG,cAAgBF,QAAUD,IAAQC,OAAO3C,UAAY,gBAAkB0C,IAAyBA,GAEnX,IAAIqK,EAAQpQ,EAAQ,mBAEhBgB,EAAIhB,EAAQ,yBAEZ6H,EAAU7H,EAAQ,sBAElBkR,EAAgBlR,EAAQ,qBAExBmR,EAAgBnR,EAAQ,qBAExBoR,EAAkBpR,EAAQ,+BAE1BqR,EAASrR,EAAQ,sBAEjBsR,EAAW,GAEfrR,EAAOL,QAAU,SAAU2R,EAASC,GAClC,IAAIC,EAEJ,SAASC,EAAQ7G,EAAMpC,EAAMkJ,GAG3B,GAFA9G,EAAOqG,EAAcrG,EAAMpC,GAEV,MAAbgJ,EAAmB,CACrBA,IACA,IAAIG,EAAQD,EAAUA,EAAQC,MAAQ,KAClCrM,EAAQoM,EAAUA,EAAQpM,MAAQ,KAClCoM,GAAWA,EAAQtJ,QAASkJ,EAAQM,QAAQC,aAAaF,EAAOrM,EAAOwM,EAAMC,OAASnH,GAAW0G,EAAQM,QAAQI,UAAUL,EAAOrM,EAAOwM,EAAMC,OAASnH,QAE5J0G,EAAQW,SAASzR,KAAOsR,EAAMC,OAASnH,EAI3C,IACI+F,EACAuB,EACAC,EACAC,EAJAC,EAAkBhB,EAMlBiB,EAAOR,EAAMQ,KAAO,GAExB,SAASR,EAAMpB,EAAM6B,EAAcC,GACjC,GAAY,MAAR9B,EAAc,MAAM,IAAIlR,MAAM,wEAIlC,IAiBIiT,EAjBAd,EAAQ,EACRe,EAAWxM,OAAOC,KAAKqM,GAAQlP,IAAI,SAAUwO,GAC/C,GAAiB,MAAbA,EAAM,GAAY,MAAM,IAAIa,YAAY,gCAE5C,GAAI,wBAAwBC,KAAKd,GAC/B,MAAM,IAAIa,YAAY,wEAGxB,MAAO,CACLb,MAAOA,EACPnB,UAAW6B,EAAOV,GAClBe,MAAO1B,EAAgBW,MAGvBgB,EAAoC,mBAAjB9B,EAA8BA,EAAepC,WAChElP,EAAIkI,EAAQC,UACZkL,GAAY,EAIhB,IAFAvB,EAAY,OAERe,EAAsB,CACxB,IAAIS,EAAc9B,EAAcqB,GAEhC,IAAKG,EAASO,KAAK,SAAU9T,GAC3B,OAAOA,EAAE0T,MAAMG,KAEf,MAAM,IAAIE,eAAe,gDAI7B,SAASC,IACPJ,GAAY,EAGZ,IAAIhB,EAAST,EAAQW,SAASmB,KAEN,MAApBtB,EAAMC,OAAO,KACfA,EAAST,EAAQW,SAASpO,OAASkO,EAEX,MAApBD,EAAMC,OAAO,IAEG,OADlBA,EAAST,EAAQW,SAASoB,SAAWtB,GAC1B,KAAYA,EAAS,IAAMA,IAO1C,IAAInH,EAAOmH,EAAOvH,SAASpC,QAAQ,2BAA4BkL,oBAAoBC,MAAMzB,EAAMC,OAAOlS,QAClG2I,EAAO0I,EAActG,GAGzB,SAAS4I,IACP,GAAI5I,IAAS2H,EAAc,MAAM,IAAI/S,MAAM,mCAAqC+S,GAChFd,EAAQc,EAAc,KAAM,CAC1BnK,SAAS,IALbgJ,EAAO5I,EAAKwF,OAAQsD,EAAQM,QAAQD,OAWpC,SAAS8B,EAAKtU,GAIZ,KAAOA,EAAIuT,EAAS7S,OAAQV,IAC1B,GAAIuT,EAASvT,GAAG0T,MAAMrK,GAAO,CAC3B,IAAIkL,EAAUhB,EAASvT,GAAGwR,UACtBgD,EAAejB,EAASvT,GAAG2S,MAC3B8B,EAAYF,EAEZG,EAASzB,EAAc,SAAoB0B,GAC7C,GAAID,IAAWzB,EAAf,CACA,GAAI0B,IAASxB,EAAM,OAAOmB,EAAKtU,EAAI,GACnCwR,EAAoB,MAARmD,GAAsC,mBAAdA,EAAK7Q,MAAuC,mBAAT6Q,EAA8B,MAAPA,EAC9F5B,EAAQ1J,EAAKwF,OAAQmE,EAAcvH,EAAMwH,EAAc,KACvDC,EAAkBqB,EAAQtD,OAASsD,EAAU,KAC/B,IAAV/B,EAAaJ,EAAY9M,UAC3BkN,EAAQ,EACRJ,EAAY9M,OAAOgM,UAevB,YATIiD,EAAQzQ,MAA2B,mBAAZyQ,GACzBA,EAAU,GACVG,EAAOD,IACEF,EAAQK,QACjBrU,EAAEsF,KAAK,WACL,OAAO0O,EAAQK,QAAQvL,EAAKwF,OAAQpD,EAAM+I,KACzC3O,KAAK6O,EAAQL,GACXK,EAAO,QAMlBL,IAvCFC,CAAK,GAsEP,OAvBAjC,EAAY,WACLuB,IACHA,GAAY,EACZD,EAAUK,KAI2B,mBAA9B7B,EAAQM,QAAQI,WACzBS,EAAW,WACTnB,EAAQ9P,oBAAoB,WAAYgQ,GAAW,IAGrDF,EAAQjQ,iBAAiB,WAAYmQ,GAAW,IACnB,MAApBM,EAAMC,OAAO,KACtBP,EAAY,KAEZiB,EAAW,WACTnB,EAAQ9P,oBAAoB,aAAc2R,GAAc,IAG1D7B,EAAQjQ,iBAAiB,aAAc8R,GAAc,IAGhD5B,EAAYvO,MAAM0N,EAAM,CAC7BsD,eAAgB,WAEd,UADArC,EAAQA,EAAQ,EAAI,IACDN,IAAagB,IAElC9N,SAAU4O,EACVV,SAAUA,EACVxP,KAAM,WACJ,GAAK0O,GAASN,IAAagB,EAA3B,CAEA,IAAInO,EAAQ,CAACiM,EAAMQ,EAAWuB,EAAMxC,IAAKwC,IAEzC,OADIG,IAAiBnO,EAAQmO,EAAgBjC,OAAOlM,EAAM,KACnDA,MA2Fb,OAtFA4N,EAAM7J,IAAM,SAAU2C,EAAMpC,EAAMkJ,GACb,MAAfU,KACFV,EAAUA,GAAW,IACbtJ,SAAU,GAGpBgK,EAAc,KACdX,EAAQ7G,EAAMpC,EAAMkJ,IAGtBI,EAAMpK,IAAM,WACV,OAAOyK,GAGTL,EAAMC,OAAS,KACfD,EAAMmC,KAAO,CACXhR,KAAM,SAAciB,GAClB,IAGIP,EACAnD,EAJAkR,EAAUxN,EAAMgO,MAAMR,QAEtBQ,EAAQ,GAGZd,EAAOc,EAAOhO,EAAMgO,OAGpBA,EAAMgC,SAAWhC,EAAMR,QAAUQ,EAAMxC,IAAMwC,EAAMiC,OAASjC,EAAM3N,SAAW2N,EAAM8B,eAAiB9B,EAAMjO,SAAWiO,EAAMkC,eAAiBlC,EAAMO,SAAW,KAI7J,IAAI4B,EAAQtT,EAAEmD,EAAMgO,MAAMgC,UAAY,IAAKhC,EAAOhO,EAAMoQ,UAiDxD,OA1CID,EAAMnC,MAAMqC,SAAWC,QAAQH,EAAMnC,MAAMqC,YAC7CF,EAAMnC,MAAM1R,KAAO,KACnB6T,EAAMnC,MAAM,iBAAmB,OAG/BmC,EAAMnC,MAAMvO,QAAU,OAEtBA,EAAU0Q,EAAMnC,MAAMvO,QACtBnD,EAAO6T,EAAMnC,MAAM1R,KACnB6T,EAAMnC,MAAM1R,KAAOsR,EAAMC,OAASvR,EAElC6T,EAAMnC,MAAMvO,QAAU,SAAU5E,GAC9B,IAAIkG,EAEmB,mBAAZtB,EACTsB,EAAStB,EAAQ/D,KAAKb,EAAE0V,cAAe1V,GACnB,MAAX4E,GAAwC,WAArBkC,EAAQlC,IACI,mBAAxBA,EAAQ+Q,aACxB/Q,EAAQ+Q,YAAY3V,IAaX,IAAXkG,GAAqBlG,EAAE4V,kBACV,IAAb5V,EAAE6V,QAA4B,IAAZ7V,EAAE8V,OAA2B,IAAZ9V,EAAE8V,OACpC9V,EAAE0V,cAAc3S,QAAqC,UAA3B/C,EAAE0V,cAAc3S,QAC1C/C,EAAE+V,SAAY/V,EAAEgW,SAAYhW,EAAEiW,UAAajW,EAAEkW,SAC5ClW,EAAEmW,iBACFnW,EAAE0F,QAAS,EACXqN,EAAM7J,IAAIzH,EAAM,KAAMkR,MAKrB2C,IAIXvC,EAAMqD,MAAQ,SAAUzF,GACtB,OAAOwC,GAAgB,MAAPxC,EAAcwC,EAAMxC,GAAOwC,GAGtCJ,KAGNlS,KAAKoC,KAAKjC,EAAQ,UAAUiR,eAC7B,CAACoE,qBAAqB,EAAEC,oBAAoB,GAAGC,8BAA8B,GAAGC,oBAAoB,GAAGC,qBAAqB,GAAGC,wBAAwB,GAAG3E,kBAAkB,GAAG4E,OAAS,KAAKC,EAAE,CAAC,SAAS5V,EAAQC,EAAOL,GAC1N,aAEA,IAAIiW,EAAc7V,EAAQ,wBAE1B6V,EAAYpS,MAAQzD,EAAQ,kBAC5B6V,EAAYC,SAAW9V,EAAQ,qBAC/BC,EAAOL,QAAUiW,GAEf,CAACE,oBAAoB,GAAGC,uBAAuB,GAAGC,iBAAiB,KAAKC,EAAE,CAAC,SAASlW,EAAQC,EAAOL,GACrG,aAQQ,SAAJoB,IACF,OAAO6U,EAAYnP,MAAMzE,KAAM0E,WAPjC,IAAIkP,EAAc7V,EAAQ,iBAEtBmK,EAAUnK,EAAQ,aAElBwR,EAAcxR,EAAQ,kBAM1BgB,EAAEA,EAAI6U,EACN7U,EAAEyC,MAAQoS,EAAYpS,MACtBzC,EAAE8U,SAAWD,EAAYC,SACzB9U,EAAEiC,MAAQuO,EAAYvO,MACtBjC,EAAE+Q,MAAQ/R,EAAQ,WAClBgB,EAAEqP,OAASrQ,EAAQ,YACnBgB,EAAE0D,OAAS8M,EAAY9M,OACvB1D,EAAEmJ,QAAUA,EAAQA,QACpBnJ,EAAEmV,MAAQhM,EAAQgM,MAClBnV,EAAEoV,iBAAmBpW,EAAQ,uBAC7BgB,EAAEqV,iBAAmBrW,EAAQ,uBAC7BgB,EAAEmQ,cAAgBnR,EAAQ,oBAC1BgB,EAAEkQ,cAAgBlR,EAAQ,oBAC1BgB,EAAEmD,MAAQnE,EAAQ,kBAClBgB,EAAEsV,gBAAkBtW,EAAQ,sBAC5BC,EAAOL,QAAUoB,GAEf,CAACuV,gBAAgB,EAAEC,iBAAiB,EAAEC,mBAAmB,GAAGC,mBAAmB,GAAGC,qBAAqB,GAAGC,sBAAsB,GAAGC,sBAAsB,GAAGC,WAAW,GAAGC,iBAAiB,GAAGC,YAAY,GAAGC,UAAU,KAAKC,EAAE,CAAC,SAASlX,EAAQC,EAAOL,GACzP,aAEA,IAAIyQ,EAASrQ,EAAQ,YAErBC,EAAOL,QAAUI,EAAQ,qBAARA,CAA8BqQ,EAAQ8G,sBAAuB1R,UAE5E,CAAC2R,qBAAqB,EAAEN,WAAW,KAAKO,EAAE,CAAC,SAASrX,EAAQC,EAAOL,GACrE,aAEAK,EAAOL,QAAUuG,OAAOkL,QAAU,SAAUtP,EAAQuV,GAC9CA,GAAQnR,OAAOC,KAAKkR,GAAQ1Q,QAAQ,SAAU+I,GAChD5N,EAAO4N,GAAO2H,EAAO3H,OAIvB,IAAI4H,GAAG,CAAC,SAASvX,EAAQC,EAAOL,GAClC,aAEA,IAAIyW,EAAmBrW,EAAQ,wBAE3BqR,EAASrR,EAAQ,YAGrBC,EAAOL,QAAU,SAAU4X,EAAUvJ,GACnC,GAAI,wBAAwB4E,KAAK2E,GAC/B,MAAM,IAAI5E,YAAY,gDAGxB,GAAc,MAAV3E,EAAgB,OAAOuJ,EAC3B,IAAIC,EAAaD,EAAS9O,QAAQ,KAC9BgP,EAAYF,EAAS9O,QAAQ,KAC7BiP,EAAWD,EAAY,EAAIF,EAAS1X,OAAS4X,EAC7CE,EAAUH,EAAa,EAAIE,EAAWF,EACtC5M,EAAO2M,EAAShE,MAAM,EAAGoE,GACzBjT,EAAQ,GACZ0M,EAAO1M,EAAOsJ,GACd,IAAI4J,EAAWhN,EAAKxC,QAAQ,wBAAyB,SAAUrH,EAAG2O,EAAKmI,GAGrE,cAFOnT,EAAMgL,GAEM,MAAf1B,EAAO0B,GAAqB3O,EAEzB8W,EAAW7J,EAAO0B,GAAOrH,mBAAmByP,OAAO9J,EAAO0B,OAG/DqI,EAAgBH,EAASnP,QAAQ,KACjCuP,EAAeJ,EAASnP,QAAQ,KAChCwP,EAAcD,EAAe,EAAIJ,EAAS/X,OAASmY,EACnDE,EAAaH,EAAgB,EAAIE,EAAcF,EAC/C9S,EAAS2S,EAASrE,MAAM,EAAG2E,GACb,GAAdV,IAAiBvS,GAAUsS,EAAShE,MAAMiE,EAAYE,IACrC,GAAjBK,IAAoB9S,IAAWuS,EAAa,EAAI,IAAM,KAAOI,EAASrE,MAAMwE,EAAeE,IAC/F,IAAIE,EAAc/B,EAAiB1R,GAInC,OAHIyT,IAAalT,IAAWuS,EAAa,GAAKO,EAAgB,EAAI,IAAM,KAAOI,GAC9D,GAAbV,IAAgBxS,GAAUsS,EAAShE,MAAMkE,IACzB,GAAhBO,IAAmB/S,IAAWwS,EAAY,EAAI,GAAK,KAAOG,EAASrE,MAAMyE,IACtE/S,IAGP,CAACmT,uBAAuB,GAAGC,WAAW,IAAIC,GAAG,CAAC,SAASvY,EAAQC,EAAOL,GACxE,aAEA,IAAIuR,EAAgBnR,EAAQ,WAO5BC,EAAOL,QAAU,SAAU4X,GACzB,IAAIgB,EAAerH,EAAcqG,GAC7BiB,EAAetS,OAAOC,KAAKoS,EAAavK,QACxC7H,EAAO,GACPsS,EAAS,IAAIC,OAAO,IAAMH,EAAa3N,KAAKxC,QAIhD,qDAAsD,SAAUrH,EAAG2O,EAAKiJ,GACtE,OAAW,MAAPjJ,EAAoB,KAAO3O,GAC/BoF,EAAKK,KAAK,CACRuH,EAAG2B,EACH5Q,EAAa,QAAV6Z,IAES,QAAVA,EAAwB,OACd,MAAVA,EAAsB,aACnB,WAAaA,GAAS,OAC1B,KACL,OAAO,SAAUnQ,GAGf,IAAK,IAAIrJ,EAAI,EAAGA,EAAIqZ,EAAa3Y,OAAQV,IACvC,GAAIoZ,EAAavK,OAAOwK,EAAarZ,MAAQqJ,EAAKwF,OAAOwK,EAAarZ,IAAK,OAAO,EAIpF,IAAKgH,EAAKtG,OAAQ,OAAO4Y,EAAO7F,KAAKpK,EAAKoC,MAC1C,IAAIgO,EAASH,EAAOI,KAAKrQ,EAAKoC,MAC9B,GAAc,MAAVgO,EAAgB,OAAO,EAE3B,IAASzZ,EAAI,EAAGA,EAAIgH,EAAKtG,OAAQV,IAC/BqJ,EAAKwF,OAAO7H,EAAKhH,GAAG4O,GAAK5H,EAAKhH,GAAGL,EAAI8Z,EAAOzZ,EAAI,GAAKmU,mBAAmBsF,EAAOzZ,EAAI,IAGrF,OAAO,KAIT,CAAC2Z,UAAU,KAAKC,GAAG,CAAC,SAAShZ,EAAQC,EAAOL,GAC9C,aAEA,IAAIwW,EAAmBpW,EAAQ,wBAG/BC,EAAOL,QAAU,SAAUyF,GACzB,IAAIoS,EAAapS,EAAIqD,QAAQ,KACzBgP,EAAYrS,EAAIqD,QAAQ,KACxBiP,EAAWD,EAAY,EAAIrS,EAAIvF,OAAS4X,EACxCE,EAAUH,EAAa,EAAIE,EAAWF,EACtC5M,EAAOxF,EAAImO,MAAM,EAAGoE,GAASvP,QAAQ,UAAW,KAKpD,OAJKwC,GACa,MAAZA,EAAK,KAAYA,EAAO,IAAMA,GAChB,EAAdA,EAAK/K,QAAwC,MAA1B+K,EAAKA,EAAK/K,OAAS,KAAY+K,EAAOA,EAAK2I,MAAM,GAAI,KAFnE3I,EAAO,IAIX,CACLA,KAAMA,EACNoD,OAAQwJ,EAAa,EAAI,GAAKrB,EAAiB/Q,EAAImO,MAAMiE,EAAa,EAAGE,OAI3E,CAACsB,uBAAuB,KAAKC,GAAG,CAAC,SAASlZ,EAAQC,EAAOL,IAC3D,SAAWqR,GACX,aAGA,SAASnL,EAAQC,GAAmV,OAAtOD,EAArD,mBAAXE,QAAoD,iBAApBA,OAAOC,SAAmC,SAAiBF,GAAO,cAAcA,GAA2B,SAAiBA,GAAO,OAAOA,GAAyB,mBAAXC,QAAyBD,EAAIG,cAAgBF,QAAUD,IAAQC,OAAO3C,UAAY,gBAAkB0C,IAAyBA,GAE7V,SAAlBuQ,EAA2C6C,GAC7C,KAAMlX,gBAAgBqU,GAAkB,MAAM,IAAI7W,MAAM,qCACxD,GAAwB,mBAAb0Z,EAAyB,MAAM,IAAI5R,UAAU,+BACxD,IAAI2I,EAAOjO,KACPmX,EAAY,GACZC,EAAY,GACZC,EAAiBjY,EAAQ+X,GAAW,GACpCG,EAAgBlY,EAAQgY,GAAW,GACnCG,EAAWtJ,EAAKuJ,UAAY,CAC9BL,UAAWA,EACXC,UAAWA,GAETtG,EAAoC,mBAAjB9B,EAA8BA,EAAepC,WAEpE,SAASxN,EAAQqY,EAAMC,GACrB,OAAO,SAASC,EAAQ7V,GACtB,IAAIkB,EAEJ,IACE,IAAI0U,GAAyB,MAAT5V,GAAqC,WAAnB+B,EAAQ/B,IAAwC,mBAAVA,GAAwD,mBAAvBkB,EAAOlB,EAAMkB,MAIxH8N,EAAU,WACH4G,GAAgC,IAAhBD,EAAK5Z,QAAc2F,QAAQD,MAAM,wCAAyCzB,GAE/F,IAAK,IAAI3E,EAAI,EAAGA,EAAIsa,EAAK5Z,OAAQV,IAC/Bsa,EAAKta,GAAG2E,GAGVqV,EAAUtZ,OAAS,EAAGuZ,EAAUvZ,OAAS,EACzC0Z,EAAS5H,MAAQ+H,EAEjBH,EAASK,MAAQ,WACfD,EAAQ7V,UAfkI,CAC9I,GAAIA,IAAUmM,EAAM,MAAM,IAAI3I,UAAU,uCACxCuS,EAAY7U,EAAK7B,KAAKW,KAiBxB,MAAO/E,GACPua,EAAcva,KAKpB,SAAS8a,EAAY7U,GACnB,IAAI8U,EAAO,EAEX,SAASC,EAAIC,GACX,OAAO,SAAUlW,GACF,EAATgW,KACJE,EAAGlW,IAIP,IAAIoL,EAAU6K,EAAIT,GAElB,IACEtU,EAAK+U,EAAIV,GAAiBnK,GAC1B,MAAOnQ,GACPmQ,EAAQnQ,IAIZ8a,EAAYX,GAGd7C,EAAgBjT,UAAU4B,KAAO,SAAUiV,EAAaC,GACtD,IAcIC,EAAaC,EAbbb,EADOvX,KACSwX,UAEpB,SAASa,EAAOC,EAAUb,EAAMrS,EAAMuK,GACpC8H,EAAKjT,KAAK,SAAU1C,GAClB,GAAwB,mBAAbwW,EAAyBlT,EAAKtD,QAAY,IACnDqW,EAAYG,EAASxW,IACrB,MAAO/E,GACHqb,GAAYA,EAAWrb,MAGD,mBAAnBwa,EAASK,OAAwBjI,IAAU4H,EAAS5H,OAAO4H,EAASK,QAIjF,IAAIW,EAAU,IAAIlE,EAAgB,SAAUxO,EAASwF,GACnD8M,EAActS,EAASuS,EAAa/M,IAGtC,OADAgN,EAAOJ,EAAaV,EAASJ,UAAWgB,GAAa,GAAOE,EAAOH,EAAaX,EAASH,UAAWgB,GAAY,GACzGG,GAGTlE,EAAgBjT,UAAiB,MAAI,SAAU8W,GAC7C,OAAOlY,KAAKgD,KAAK,KAAMkV,IAGzB7D,EAAgBjT,UAAmB,QAAI,SAAUkX,GAC/C,OAAOtY,KAAKgD,KAAK,SAAUlB,GACzB,OAAOuS,EAAgBxO,QAAQyS,KAAYtV,KAAK,WAC9C,OAAOlB,KAER,SAAU0W,GACX,OAAOnE,EAAgBxO,QAAQyS,KAAYtV,KAAK,WAC9C,OAAOqR,EAAgBhJ,OAAOmN,QAKpCnE,EAAgBxO,QAAU,SAAU/D,GAClC,OAAIA,aAAiBuS,EAAwBvS,EACtC,IAAIuS,EAAgB,SAAUxO,GACnCA,EAAQ/D,MAIZuS,EAAgBhJ,OAAS,SAAUvJ,GACjC,OAAO,IAAIuS,EAAgB,SAAUxO,EAASwF,GAC5CA,EAAOvJ,MAIXuS,EAAgBhL,IAAM,SAAUoO,GAC9B,OAAO,IAAIpD,EAAgB,SAAUxO,EAASwF,GAC5C,IAAIoN,EAAQhB,EAAK5Z,OACb6a,EAAQ,EACR9B,EAAS,GACb,GAAoB,IAAhBa,EAAK5Z,OAAcgI,EAAQ,SAAS,IAAK,IAAI1I,EAAI,EAAGA,EAAIsa,EAAK5Z,OAAQV,KACvE,SAAWA,GACT,SAASwb,EAAQ7W,GACf4W,IACA9B,EAAOzZ,GAAK2E,EACR4W,IAAUD,GAAO5S,EAAQ+Q,GAGhB,MAAXa,EAAKta,IAAoC,WAArB0G,EAAQ4T,EAAKta,KAAuC,mBAAZsa,EAAKta,IAA8C,mBAAjBsa,EAAKta,GAAG6F,KAEnG2V,EAAQlB,EAAKta,IADlBsa,EAAKta,GAAG6F,KAAK2V,EAAStN,GAR1B,CAUGlO,MAKTkX,EAAgBuE,KAAO,SAAUnB,GAC/B,OAAO,IAAIpD,EAAgB,SAAUxO,EAASwF,GAC5C,IAAK,IAAIlO,EAAI,EAAGA,EAAIsa,EAAK5Z,OAAQV,IAC/Bsa,EAAKta,GAAG6F,KAAK6C,EAASwF,MAK5BrN,EAAOL,QAAU0W,IAEdzW,KAAKoC,KAAKjC,EAAQ,UAAUiR,eAC7B,CAAC0E,OAAS,KAAKmF,GAAG,CAAC,SAAS9a,EAAQC,EAAOL,IAC7C,SAAWmb,GACX,aAEA,IAAIzE,EAAkBtW,EAAQ,cAER,oBAAXW,aACqB,IAAnBA,OAAOkH,QAChBlH,OAAOkH,QAAUyO,EACP3V,OAAOkH,QAAQxE,UAAmB,UAC5C1C,OAAOkH,QAAQxE,UAAmB,QAAIiT,EAAgBjT,UAAmB,SAG3EpD,EAAOL,QAAUe,OAAOkH,cACG,IAAXkT,QACc,IAAnBA,EAAOlT,QAChBkT,EAAOlT,QAAUyO,EACPyE,EAAOlT,QAAQxE,UAAmB,UAC5C0X,EAAOlT,QAAQxE,UAAmB,QAAIiT,EAAgBjT,UAAmB,SAG3EpD,EAAOL,QAAUmb,EAAOlT,SAExB5H,EAAOL,QAAU0W,IAGhBzW,KAAKoC,KAAuB,oBAAX8Y,OAAyBA,OAAyB,oBAAT7K,KAAuBA,KAAyB,oBAAXvP,OAAyBA,OAAS,KAClI,CAACqa,aAAa,KAAKC,GAAG,CAAC,SAASjb,EAAQC,EAAOL,GACjD,aAEAK,EAAOL,QAAU,SAAUsb,GACzB,GAA+C,oBAA3C/U,OAAO9C,UAAU+D,SAASvH,KAAKqb,GAA+B,MAAO,GACzE,IAAIC,EAAO,GAEX,IAAK,IAAIxL,KAAOuL,EACdE,EAAYzL,EAAKuL,EAAOvL,IAG1B,OAAOwL,EAAK9O,KAAK,KAEjB,SAAS+O,EAAYzL,EAAK5L,GACxB,GAAImD,MAAMC,QAAQpD,GAChB,IAAK,IAAI3E,EAAI,EAAGA,EAAI2E,EAAMjE,OAAQV,IAChCgc,EAAYzL,EAAM,IAAMvQ,EAAI,IAAK2E,EAAM3E,SAEpC,GAA8C,oBAA1C+G,OAAO9C,UAAU+D,SAASvH,KAAKkE,GACxC,IAAK,IAAI3E,KAAK2E,EACZqX,EAAYzL,EAAM,IAAMvQ,EAAI,IAAK2E,EAAM3E,SAEpC+b,EAAK1U,KAAK6B,mBAAmBqH,IAAiB,MAAT5L,GAA2B,KAAVA,EAAe,IAAMuE,mBAAmBvE,GAAS,QAIhH,IAAIsX,GAAG,CAAC,SAASrb,EAAQC,EAAOL,GAClC,aAEAK,EAAOL,QAAU,SAAU0b,GACzB,GAAe,KAAXA,GAA2B,MAAVA,EAAgB,MAAO,GACnB,MAArBA,EAAO5Q,OAAO,KAAY4Q,EAASA,EAAO9H,MAAM,IAKpD,IAJA,IAAI7K,EAAU2S,EAAOC,MAAM,KACvBC,EAAW,GACX/S,EAAO,GAEFrJ,EAAI,EAAGA,EAAIuJ,EAAQ7I,OAAQV,IAAK,CACvC,IAAIqc,EAAQ9S,EAAQvJ,GAAGmc,MAAM,KACzB5L,EAAM4D,mBAAmBkI,EAAM,IAC/B1X,EAAyB,IAAjB0X,EAAM3b,OAAeyT,mBAAmBkI,EAAM,IAAM,GAClD,SAAV1X,EAAkBA,GAAQ,EAAwB,UAAVA,IAAmBA,GAAQ,GACvE,IAAI2X,EAAS/L,EAAI4L,MAAM,YACnBI,EAASlT,GACW,EAApBkH,EAAIjH,QAAQ,MAAWgT,EAAO5R,MAElC,IAAK,IAAID,EAAI,EAAGA,EAAI6R,EAAO5b,OAAQ+J,IAAK,CACtC,IAAI+R,EAAQF,EAAO7R,GACfgS,EAAYH,EAAO7R,EAAI,GACvBiS,EAAwB,IAAbD,IAAoBE,MAAMC,SAASH,EAAW,KAE7D,GAAc,KAAVD,EAGmB,MAAjBJ,EAFA7L,EAAM+L,EAAOlI,MAAM,EAAG3J,GAAGwC,UAG3BmP,EAAS7L,GAAOzI,MAAMC,QAAQwU,GAAUA,EAAO7b,OAAS,GAG1D8b,EAAQJ,EAAS7L,UAEd,GAAc,cAAViM,EAAuB,MAEhC,GAAI/R,IAAM6R,EAAO5b,OAAS,EAAG6b,EAAOC,GAAS7X,MAAW,CAGtD,IAAIkY,EAAO9V,OAAOI,yBAAyBoV,EAAQC,GACvC,MAARK,IAAcA,EAAOA,EAAKlY,OAClB,MAARkY,IAAcN,EAAOC,GAASK,EAAOH,EAAW,GAAK,IACzDH,EAASM,IAKf,OAAOxT,IAGP,IAAIyT,GAAG,CAAC,SAASlc,EAAQC,EAAOL,GAClC,aAEAK,EAAOL,QAAUI,EAAQ,kBAARA,CAA2BW,SAE1C,CAACwb,kBAAkB,KAAKC,GAAG,CAAC,SAASpc,EAAQC,EAAOL,GACtD,aAEA,IAAIwQ,EAAQpQ,EAAQ,mBAEhBqc,EAAmBrc,EAAQ,sBAE/BC,EAAOL,QAAU,WACf,IAAIuE,EAAQkY,EAAiB3V,MAAM,EAAGC,WAGtC,OAFAxC,EAAMmY,IAAM,IACZnY,EAAMoQ,SAAWnE,EAAMmM,kBAAkBpY,EAAMoQ,UACxCpQ,IAGP,CAAC4M,kBAAkB,GAAGyL,qBAAqB,KAAKC,GAAG,CAAC,SAASzc,EAAQC,EAAOL,GAC9E,aAEA,IAAIwQ,EAAQpQ,EAAQ,mBAEhBqc,EAAmBrc,EAAQ,sBAE3B0c,EAAiB,+EACjBC,EAAgB,GAChBC,EAAS,GAAGC,eAEhB,SAASC,EAAQ5B,GACf,IAAK,IAAIvL,KAAOuL,EACd,GAAI0B,EAAO/c,KAAKqb,EAAQvL,GAAM,OAAO,EAGvC,OAAO,EAsFT1P,EAAOL,QAhBP,SAAqBuU,GACnB,GAAgB,MAAZA,GAAwC,iBAAbA,GAA6C,mBAAbA,GAAoD,mBAAlBA,EAASjR,KACxG,MAAMzD,MAAM,wDAGd,IAAI0E,EAAQkY,EAAiB3V,MAAM,EAAGC,WAEtC,MAAwB,iBAAbwN,IACThQ,EAAMoQ,SAAWnE,EAAMmM,kBAAkBpY,EAAMoQ,UAC9B,MAAbJ,GArDR,SAAsBvC,EAAOzN,GAC3B,IAAIgO,EAAQhO,EAAMgO,MACdoC,EAAWnE,EAAMmM,kBAAkBpY,EAAMoQ,UACzCwI,EAAWH,EAAO/c,KAAKsS,EAAO,SAC9B6K,EAAYD,EAAW5K,EAAa,MAAIA,EAAM6K,UAKlD,GAJA7Y,EAAMmY,IAAM1K,EAAM0K,IAClBnY,EAAMgO,MAAQ,KACdhO,EAAMoQ,cAAWzV,GAEZge,EAAQlL,EAAMO,SAAW2K,EAAQ3K,GAAQ,CAC5C,IAAI8K,EAAW,GAEf,IAAK,IAAItN,KAAOwC,EACVyK,EAAO/c,KAAKsS,EAAOxC,KAAMsN,EAAStN,GAAOwC,EAAMxC,IAGrDwC,EAAQ8K,EAGV,IAAK,IAAItN,KAAOiC,EAAMO,MAChByK,EAAO/c,KAAK+R,EAAMO,MAAOxC,IAAgB,cAARA,IAAwBiN,EAAO/c,KAAKsS,EAAOxC,KAC9EwC,EAAMxC,GAAOiC,EAAMO,MAAMxC,IAO7B,IAAK,IAAIA,KAHQ,MAAbqN,GAA8C,MAAzBpL,EAAMO,MAAM6K,YAAmB7K,EAAM6K,UAAyB,MAAbA,EAA6C,MAAzBpL,EAAMO,MAAM6K,UAAoBjF,OAAOnG,EAAMO,MAAM6K,WAAa,IAAMjF,OAAOiF,GAAaA,EAAqC,MAAzBpL,EAAMO,MAAM6K,UAAoBpL,EAAMO,MAAM6K,UAAY,MACxPD,IAAU5K,EAAa,MAAI,MAEfA,EACd,GAAIyK,EAAO/c,KAAKsS,EAAOxC,IAAgB,QAARA,EAAe,CAC5CxL,EAAMgO,MAAQA,EACd,MAUJ,OANIjL,MAAMC,QAAQoN,IAAiC,IAApBA,EAASzU,QAA+B,MAAfyU,EAAS,IAAkC,MAApBA,EAAS,GAAG+H,IACzFnY,EAAM3D,KAAO+T,EAAS,GAAGA,SAEzBpQ,EAAMoQ,SAAWA,EAGZpQ,EAYwB+Y,CAAaP,EAAcxI,IA5E5D,SAAyBA,GAMvB,IALA,IAAIgJ,EACAb,EAAM,MACNc,EAAU,GACVjL,EAAQ,GAELgL,EAAQT,EAAe5D,KAAK3E,IAAW,CAC5C,IAAIvS,EAAOub,EAAM,GACbpZ,EAAQoZ,EAAM,GAClB,GAAa,KAATvb,GAAyB,KAAVmC,EAAcuY,EAAMvY,OAAW,GAAa,MAATnC,EAAcuQ,EAAMkL,GAAKtZ,OAAW,GAAa,MAATnC,EAAcwb,EAAQ3W,KAAK1C,QAAY,GAAoB,MAAhBoZ,EAAM,GAAG,GAAY,CAC5J,IAAIG,EAAYH,EAAM,GACPG,EAAXA,GAAuBA,EAAUjV,QAAQ,YAAa,MAAMA,QAAQ,QAAS,MAChE,UAAb8U,EAAM,GAAgBC,EAAQ3W,KAAK6W,GAAgBnL,EAAMgL,EAAM,IAAoB,KAAdG,EAAmBA,EAAYA,IAAa,GAKzH,OADqB,EAAjBF,EAAQtd,SAAYqS,EAAM6K,UAAYI,EAAQ/Q,KAAK,MAChDsQ,EAAcxI,GAAY,CAC/BmI,IAAKA,EACLnK,MAAOA,GAyD8DoL,CAAgBpJ,GAAWhQ,IAGlGA,EAAMmY,IAAMnI,EACLhQ,KAKP,CAAC4M,kBAAkB,GAAGyL,qBAAqB,KAAKgB,GAAG,CAAC,SAASxd,EAAQC,EAAOL,GAC9E,aAEA,SAASkG,EAAQC,GAAmV,OAAtOD,EAArD,mBAAXE,QAAoD,iBAApBA,OAAOC,SAAmC,SAAiBF,GAAO,cAAcA,GAA2B,SAAiBA,GAAO,OAAOA,GAAyB,mBAAXC,QAAyBD,EAAIG,cAAgBF,QAAUD,IAAQC,OAAO3C,UAAY,gBAAkB0C,IAAyBA,GAEnX,IAAIqK,EAAQpQ,EAAQ,mBA+BpBC,EAAOL,QAAU,WACf,IAEI2U,EAFApC,EAAQxL,UAAU1E,MAClBwb,EAAQxb,KAAO,EAUnB,GAPa,MAATkQ,EACFA,EAAQ,GACoB,WAAnBrM,EAAQqM,IAAoC,MAAbA,EAAMmK,MAAepV,MAAMC,QAAQgL,KAC3EA,EAAQ,GACRsL,EAAQxb,MAGN0E,UAAU7G,SAAW2d,EAAQ,EAC/BlJ,EAAW5N,UAAU8W,GAChBvW,MAAMC,QAAQoN,KAAWA,EAAW,CAACA,SAI1C,IAFAA,EAAW,GAEJkJ,EAAQ9W,UAAU7G,QACvByU,EAAS9N,KAAKE,UAAU8W,MAI5B,OAAOrN,EAAM,GAAI+B,EAAMxC,IAAKwC,EAAOoC,KAGnC,CAACxD,kBAAkB,KAAK2M,GAAG,CAAC,SAAS1d,EAAQC,EAAOL,GACtD,aAEA,SAASkG,EAAQC,GAAmV,OAAtOD,EAArD,mBAAXE,QAAoD,iBAApBA,OAAOC,SAAmC,SAAiBF,GAAO,cAAcA,GAA2B,SAAiBA,GAAO,OAAOA,GAAyB,mBAAXC,QAAyBD,EAAIG,cAAgBF,QAAUD,IAAQC,OAAO3C,UAAY,gBAAkB0C,IAAyBA,GAEnX,IAAIqK,EAAQpQ,EAAQ,mBAEpBC,EAAOL,QAAU,SAAU2R,GACzB,IACIoM,EADAC,EAAOrM,GAAWA,EAAQ7O,SAE1Bmb,EAAY,CACdC,IAAK,6BACLC,KAAM,sCAGR,SAASC,EAAa7Z,GACpB,OAAOA,EAAMgO,OAAShO,EAAMgO,MAAM8L,OAASJ,EAAU1Z,EAAMmY,KAI7D,SAAS4B,EAAW/Z,EAAOga,GACzB,GAAIha,EAAMyN,QAAUuM,EAAU,MAAM,IAAI1e,MAAM,sCAOhD,SAAS2e,EAASja,GAChB,IAAIga,EAAWha,EAAMyN,MAErB,IACE,OAAO3P,KAAKyE,MAAMyX,EAAUxX,WAC5B,QACAuX,EAAW/Z,EAAOga,IAMtB,SAASE,IACP,IACE,OAAOT,EAAKS,cACZ,MAAOrf,GACP,OAAO,MAKX,SAASsf,EAAYC,EAAQC,EAAQf,EAAOgB,EAAKC,EAAOC,EAAaC,GACnE,IAAK,IAAIxf,EAAIqe,EAAOre,EAAIqf,EAAKrf,IAAK,CAChC,IAAI+E,EAAQqa,EAAOpf,GAEN,MAAT+E,GACF0a,EAAWN,EAAQpa,EAAOua,EAAOE,EAAID,IAK3C,SAASE,EAAWN,EAAQpa,EAAOua,EAAOE,EAAID,GAC5C,IAAIrC,EAAMnY,EAAMmY,IAEhB,GAAmB,iBAARA,EAIT,OAHAnY,EAAMyN,MAAQ,GACK,MAAfzN,EAAMgO,OAAe2M,EAAc3a,EAAMgO,MAAOhO,EAAOua,GAEnDpC,GACN,IAAK,KAkBX,SAAoBiC,EAAQpa,EAAOwa,GACjCxa,EAAMC,IAAMwZ,EAAKmB,eAAe5a,EAAMoQ,UACtCyK,EAAWT,EAAQpa,EAAMC,IAAKua,GAnBxBM,CAAWV,EAAQpa,EAAOwa,GAC1B,MAEF,IAAK,IACHO,EAAWX,EAAQpa,EAAOya,EAAID,GAC9B,MAEF,IAAK,KA0DX,SAAwBJ,EAAQpa,EAAOua,EAAOE,EAAID,GAChD,IAAI7I,EAAW8H,EAAKuB,yBAEpB,GAAsB,MAAlBhb,EAAMoQ,SAAkB,CAC1B,IAAIA,EAAWpQ,EAAMoQ,SACrB+J,EAAYxI,EAAUvB,EAAU,EAAGA,EAASzU,OAAQ4e,EAAO,KAAME,GAGnEza,EAAMC,IAAM0R,EAASsJ,WACrBjb,EAAMkb,QAAUvJ,EAASwJ,WAAWxf,OACpCkf,EAAWT,EAAQzI,EAAU6I,GAnEvBY,CAAehB,EAAQpa,EAAOua,EAAOE,EAAID,GACzC,MAEF,SAmEN,SAAuBJ,EAAQpa,EAAOua,EAAOE,EAAID,GAC/C,IAAIrC,EAAMnY,EAAMmY,IACZnK,EAAQhO,EAAMgO,MACdqN,EAAKrN,GAASA,EAAMqN,GAEpBre,GADJyd,EAAKZ,EAAa7Z,IAAUya,GACTY,EAAK5B,EAAK6B,gBAAgBb,EAAItC,EAAK,CACpDkD,GAAIA,IACD5B,EAAK6B,gBAAgBb,EAAItC,GAAOkD,EAAK5B,EAAKjb,cAAc2Z,EAAK,CAChEkD,GAAIA,IACD5B,EAAKjb,cAAc2Z,GACxBnY,EAAMC,IAAMjD,EAEC,MAATgR,GAwrBN,SAAkBhO,EAAOgO,EAAOyM,GAC9B,IAAK,IAAIjP,KAAOwC,EACduN,EAAQvb,EAAOwL,EAAK,KAAMwC,EAAMxC,GAAMiP,GAzrBtCe,CAASxb,EAAOgO,EAAOyM,GAKzB,GAFAI,EAAWT,EAAQpd,EAASwd,IAEvBiB,EAAwBzb,KACT,MAAdA,EAAM3D,OACW,KAAf2D,EAAM3D,KAAaW,EAAQ0e,YAAc1b,EAAM3D,KAAU2D,EAAMoQ,SAAW,CAACnE,EAAM,SAAKtR,OAAWA,EAAWqF,EAAM3D,UAAM1B,OAAWA,KAGnH,MAAlBqF,EAAMoQ,UAAkB,CAC1B,IAAIA,EAAWpQ,EAAMoQ,SACrB+J,EAAYnd,EAASoT,EAAU,EAAGA,EAASzU,OAAQ4e,EAAO,KAAME,GAC9C,WAAdza,EAAMmY,KAA6B,MAATnK,GAqtBpC,SAA4BhO,EAAOgO,GACjC,GAAI,UAAWA,EACb,GAAoB,OAAhBA,EAAMpO,OACyB,IAA7BI,EAAMC,IAAI0b,gBAAsB3b,EAAMC,IAAIL,MAAQ,UACjD,CACL,IAAIgc,EAAa,GAAK5N,EAAMpO,MAExBI,EAAMC,IAAIL,QAAUgc,IAA2C,IAA7B5b,EAAMC,IAAI0b,gBAC9C3b,EAAMC,IAAIL,MAAQgc,GAKpB,kBAAmB5N,GAAOuN,EAAQvb,EAAO,gBAAiB,KAAMgO,EAAM2N,mBAAehhB,GAluBxCkhB,CAAmB7b,EAAOgO,IA5FrExP,CAAc4b,EAAQpa,EAAOua,EAAOE,EAAID,QAwHhD,SAAyBJ,EAAQpa,EAAOua,EAAOE,EAAID,IAvBnD,SAAuBxa,EAAOua,GAC5B,IAAIpN,EAEJ,GAA8B,mBAAnBnN,EAAMmY,IAAIpZ,KAAqB,CAGxC,GAFAiB,EAAMyN,MAAQzL,OAAO8Z,OAAO9b,EAAMmY,KAEA,OADlChL,EAAWnN,EAAMyN,MAAM1O,MACVgd,kBAA2B,OACxC5O,EAAS4O,mBAAoB,MACxB,CAGL,GAFA/b,EAAMyN,WAAQ,EAEoB,OADlCN,EAAWnN,EAAMmY,KACJ4D,kBAA2B,OACxC5O,EAAS4O,mBAAoB,EAC7B/b,EAAMyN,MAA+B,MAAvBzN,EAAMmY,IAAIjZ,WAAyD,mBAA7Bc,EAAMmY,IAAIjZ,UAAUH,KAAsB,IAAIiB,EAAMmY,IAAInY,GAASA,EAAMmY,IAAInY,GAGjI2a,EAAc3a,EAAMyN,MAAOzN,EAAOua,GACf,MAAfva,EAAMgO,OAAe2M,EAAc3a,EAAMgO,MAAOhO,EAAOua,GAE3D,GADAva,EAAMqV,SAAWpJ,EAAM+P,UAAU/B,EAASve,KAAKsE,EAAMyN,MAAM1O,KAAMiB,IAC7DA,EAAMqV,WAAarV,EAAO,MAAM1E,MAAM,0DAC1C6R,EAAS4O,kBAAoB,MAI7BE,CAAcjc,EAAOua,GAEC,MAAlBva,EAAMqV,UACRqF,EAAWN,EAAQpa,EAAMqV,SAAUkF,EAAOE,EAAID,GAC9Cxa,EAAMC,IAAMD,EAAMqV,SAASpV,IAC3BD,EAAMkb,QAAuB,MAAblb,EAAMC,IAAcD,EAAMqV,SAAS6F,QAAU,GAE7Dlb,EAAMkb,QAAU,EA9HXgB,CAAgB9B,EAAQpa,EAAOua,EAAOE,EAAID,GAQnD,IAAI2B,EAAkB,CACpBC,QAAS,QACTC,MAAO,QACPC,MAAO,QACPC,MAAO,QACPC,GAAI,QACJC,GAAI,KACJC,GAAI,KACJC,SAAU,QACVC,IAAK,YAGP,SAAS7B,EAAWX,EAAQpa,EAAOya,EAAID,GACrC,IAAIxB,EAAQhZ,EAAMoQ,SAAS4I,MAAM,kBAAoB,GAMjD6D,EAAOpD,EAAKjb,cAAc2d,EAAgBnD,EAAM,KAAO,OAEhD,+BAAPyB,GACFoC,EAAKC,UAAY,2CAA+C9c,EAAMoQ,SAAW,SACjFyM,EAAOA,EAAK5B,YAEZ4B,EAAKC,UAAY9c,EAAMoQ,SAGzBpQ,EAAMC,IAAM4c,EAAK5B,WACjBjb,EAAMkb,QAAU2B,EAAK1B,WAAWxf,OAEhCqE,EAAMqV,SAAW,GAIjB,IAHA,IACIlF,EADAwB,EAAW8H,EAAKuB,yBAGb7K,EAAQ0M,EAAK5B,YAClBjb,EAAMqV,SAAS/S,KAAK6N,GACpBwB,EAAS9S,YAAYsR,GAGvB0K,EAAWT,EAAQzI,EAAU6I,GAsL/B,SAASuC,EAAY3C,EAAQ4C,EAAK3C,EAAQE,EAAOC,EAAaC,GAC5D,GAAIuC,IAAQ3C,IAAiB,MAAP2C,GAAyB,MAAV3C,GAA4B,GAAW,MAAP2C,GAA8B,IAAfA,EAAIrhB,OAAcwe,EAAYC,EAAQC,EAAQ,EAAGA,EAAO1e,OAAQ4e,EAAOC,EAAaC,QAAS,GAAc,MAAVJ,GAAoC,IAAlBA,EAAO1e,OAAcshB,EAAY7C,EAAQ4C,EAAK,EAAGA,EAAIrhB,YAAa,CACvQ,IAAIuhB,EAAuB,MAAVF,EAAI,IAA4B,MAAdA,EAAI,GAAGxR,IACtC2R,EAAuB,MAAb9C,EAAO,IAA+B,MAAjBA,EAAO,GAAG7O,IACzC8N,EAAQ,EACR8D,EAAW,EACf,IAAKF,EAAY,KAAOE,EAAWJ,EAAIrhB,QAA2B,MAAjBqhB,EAAII,IACnDA,IAEF,IAAKD,EAAS,KAAO7D,EAAQe,EAAO1e,QAA2B,MAAjB0e,EAAOf,IACnDA,IAEF,GAAgB,OAAZ6D,GAAkC,MAAdD,EAAoB,OAE5C,GAAIA,GAAeC,EACjBF,EAAY7C,EAAQ4C,EAAKI,EAAUJ,EAAIrhB,QACvCwe,EAAYC,EAAQC,EAAQf,EAAOe,EAAO1e,OAAQ4e,EAAOC,EAAaC,QACjE,GAAK0C,EAgBL,CAWL,IATA,IAGIniB,EACAqiB,EACAC,EACAC,EACAC,EAPAC,EAAST,EAAIrhB,OAAS,EACtB2e,EAAMD,EAAO1e,OAAS,EAQTyhB,GAAVK,GAA6BnE,GAAPgB,IAC3BgD,EAAKN,EAAIS,GACTF,EAAKlD,EAAOC,GACRgD,EAAG9R,MAAQ+R,EAAG/R,MACd8R,IAAOC,GAAIG,EAAWtD,EAAQkD,EAAIC,EAAIhD,EAAOC,EAAaC,GAChD,MAAV8C,EAAGtd,MAAaua,EAAc+C,EAAGtd,KACrCwd,IAAUnD,IAIZ,KAAiB8C,GAAVK,GAA6BnE,GAAPgB,IAC3Btf,EAAIgiB,EAAII,GACRC,EAAIhD,EAAOf,GACPte,EAAEwQ,MAAQ6R,EAAE7R,MAChB4R,IAAY9D,IACRte,IAAMqiB,GAAGK,EAAWtD,EAAQpf,EAAGqiB,EAAG9C,EAAOoD,EAAeX,EAAKI,EAAU5C,GAAcC,GAI3F,KAAiB2C,GAAVK,GAA6BnE,GAAPgB,GACvBhB,IAAUgB,GACVtf,EAAEwQ,MAAQ+R,EAAG/R,KAAO8R,EAAG9R,MAAQ6R,EAAE7R,KAErCoS,EAAUxD,EAAQkD,EADlBE,EAAaG,EAAeX,EAAKI,EAAU5C,IAEvC8C,IAAOD,GAAGK,EAAWtD,EAAQkD,EAAID,EAAG9C,EAAOiD,EAAY/C,KACrDnB,KAAWgB,GAAKsD,EAAUxD,EAAQpf,EAAGwf,GACvCxf,IAAMuiB,GAAIG,EAAWtD,EAAQpf,EAAGuiB,EAAIhD,EAAOC,EAAaC,GAC9C,MAAV8C,EAAGtd,MAAaua,EAAc+C,EAAGtd,KACrCmd,IAEAE,EAAKN,IADLS,GAEAF,EAAKlD,EAAOC,GACZtf,EAAIgiB,EAAII,GACRC,EAAIhD,EAAOf,GAIb,KAAiB8D,GAAVK,GAA6BnE,GAAPgB,GACvBgD,EAAG9R,MAAQ+R,EAAG/R,KACd8R,IAAOC,GAAIG,EAAWtD,EAAQkD,EAAIC,EAAIhD,EAAOC,EAAaC,GAChD,MAAV8C,EAAGtd,MAAaua,EAAc+C,EAAGtd,KAC3Bqa,IACVgD,EAAKN,IADLS,GAEAF,EAAKlD,EAAOC,GAGd,GAAYA,EAARhB,EAAa2D,EAAY7C,EAAQ4C,EAAKI,EAAUK,EAAS,QAAQ,GAAeA,EAAXL,EAAmBjD,EAAYC,EAAQC,EAAQf,EAAOgB,EAAM,EAAGC,EAAOC,EAAaC,OAAS,CAEnK,IAOIrb,EACAye,EARAC,EAAsBtD,EACtBuD,EAAezD,EAAMhB,EAAQ,EAC7B0E,EAAa,IAAIjb,MAAMgb,GACvBE,EAAK,EACLhjB,EAAI,EACJijB,EAAM,WACNC,EAAU,EAId,IAAKljB,EAAI,EAAGA,EAAI8iB,EAAc9iB,IAC5B+iB,EAAW/iB,IAAM,EAGnB,IAAKA,EAAIqf,EAAUhB,GAALre,EAAYA,IAAK,CAClB,MAAPmE,IAAaA,EAAMgf,EAAUpB,EAAKI,EAAUK,EAAS,IAEzD,IAAIY,EAAWjf,GADfme,EAAKlD,EAAOpf,IACUuQ,KAEN,MAAZ6S,IACFH,EAAMG,EAAWH,EAAMG,GAAY,EAGnCf,EAAKN,EADLgB,EAAW/iB,EAAIqe,GAAS+E,GAExBrB,EAAIqB,GAAY,KACZf,IAAOC,GAAIG,EAAWtD,EAAQkD,EAAIC,EAAIhD,EAAOC,EAAaC,GAChD,MAAV8C,EAAGtd,MAAaua,EAAc+C,EAAGtd,KACrCke,KAMJ,GAFA3D,EAAcsD,EACVK,IAAYV,EAASL,EAAW,GAAGH,EAAY7C,EAAQ4C,EAAKI,EAAUK,EAAS,GACnE,IAAZU,EAAehE,EAAYC,EAAQC,EAAQf,EAAOgB,EAAM,EAAGC,EAAOC,EAAaC,QACjF,IAAa,IAATyD,EAMF,IAFAD,GADAJ,EAwKZ,SAAwBxiB,GACtB,IAAI0F,EAAS,CAAC,GACV3F,EAAI,EACJiiB,EAAI,EACJpiB,EAAI,EACJqjB,EAAKC,EAAQ5iB,OAASN,EAAEM,OAE5B,IAASV,EAAI,EAAGA,EAAIqjB,EAAIrjB,IACtBsjB,EAAQtjB,GAAKI,EAAEJ,GAGjB,IAASA,EAAI,EAAGA,EAAIqjB,IAAMrjB,EACxB,IAAc,IAAVI,EAAEJ,GAAN,CACA,IAAIyK,EAAI3E,EAAOA,EAAOpF,OAAS,GAE/B,GAAIN,EAAEqK,GAAKrK,EAAEJ,GACXsjB,EAAQtjB,GAAKyK,EACb3E,EAAOuB,KAAKrH,OAFd,CASA,IAHAG,EAAI,EACJiiB,EAAItc,EAAOpF,OAAS,EAEbP,EAAIiiB,GAAG,CAGZ,IAAIliB,GAAKC,IAAM,IAAMiiB,IAAM,IAAMjiB,EAAIiiB,EAAI,GAErChiB,EAAE0F,EAAO5F,IAAME,EAAEJ,GACnBG,EAAQ,EAAJD,EAEJkiB,EAAIliB,EAIJE,EAAEJ,GAAKI,EAAE0F,EAAO3F,MACV,EAAJA,IAAOmjB,EAAQtjB,GAAK8F,EAAO3F,EAAI,IACnC2F,EAAO3F,GAAKH,IAIhBG,EAAI2F,EAAOpF,OACX0hB,EAAItc,EAAO3F,EAAI,GAEf,KAAa,EAANA,KACL2F,EAAO3F,GAAKiiB,EACZA,EAAIkB,EAAQlB,GAId,OADAkB,EAAQ5iB,OAAS,EACVoF,EA3NgByd,CAAeR,IACZriB,OAAS,EAEpBV,EAAIqf,EAAUhB,GAALre,EAAYA,IACxBoiB,EAAIhD,EAAOpf,IACoB,IAA3B+iB,EAAW/iB,EAAIqe,GAAeoB,EAAWN,EAAQiD,EAAG9C,EAAOE,EAAID,GAC7DqD,EAAWI,KAAQhjB,EAAIqe,EAAO2E,IAAUL,EAAUxD,EAAQiD,EAAG7C,GAEtD,MAAT6C,EAAEpd,MAAaua,EAAcH,EAAOpf,GAAGgF,UAG7C,IAAKhF,EAAIqf,EAAUhB,GAALre,EAAYA,IACxBoiB,EAAIhD,EAAOpf,IACoB,IAA3B+iB,EAAW/iB,EAAIqe,IAAeoB,EAAWN,EAAQiD,EAAG9C,EAAOE,EAAID,GACtD,MAAT6C,EAAEpd,MAAaua,EAAcH,EAAOpf,GAAGgF,UA9HhC,CAEnB,IAAIwe,EAAezB,EAAIrhB,OAAS0e,EAAO1e,OAASqhB,EAAIrhB,OAAS0e,EAAO1e,OAMpE,IAFA2d,EAAQA,EAAQ8D,EAAW9D,EAAQ8D,EAE5B9D,EAAQmF,EAAcnF,KAC3Bte,EAAIgiB,EAAI1D,OACR+D,EAAIhD,EAAOf,KACS,MAALte,GAAkB,MAALqiB,IAAkC,MAALriB,EAAW0f,EAAWN,EAAQiD,EAAG9C,EAAOE,EAAIkD,EAAeX,EAAK1D,EAAQ,EAAGkB,IAA4B,MAAL6C,EAAWqB,EAAWtE,EAAQpf,GAAQ0iB,EAAWtD,EAAQpf,EAAGqiB,EAAG9C,EAAOoD,EAAeX,EAAK1D,EAAQ,EAAGkB,GAAcC,IAG5QuC,EAAIrhB,OAAS8iB,GAAcxB,EAAY7C,EAAQ4C,EAAK1D,EAAO0D,EAAIrhB,QAC/D0e,EAAO1e,OAAS8iB,GAActE,EAAYC,EAAQC,EAAQf,EAAOe,EAAO1e,OAAQ4e,EAAOC,EAAaC,KAwH9G,SAASiD,EAAWtD,EAAQ4C,EAAKhd,EAAOua,EAAOC,EAAaC,GAC1D,IAAIkE,EAAS3B,EAAI7E,IAGjB,GAAIwG,IAFM3e,EAAMmY,IAEI,CAGlB,GAFAnY,EAAMyN,MAAQuP,EAAIvP,MAClBzN,EAAM4e,OAAS5B,EAAI4B,OAwkBvB,SAAyB5e,EAAOgd,GAC9B,EAAG,CAEC,IAKI6B,EANN,GAAmB,MAAf7e,EAAMgO,OAAuD,mBAA/BhO,EAAMgO,MAAM8B,eAE5C,QAAcnV,KADVkkB,EAAQ5E,EAASve,KAAKsE,EAAMgO,MAAM8B,eAAgB9P,EAAOgd,MACjC6B,EAAO,MAGrC,GAAyB,iBAAd7e,EAAMmY,KAA0D,mBAA/BnY,EAAMyN,MAAMqC,eAEtD,QAAcnV,KADVkkB,EAAQ5E,EAASve,KAAKsE,EAAMyN,MAAMqC,eAAgB9P,EAAOgd,MACjC6B,EAAO,MAGrC,OAAO,QACA,GAgBT,OAbA7e,EAAMC,IAAM+c,EAAI/c,IAChBD,EAAMkb,QAAU8B,EAAI9B,QACpBlb,EAAMqV,SAAW2H,EAAI3H,SAQrBrV,EAAMgO,MAAQgP,EAAIhP,MAClBhO,EAAMoQ,SAAW4M,EAAI5M,SACrBpQ,EAAM3D,KAAO2gB,EAAI3gB,MACV,EApmBDyiB,CAAgB9e,EAAOgd,GAAM,OAEjC,GAAsB,iBAAX2B,EAKT,OAJmB,MAAf3e,EAAMgO,OACR+Q,EAAgB/e,EAAMgO,MAAOhO,EAAOua,GAG9BoE,GACN,IAAK,KAsBb,SAAoB3B,EAAKhd,GACnBgd,EAAI5M,SAASnN,aAAejD,EAAMoQ,SAASnN,aAC7C+Z,EAAI/c,IAAI+e,UAAYhf,EAAMoQ,UAG5BpQ,EAAMC,IAAM+c,EAAI/c,IA1BRgf,CAAWjC,EAAKhd,GAChB,MAEF,IAAK,KA0Bb,SAAoBoa,EAAQ4C,EAAKhd,EAAOya,EAAID,GACtCwC,EAAI5M,WAAapQ,EAAMoQ,UACzB8O,EAAW9E,EAAQ4C,GACnBjC,EAAWX,EAAQpa,EAAOya,EAAID,KAE9Bxa,EAAMC,IAAM+c,EAAI/c,IAChBD,EAAMkb,QAAU8B,EAAI9B,QACpBlb,EAAMqV,SAAW2H,EAAI3H,UAhCf8J,CAAW/E,EAAQ4C,EAAKhd,EAAOya,EAAID,GACnC,MAEF,IAAK,KAiCb,SAAwBJ,EAAQ4C,EAAKhd,EAAOua,EAAOC,EAAaC,GAC9DsC,EAAY3C,EAAQ4C,EAAI5M,SAAUpQ,EAAMoQ,SAAUmK,EAAOC,EAAaC,GACtE,IAAIS,EAAU,EACV9K,EAAWpQ,EAAMoQ,SAGrB,IAFApQ,EAAMC,IAAM,OAERmQ,EAAkB,CACpB,IAAK,IAAInV,EAAI,EAAGA,EAAImV,EAASzU,OAAQV,IAAK,CACxC,IAAIkV,EAAQC,EAASnV,GAER,MAATkV,GAA8B,MAAbA,EAAMlQ,MACR,MAAbD,EAAMC,MAAaD,EAAMC,IAAMkQ,EAAMlQ,KACzCib,GAAW/K,EAAM+K,SAAW,GAIhB,IAAZA,IAAelb,EAAMkb,QAAUA,IAhD7BkE,CAAehF,EAAQ4C,EAAKhd,EAAOua,EAAOC,EAAaC,GACvD,MAEF,SAiDR,SAAuBuC,EAAKhd,EAAOua,EAAOE,GACxC,IAAIzd,EAAUgD,EAAMC,IAAM+c,EAAI/c,IAC9Bwa,EAAKZ,EAAa7Z,IAAUya,EAEV,aAAdza,EAAMmY,MACW,MAAfnY,EAAMgO,QAAehO,EAAMgO,MAAQ,IAErB,MAAdhO,EAAM3D,OACR2D,EAAMgO,MAAMpO,MAAQI,EAAM3D,KAE1B2D,EAAM3D,UAAO1B,KA2WnB,SAAqBqF,EAAOgd,EAAKhP,EAAOyM,GACtC,GAAa,MAATzM,EACF,IAAK,IAAIxC,KAAOwC,EACduN,EAAQvb,EAAOwL,EAAKwR,GAAOA,EAAIxR,GAAMwC,EAAMxC,GAAMiP,GAIrD,IAAI4E,EAEJ,GAAW,MAAPrC,EACF,IAAK,IAAIxR,KAAOwR,EACU,OAAnBqC,EAAMrC,EAAIxR,KAA2B,MAATwC,GAA+B,MAAdA,EAAMxC,IACtD8T,EAAWtf,EAAOwL,EAAK6T,EAAK5E,IAnXlC8E,CAAYvf,EAAOgd,EAAIhP,MAAOhO,EAAMgO,MAAOyM,GAEtCgB,EAAwBzb,KACX,MAAZgd,EAAI3gB,MAA8B,MAAd2D,EAAM3D,MAA+B,KAAf2D,EAAM3D,KAC9C2gB,EAAI3gB,KAAK4G,aAAejD,EAAM3D,KAAK4G,aAAY+Z,EAAI/c,IAAIgb,WAAW+D,UAAYhf,EAAM3D,OAExE,MAAZ2gB,EAAI3gB,OAAc2gB,EAAI5M,SAAW,CAACnE,EAAM,SAAKtR,OAAWA,EAAWqiB,EAAI3gB,UAAM1B,EAAWqiB,EAAI/c,IAAIgb,cAClF,MAAdjb,EAAM3D,OAAc2D,EAAMoQ,SAAW,CAACnE,EAAM,SAAKtR,OAAWA,EAAWqF,EAAM3D,UAAM1B,OAAWA,KAClGoiB,EAAY/f,EAASggB,EAAI5M,SAAUpQ,EAAMoQ,SAAUmK,EAAO,KAAME,KAtE5D+E,CAAcxC,EAAKhd,EAAOua,EAAOE,QA2E3C,SAAyBL,EAAQ4C,EAAKhd,EAAOua,EAAOC,EAAaC,GAE/D,GADAza,EAAMqV,SAAWpJ,EAAM+P,UAAU/B,EAASve,KAAKsE,EAAMyN,MAAM1O,KAAMiB,IAC7DA,EAAMqV,WAAarV,EAAO,MAAM1E,MAAM,0DAC1CyjB,EAAgB/e,EAAMyN,MAAOzN,EAAOua,GACjB,MAAfva,EAAMgO,OAAe+Q,EAAgB/e,EAAMgO,MAAOhO,EAAOua,GAEvC,MAAlBva,EAAMqV,UACY,MAAhB2H,EAAI3H,SAAkBqF,EAAWN,EAAQpa,EAAMqV,SAAUkF,EAAOE,EAAID,GAAkBkD,EAAWtD,EAAQ4C,EAAI3H,SAAUrV,EAAMqV,SAAUkF,EAAOC,EAAaC,GAC/Jza,EAAMC,IAAMD,EAAMqV,SAASpV,IAC3BD,EAAMkb,QAAUlb,EAAMqV,SAAS6F,SACN,MAAhB8B,EAAI3H,UACbqJ,EAAWtE,EAAQ4C,EAAI3H,UACvBrV,EAAMC,SAAMtF,EACZqF,EAAMkb,QAAU,IAEhBlb,EAAMC,IAAM+c,EAAI/c,IAChBD,EAAMkb,QAAU8B,EAAI9B,SAzFbuE,CAAgBrF,EAAQ4C,EAAKhd,EAAOua,EAAOC,EAAaC,QAE/DiE,EAAWtE,EAAQ4C,GACnBtC,EAAWN,EAAQpa,EAAOua,EAAOE,EAAID,GA0FzC,SAAS4D,EAAU/D,EAAQf,EAAOgB,GAGhC,IAFA,IAAIlb,EAAM4C,OAAO8Z,OAAO,MAEjBxC,EAAQgB,EAAKhB,IAAS,CAC3B,IAAItZ,EAAQqa,EAAOf,GAEnB,GAAa,MAATtZ,EAAe,CACjB,IAAIwL,EAAMxL,EAAMwL,IACL,MAAPA,IAAapM,EAAIoM,GAAO8N,IAIhC,OAAOla,EAQT,IAAImf,EAAU,GAwDd,SAASZ,EAAetD,EAAQpf,EAAGuf,GACjC,KAAOvf,EAAIof,EAAO1e,OAAQV,IACxB,GAAiB,MAAbof,EAAOpf,IAA+B,MAAjBof,EAAOpf,GAAGgF,IAAa,OAAOoa,EAAOpf,GAAGgF,IAGnE,OAAOua,EAWT,SAASoD,EAAUxD,EAAQpa,EAAOwa,GAChC,IAAIkF,EAAOjG,EAAKuB,0BAKlB,SAAS2E,EAAgBvF,EAAQsF,EAAM1f,GAErC,KAAoB,MAAbA,EAAMC,KAAeD,EAAMC,IAAI2f,aAAexF,GAAQ,CAC3D,GAAyB,iBAAdpa,EAAMmY,KAEf,GAAa,OADbnY,EAAQA,EAAMqV,UACK,cACd,GAAkB,MAAdrV,EAAMmY,IACf,IAAK,IAAIld,EAAI,EAAGA,EAAI+E,EAAMqV,SAAS1Z,OAAQV,IACzCykB,EAAK7gB,YAAYmB,EAAMqV,SAASpa,SAE7B,GAAkB,MAAd+E,EAAMmY,IAEfuH,EAAK7gB,YAAYmB,EAAMC,UAClB,GAA8B,IAA1BD,EAAMoQ,SAASzU,QAExB,GAAa,OADbqE,EAAQA,EAAMoQ,SAAS,IACJ,cAEnB,IAAK,IAAInV,EAAI,EAAGA,EAAI+E,EAAMoQ,SAASzU,OAAQV,IAAK,CAC9C,IAAIkV,EAAQnQ,EAAMoQ,SAASnV,GACd,MAATkV,GAAewP,EAAgBvF,EAAQsF,EAAMvP,GAIrD,OA3BFwP,CAAgBvF,EAAQsF,EAAM1f,GAC9B6a,EAAWT,EAAQsF,EAAMlF,GA8B3B,SAASK,EAAWT,EAAQna,EAAKua,GACZ,MAAfA,EAAqBJ,EAAOyF,aAAa5f,EAAKua,GAAkBJ,EAAOvb,YAAYoB,GAGzF,SAASwb,EAAwBzb,GAC/B,GAAmB,MAAfA,EAAMgO,OAAgD,MAA/BhO,EAAMgO,MAAM8R,iBACR,MAA/B9f,EAAMgO,MAAM+R,gBACV,OAAO,EACT,IAAI3P,EAAWpQ,EAAMoQ,SAErB,GAAgB,MAAZA,GAAwC,IAApBA,EAASzU,QAAoC,MAApByU,EAAS,GAAG+H,IAAa,CACxE,IAAInR,EAAUoJ,EAAS,GAAGA,SACtBpQ,EAAMC,IAAI6c,YAAc9V,IAAShH,EAAMC,IAAI6c,UAAY9V,QACtD,GAAkB,MAAdhH,EAAM3D,MAA4B,MAAZ+T,GAAwC,IAApBA,EAASzU,OAAc,MAAM,IAAIL,MAAM,mDAE5F,OAAO,EAIT,SAAS2hB,EAAY7C,EAAQC,EAAQf,EAAOgB,GAC1C,IAAK,IAAIrf,EAAIqe,EAAOre,EAAIqf,EAAKrf,IAAK,CAChC,IAAI+E,EAAQqa,EAAOpf,GACN,MAAT+E,GAAe0e,EAAWtE,EAAQpa,IAI1C,SAAS0e,EAAWtE,EAAQpa,GAC1B,IAEIggB,EAAaC,EAYXlf,EAdFmf,EAAO,EACPlG,EAAWha,EAAMyN,MAGI,iBAAdzN,EAAMmY,KAA0D,mBAA/BnY,EAAMyN,MAAMyC,gBAGxC,OAFVnP,EAASkZ,EAASve,KAAKsE,EAAMyN,MAAMyC,eAAgBlQ,KAEV,mBAAhBe,EAAOD,OAClCof,EAAO,EACPF,EAAcjf,GAIdf,EAAMgO,OAA+C,mBAA/BhO,EAAMgO,MAAMkC,gBAGtB,OAFVnP,EAASkZ,EAASve,KAAKsE,EAAMgO,MAAMkC,eAAgBlQ,KAEV,mBAAhBe,EAAOD,OAElCof,GAAQ,EACRD,EAAclf,GAMlB,GAFAgZ,EAAW/Z,EAAOga,GAEbkG,EAGE,CACL,GAAmB,MAAfF,EAAqB,CACvB,IAAI9c,EAAO,WAEE,EAAPgd,KACFA,GAAQ,IACGC,MAIfH,EAAYlf,KAAKoC,EAAMA,GAGzB,GAAmB,MAAf+c,EAAqB,CACnB/c,EAAO,WAEE,EAAPgd,KACFA,GAAQ,IACGC,MAIfF,EAAYnf,KAAKoC,EAAMA,SAxBzBqL,EAASvO,GACTogB,EAAYhG,EAAQpa,GA2BtB,SAASmgB,IACPpG,EAAW/Z,EAAOga,GAClBzL,EAASvO,GACTogB,EAAYhG,EAAQpa,IAIxB,SAASkf,EAAW9E,EAAQpa,GAC1B,IAAK,IAAI/E,EAAI,EAAGA,EAAI+E,EAAMqV,SAAS1Z,OAAQV,IACzCmf,EAAOgG,YAAYpgB,EAAMqV,SAASpa,IAItC,SAASmlB,EAAYhG,EAAQpa,GAE3B,KAAoB,MAAbA,EAAMC,KAAeD,EAAMC,IAAI2f,aAAexF,GAAQ,CAC3D,GAAyB,iBAAdpa,EAAMmY,KAEf,GAAa,OADbnY,EAAQA,EAAMqV,UACK,cACd,GAAkB,MAAdrV,EAAMmY,IACf+G,EAAW9E,EAAQpa,OACd,CACL,GAAkB,MAAdA,EAAMmY,MACRiC,EAAOgG,YAAYpgB,EAAMC,MACpB8C,MAAMC,QAAQhD,EAAMoQ,WAAW,MAGtC,GAA8B,IAA1BpQ,EAAMoQ,SAASzU,QAEjB,GAAa,OADbqE,EAAQA,EAAMoQ,SAAS,IACJ,cAEnB,IAAK,IAAInV,EAAI,EAAGA,EAAI+E,EAAMoQ,SAASzU,OAAQV,IAAK,CAC9C,IAAIkV,EAAQnQ,EAAMoQ,SAASnV,GACd,MAATkV,GAAeiQ,EAAYhG,EAAQjK,IAK7C,OAIJ,SAAS5B,EAASvO,GAIhB,GAHyB,iBAAdA,EAAMmY,KAAoD,mBAAzBnY,EAAMyN,MAAMc,UAAyB0L,EAASve,KAAKsE,EAAMyN,MAAMc,SAAUvO,GACjHA,EAAMgO,OAAyC,mBAAzBhO,EAAMgO,MAAMO,UAAyB0L,EAASve,KAAKsE,EAAMgO,MAAMO,SAAUvO,GAE1E,iBAAdA,EAAMmY,IACO,MAAlBnY,EAAMqV,UAAkB9G,EAASvO,EAAMqV,cACtC,CACL,IAAIjF,EAAWpQ,EAAMoQ,SAErB,GAAIrN,MAAMC,QAAQoN,GAChB,IAAK,IAAInV,EAAI,EAAGA,EAAImV,EAASzU,OAAQV,IAAK,CACxC,IAAIkV,EAAQC,EAASnV,GACR,MAATkV,GAAe5B,EAAS4B,KAapC,SAASoL,EAAQvb,EAAOwL,EAAKwR,EAAKpd,EAAO6a,GACvC,GAAY,QAARjP,GAAyB,OAARA,GAAyB,MAAT5L,IAAiBygB,EAAkB7U,KAAQwR,IAAQpd,GAsE1F,SAAyBI,EAAOsgB,GAC9B,MAAgB,UAATA,GAA6B,YAATA,GAA+B,kBAATA,GAAqC,aAATA,GAAuBtgB,EAAMC,MAAQia,KAAiC,WAAdla,EAAMmY,KAAoBnY,EAAMC,IAAI2f,aAAenG,EAAKS,cAvE3FqG,CAAgBvgB,EAAOwL,IAA2B,WAAnB7J,EAAQ/B,IAAzI,CACA,GAAe,MAAX4L,EAAI,IAAyB,MAAXA,EAAI,GAAY,OAAOgV,EAAYxgB,EAAOwL,EAAK5L,GACrE,GAAwB,WAApB4L,EAAI6D,MAAM,EAAG,GAAiBrP,EAAMC,IAAIwgB,eAAe,+BAAgCjV,EAAI6D,MAAM,GAAIzP,QAAY,GAAY,UAAR4L,EAAiBkV,EAAY1gB,EAAMC,IAAK+c,EAAKpd,QAAY,GAAI+gB,EAAe3gB,EAAOwL,EAAKiP,GAAK,CACpN,GAAY,UAARjP,EAAiB,CAKnB,IAAmB,UAAdxL,EAAMmY,KAAiC,aAAdnY,EAAMmY,MAAuBnY,EAAMC,IAAIL,QAAU,GAAKA,GAASI,EAAMC,MAAQia,IAAiB,OAE5H,GAAkB,WAAdla,EAAMmY,KAA4B,OAAR6E,GAAgBhd,EAAMC,IAAIL,QAAU,GAAKA,EAAO,OAE9E,GAAkB,WAAdI,EAAMmY,KAA4B,OAAR6E,GAAgBhd,EAAMC,IAAIL,QAAU,GAAKA,EAAO,OAK9D,UAAdI,EAAMmY,KAA2B,SAAR3M,EAAgBxL,EAAMC,IAAIxB,aAAa+M,EAAK5L,GAAYI,EAAMC,IAAIuL,GAAO5L,MAEjF,kBAAVA,EACLA,EAAOI,EAAMC,IAAIxB,aAAa+M,EAAK,IAASxL,EAAMC,IAAI2gB,gBAAgBpV,GACrExL,EAAMC,IAAIxB,aAAqB,cAAR+M,EAAsB,QAAUA,EAAK5L,IAIvE,SAAS0f,EAAWtf,EAAOwL,EAAKwR,EAAKvC,GACnC,GAAY,QAARjP,GAAyB,OAARA,GAAuB,MAAPwR,IAAeqD,EAAkB7U,GACtE,GAAe,MAAXA,EAAI,IAAyB,MAAXA,EAAI,IAAe6U,EAAkB7U,GAA8C,GAAY,UAARA,EAAiBkV,EAAY1gB,EAAMC,IAAK+c,EAAK,WAAW,IAAI2D,EAAe3gB,EAAOwL,EAAKiP,IAAe,cAARjP,GAAiC,UAARA,IAAkC,WAAdxL,EAAMmY,KAAkC,WAAdnY,EAAMmY,MAAiD,IAA7BnY,EAAMC,IAAI0b,eAAwB3b,EAAMC,MAAQia,MAAqC,UAAdla,EAAMmY,KAA2B,SAAR3M,EAErY,CACL,IAAIqV,EAAcrV,EAAIjH,QAAQ,MACT,IAAjBsc,IAAoBrV,EAAMA,EAAI6D,MAAMwR,EAAc,KAC1C,IAAR7D,GAAehd,EAAMC,IAAI2gB,gBAAwB,cAARpV,EAAsB,QAAUA,QAJ7ExL,EAAMC,IAAIuL,GAAO,UAD8CgV,EAAYxgB,EAAOwL,OAAK7Q,GA+C3F,SAAS0lB,EAAkBC,GACzB,MAAgB,WAATA,GAA8B,aAATA,GAAgC,aAATA,GAAgC,aAATA,GAAgC,mBAATA,GAAsC,mBAATA,EAGhI,SAASK,EAAe3gB,EAAOwL,EAAKiP,GAElC,YAAc9f,IAAP8f,KACmB,EAA1Bza,EAAMmY,IAAI5T,QAAQ,MAA4B,MAAfvE,EAAMgO,OAAiBhO,EAAMgO,MAAMqN,IAC1D,SAAR7P,GAA0B,SAARA,GAA0B,SAARA,GAA0B,UAARA,GAA2B,WAARA,IAEpEA,KAAOxL,EAAMC,IAIpB,IAAI6gB,EAAiB,SAErB,SAASnZ,EAAYoZ,GACnB,MAAO,IAAMA,EAAQpZ,cAGvB,SAASqZ,EAAaxV,GACpB,MAAkB,MAAXA,EAAI,IAAyB,MAAXA,EAAI,GAAaA,EAAc,aAARA,EAAqB,QAAUA,EAAItH,QAAQ4c,EAAgBnZ,GAG7G,SAAS+Y,EAAY1jB,EAASggB,EAAKzd,GACjC,GAAIyd,IAAQzd,QACL,GAAa,MAATA,EAETvC,EAAQuC,MAAM0hB,QAAU,QACnB,GAAuB,WAAnBtf,EAAQpC,GAEjBvC,EAAQuC,MAAM0hB,QAAU1hB,OACnB,GAAW,MAAPyd,GAAgC,WAAjBrb,EAAQqb,GAIhC,IAAK,IAAIxR,KAFTxO,EAAQuC,MAAM0hB,QAAU,GAER1hB,EAAO,CAER,OADTK,EAAQL,EAAMiM,KACCxO,EAAQuC,MAAM2hB,YAAYF,EAAaxV,GAAMoI,OAAOhU,QAEpE,CAGL,IAAK,IAAI4L,KAAOjM,EAAO,CACrB,IAAIK,EAES,OAFTA,EAAQL,EAAMiM,MAEI5L,EAAQgU,OAAOhU,MAAYgU,OAAOoJ,EAAIxR,KAC1DxO,EAAQuC,MAAM2hB,YAAYF,EAAaxV,GAAM5L,GAKjD,IAAK,IAAI4L,KAAOwR,EACE,MAAZA,EAAIxR,IAA8B,MAAdjM,EAAMiM,IAC5BxO,EAAQuC,MAAM4hB,eAAeH,EAAaxV,KAiBlD,SAAS4V,IAEPtjB,KAAKujB,EAAI7H,EAkBX,SAASgH,EAAYxgB,EAAOwL,EAAK5L,GAC/B,GAAoB,MAAhBI,EAAM4e,OAAgB,CACxB,GAAI5e,EAAM4e,OAAOpT,KAAS5L,EAAO,OAEpB,MAATA,GAAmC,mBAAVA,GAA2C,WAAnB+B,EAAQ/B,IAIlC,MAArBI,EAAM4e,OAAOpT,IAAcxL,EAAMC,IAAI3C,oBAAoBkO,EAAI6D,MAAM,GAAIrP,EAAM4e,QAAQ,GACzF5e,EAAM4e,OAAOpT,QAAO7Q,IAJK,MAArBqF,EAAM4e,OAAOpT,IAAcxL,EAAMC,IAAI9C,iBAAiBqO,EAAI6D,MAAM,GAAIrP,EAAM4e,QAAQ,GACtF5e,EAAM4e,OAAOpT,GAAO5L,QAKJ,MAATA,GAAmC,mBAAVA,GAA2C,WAAnB+B,EAAQ/B,KAClEI,EAAM4e,OAAS,IAAIwC,EACnBphB,EAAMC,IAAI9C,iBAAiBqO,EAAI6D,MAAM,GAAIrP,EAAM4e,QAAQ,GACvD5e,EAAM4e,OAAOpT,GAAO5L,GAKxB,SAAS+a,EAAcxH,EAAQnT,EAAOua,GACP,mBAAlBpH,EAAOlD,QAAuBgK,EAASve,KAAKyX,EAAOlD,OAAQjQ,GACvC,mBAApBmT,EAAO9S,UAAyBka,EAAMjY,KAAK2X,EAAShb,KAAKkU,EAAO9S,SAAUL,IAGvF,SAAS+e,EAAgB5L,EAAQnT,EAAOua,GACP,mBAApBpH,EAAOpT,UAAyBwa,EAAMjY,KAAK2X,EAAShb,KAAKkU,EAAOpT,SAAUC,IAmCvF,OA3EAohB,EAAUliB,UAAY8C,OAAO8Z,OAAO,OAEhBtL,YAAc,SAAU8Q,GAC1C,IACIvgB,EADA7D,EAAUY,KAAK,KAAOwjB,EAAG7jB,MAEN,mBAAZP,EAAwB6D,EAAS7D,EAAQxB,KAAK4lB,EAAG/Q,cAAe+Q,GAA4C,mBAAxBpkB,EAAQsT,aAA4BtT,EAAQsT,YAAY8Q,GACnJxjB,KAAKujB,IAAmB,IAAdC,EAAG/gB,SAAkB,EAAIzC,KAAKujB,MAE7B,IAAXtgB,IACFugB,EAAGtQ,iBACHsQ,EAAGC,oBAiEA,SAAUthB,EAAKoa,EAAQ9Z,GAC5B,IAAKN,EAAK,MAAM,IAAImD,UAAU,qFAC9B,IAAImX,EAAQ,GACRiH,EAAStH,IACTuH,EAAYxhB,EAAIyhB,aAEF,MAAdzhB,EAAIoa,SAAgBpa,EAAIyb,YAAc,IAC1CrB,EAASpO,EAAMmM,kBAAkBrV,MAAMC,QAAQqX,GAAUA,EAAS,CAACA,IACnE,IAAIsH,EAAanI,EAEjB,IACEA,EAAkC,mBAAXjZ,EAAwBA,OAAS5F,EACxDoiB,EAAY9c,EAAKA,EAAIoa,OAAQA,EAAQE,EAAO,KAAoB,iCAAdkH,OAA+C9mB,EAAY8mB,GAC7G,QACAjI,EAAgBmI,EAGlB1hB,EAAIoa,OAASA,EAEC,MAAVmH,GAAkBtH,MAAoBsH,GAAkC,mBAAjBA,EAAOthB,OAAsBshB,EAAOthB,QAE/F,IAAK,IAAIjF,EAAI,EAAGA,EAAIsf,EAAM5e,OAAQV,IAChCsf,EAAMtf,QAKV,CAAC2R,kBAAkB,KAAKgV,GAAG,CAAC,SAAS/lB,EAAQC,EAAOL,GACtD,aAEA,IAAIwQ,EAAQpQ,EAAQ,mBAEpBC,EAAOL,QAAU,SAAUomB,GAEzB,OADY,MAARA,IAAcA,EAAO,IAClB5V,EAAM,SAAKtR,OAAWA,EAAWknB,OAAMlnB,OAAWA,KAGzD,CAACiS,kBAAkB,KAAKkV,GAAG,CAAC,SAASjmB,EAAQC,EAAOL,GACtD,aAEA,SAASkG,EAAQC,GAAmV,OAAtOD,EAArD,mBAAXE,QAAoD,iBAApBA,OAAOC,SAAmC,SAAiBF,GAAO,cAAcA,GAA2B,SAAiBA,GAAO,OAAOA,GAAyB,mBAAXC,QAAyBD,EAAIG,cAAgBF,QAAUD,IAAQC,OAAO3C,UAAY,gBAAkB0C,IAAyBA,GAEnX,SAASqK,EAAMkM,EAAK3M,EAAKwC,EAAOoC,EAAU/T,EAAM4D,GAC9C,MAAO,CACLkY,IAAKA,EACL3M,IAAKA,EACLwC,MAAOA,EACPoC,SAAUA,EACV/T,KAAMA,EACN4D,IAAKA,EACLib,aAASvgB,EACT8S,WAAO9S,EACPikB,YAAQjkB,EACR0a,cAAU1a,GAIdsR,EAAM+P,UAAY,SAAU+F,GAC1B,OAAIhf,MAAMC,QAAQ+e,GAAc9V,EAAM,SAAKtR,OAAWA,EAAWsR,EAAMmM,kBAAkB2J,QAAOpnB,OAAWA,GAC/F,MAARonB,GAAgC,kBAATA,EAA2B,KAChC,WAAlBpgB,EAAQogB,GAA2BA,EAChC9V,EAAM,SAAKtR,OAAWA,EAAWiZ,OAAOmO,QAAOpnB,OAAWA,IAGnEsR,EAAMmM,kBAAoB,SAAU4J,GAClC,IAAI5R,EAAW,GAEf,GAAI4R,EAAMrmB,OAAQ,CAKhB,IAJA,IAAIwhB,EAAsB,MAAZ6E,EAAM,IAA8B,MAAhBA,EAAM,GAAGxW,IAIlCvQ,EAAI,EAAGA,EAAI+mB,EAAMrmB,OAAQV,IAChC,IAAiB,MAAZ+mB,EAAM/mB,IAA8B,MAAhB+mB,EAAM/mB,GAAGuQ,MAAiB2R,EACjD,MAAM,IAAI/Z,UAAU,2DAIxB,IAASnI,EAAI,EAAGA,EAAI+mB,EAAMrmB,OAAQV,IAChCmV,EAASnV,GAAKgR,EAAM+P,UAAUgG,EAAM/mB,IAIxC,OAAOmV,GAGTtU,EAAOL,QAAUwQ,GAEf,IAAIgW,GAAG,CAAC,SAASpmB,EAAQC,EAAOL,GAClC,aAEA,IAAI0W,EAAkBtW,EAAQ,qBAE1BwR,EAAcxR,EAAQ,kBAE1BC,EAAOL,QAAUI,EAAQ,oBAARA,CAA6BW,OAAQ2V,EAAiB9E,EAAY9M,SAEjF,CAAC8R,iBAAiB,EAAE6P,oBAAoB,GAAGC,oBAAoB,KAAKC,GAAG,CAAC,SAASvmB,EAAQC,EAAOL,GAClG,aAEA,IAAIsR,EAAgBlR,EAAQ,qBAE5BC,EAAOL,QAAU,SAAU2R,EAAS1J,EAAS2e,GAC3C,IAAIC,EAAgB,EAEpB,SAASC,EAAavN,GACpB,OAAO,IAAItR,EAAQsR,GASrB,SAASwN,EAAYC,GACnB,OAAO,SAAUvhB,EAAK8V,GACD,iBAAR9V,EAETA,GADA8V,EAAO9V,GACGA,IACO,MAAR8V,IAAcA,EAAO,IAEhC,IAAIX,EAAU,IAAI3S,EAAQ,SAAUC,EAASwF,GAC3CsZ,EAAQ1V,EAAc7L,EAAK8V,EAAKlN,QAASkN,EAAM,SAAU1S,GACvD,GAAyB,mBAAd0S,EAAKvZ,KACd,GAAIsF,MAAMC,QAAQsB,GAChB,IAAK,IAAIrJ,EAAI,EAAGA,EAAIqJ,EAAK3I,OAAQV,IAC/BqJ,EAAKrJ,GAAK,IAAI+b,EAAKvZ,KAAK6G,EAAKrJ,SAE1BqJ,EAAO,IAAI0S,EAAKvZ,KAAK6G,GAG9BX,EAAQW,IACP6E,KAEL,IAAwB,IAApB6N,EAAK0L,WAAqB,OAAOrM,EACrC,IAAIG,EAAQ,EAEZ,SAASmM,IACS,KAAVnM,GAAuC,mBAAjB6L,GAA6BA,IAG3D,OAEA,SAASO,EAAKvM,GACZ,IAAIvV,EAAOuV,EAAQvV,KAQnBuV,EAAQtU,YAAcwgB,EAEtBlM,EAAQvV,KAAO,WACb0V,IACA,IAAItT,EAAOpC,EAAKyB,MAAM8T,EAAS7T,WAK/B,OAJAU,EAAKpC,KAAK6hB,EAAU,SAAU9nB,GAE5B,GADA8nB,IACc,IAAVnM,EAAa,MAAM3b,IAElB+nB,EAAK1f,IAGd,OAAOmT,EAvBFuM,CAAKvM,IA4BhB,SAASwM,EAAU7L,EAAMpR,GACvB,IAAK,IAAI4F,KAAOwL,EAAKtS,QACnB,GAAI,GAAGgU,eAAehd,KAAKsb,EAAKtS,QAAS8G,IAAQ5F,EAAK8I,KAAKlD,GAAM,OAAO,EAG1E,OAAO,EAGT,OAlEA+W,EAAarjB,UAAYwE,EAAQxE,UACjCqjB,EAAaO,UAAYpf,EAiElB,CACLsC,QAASwc,EAAY,SAAUthB,EAAK8V,EAAMrT,EAASwF,GACjD,IAOI4Z,EAPA3c,EAAwB,MAAf4Q,EAAK5Q,OAAiB4Q,EAAK5Q,OAAO4c,cAAgB,MAC3DpkB,EAAOoY,EAAKpY,KACZqkB,IAAgC,MAAlBjM,EAAKkM,WAAqBlM,EAAKkM,YAActf,KAAKsf,WAAgBtkB,aAAgBwO,EAAQ+V,UACxGC,EAAepM,EAAKoM,eAAyC,mBAAjBpM,EAAKqM,QAAyB,GAAK,QAC/EC,EAAM,IAAIlW,EAAQ5C,eAClB+Y,GAAU,EACVvJ,EAAWsJ,EAEX3Y,EAAQ2Y,EAAI3Y,MAqBhB,IAAK,IAAIa,KAnBT8X,EAAI3Y,MAAQ,WACV4Y,GAAU,EACV5Y,EAAMjP,KAAKoC,OAGbwlB,EAAIhjB,KAAK8F,EAAQlF,GAAoB,IAAf8V,EAAKwM,MAAsC,iBAAdxM,EAAKyM,KAAoBzM,EAAKyM,UAAO9oB,EAAoC,iBAAlBqc,EAAK0M,SAAwB1M,EAAK0M,cAAW/oB,GAEnJsoB,GAAsB,MAARrkB,IAAiBikB,EAAU7L,EAAM,oBACjDsM,EAAI7Y,iBAAiB,eAAgB,mCAGP,mBAArBuM,EAAK2M,aAA+Bd,EAAU7L,EAAM,cAC7DsM,EAAI7Y,iBAAiB,SAAU,4BAG7BuM,EAAK4M,kBAAiBN,EAAIM,gBAAkB5M,EAAK4M,iBACjD5M,EAAKvS,UAAS6e,EAAI7e,QAAUuS,EAAKvS,SACrC6e,EAAIF,aAAeA,EAEHpM,EAAKtS,SACf,GAAGgU,eAAehd,KAAKsb,EAAKtS,QAAS8G,IACvC8X,EAAI7Y,iBAAiBe,EAAKwL,EAAKtS,QAAQ8G,IAI3C8X,EAAI1Y,mBAAqB,SAAU0W,GAEjC,IAAIiC,GAEyB,IAAzBjC,EAAG1jB,OAAOiN,WACZ,IACE,IAOIhF,EAPAge,EAA8B,KAApBvC,EAAG1jB,OAAOsH,QAAiBoc,EAAG1jB,OAAOsH,OAAS,KAA4B,MAArBoc,EAAG1jB,OAAOsH,QAAkB,cAAcwJ,KAAKxN,GAM9G+E,EAAWqb,EAAG1jB,OAAOqI,SAuBzB,GApBqB,SAAjBmd,EAGG9B,EAAG1jB,OAAOwlB,cAAwC,mBAAjBpM,EAAKqM,UAAwBpd,EAAWrC,KAAKE,MAAMwd,EAAG1jB,OAAOqN,eACzFmY,GAAiC,SAAjBA,GAMV,MAAZnd,IAAkBA,EAAWqb,EAAG1jB,OAAOqN,cAGjB,mBAAjB+L,EAAKqM,SACdpd,EAAW+Q,EAAKqM,QAAQ/B,EAAG1jB,OAAQoZ,GACnC6M,GAAU,GAC2B,mBAArB7M,EAAK2M,cACrB1d,EAAW+Q,EAAK2M,YAAY1d,IAG1B4d,EAASlgB,EAAQsC,OAAe,CAClC,IACEJ,EAAUyb,EAAG1jB,OAAOqN,aACpB,MAAOpQ,GACPgL,EAAUI,EAGZ,IAAI5E,EAAQ,IAAI/F,MAAMuK,GACtBxE,EAAM9F,KAAO+lB,EAAG1jB,OAAOsH,OACvB7D,EAAM4E,SAAWA,EACjBkD,EAAO9H,IAET,MAAOxG,GACPsO,EAAOtO,KAKc,mBAAhBmc,EAAKhb,SACdsnB,EAAMtM,EAAKhb,OAAOsnB,EAAKtM,EAAM9V,IAAQoiB,KAEzBtJ,IACV+I,EAAgBO,EAAI3Y,MAEpB2Y,EAAI3Y,MAAQ,WACV4Y,GAAU,EACVR,EAAcrnB,KAAKoC,QAKb,MAARc,EAAc0kB,EAAI5b,OAA0C,mBAAnBsP,EAAKkM,UAA0BI,EAAI5b,KAAKsP,EAAKkM,UAAUtkB,IAAgBA,aAAgBwO,EAAQ+V,SAAUG,EAAI5b,KAAK9I,GAAW0kB,EAAI5b,KAAK9D,KAAKC,UAAUjF,MAEpMoT,MAAOwQ,EAAY,SAAUthB,EAAK8V,EAAMrT,EAASwF,GAC/C,IAAI2a,EAAe9M,EAAK8M,cAAgB,YAAcpb,KAAKqb,MAAsB,KAAhBrb,KAAKE,UAAmB,IAAM0Z,IAC3F0B,EAAS5W,EAAQ7O,SAASC,cAAc,UAE5C4O,EAAQ0W,GAAgB,SAAUxf,UACzB8I,EAAQ0W,GACfE,EAAOpE,WAAWQ,YAAY4D,GAC9BrgB,EAAQW,IAGV0f,EAAOhZ,QAAU,kBACRoC,EAAQ0W,GACfE,EAAOpE,WAAWQ,YAAY4D,GAC9B7a,EAAO,IAAI7N,MAAM,0BAGnB0oB,EAAOC,IAAM/iB,GAAOA,EAAIqD,QAAQ,KAAO,EAAI,IAAM,KAAOJ,mBAAmB6S,EAAKkN,aAAe,YAAc,IAAM/f,mBAAmB2f,GACtI1W,EAAQ7O,SAAS4lB,gBAAgBtlB,YAAYmlB,QAKjD,CAAC7S,oBAAoB,KAAKiT,GAAG,CAAC,SAASvoB,EAAQC,EAAOL,GACxD,aAEA,IAAI4R,EAAcxR,EAAQ,kBAE1BC,EAAOL,QAAUI,EAAQ,eAARA,CAAwBW,OAAQ6Q,IAE/C,CAACgX,eAAe,EAAEhS,iBAAiB,IAAIiS,GAAG,CAAC,SAASzoB,EAAQC,EAAOL,GACrE,aAGA,IAKI8oB,EACAC,EANAC,EAAU3oB,EAAOL,QAAU,GAQ/B,SAASipB,IACP,MAAM,IAAIppB,MAAM,mCAGlB,SAASqpB,IACP,MAAM,IAAIrpB,MAAM,qCAyBlB,SAASspB,EAAWC,GAClB,GAAIN,IAAqB7Z,WAEvB,OAAOA,WAAWma,EAAK,GAIzB,IAAKN,IAAqBG,IAAqBH,IAAqB7Z,WAElE,OADA6Z,EAAmB7Z,WACZA,WAAWma,EAAK,GAGzB,IAEE,OAAON,EAAiBM,EAAK,GAC7B,MAAOhqB,GACP,IAEE,OAAO0pB,EAAiB7oB,KAAK,KAAMmpB,EAAK,GACxC,MAAOhqB,GAEP,OAAO0pB,EAAiB7oB,KAAKoC,KAAM+mB,EAAK,MA3C9C,WACE,IAEIN,EADwB,mBAAf7Z,WACUA,WAEAga,EAErB,MAAO7pB,GACP0pB,EAAmBG,EAGrB,IAEIF,EAD0B,mBAAjBzZ,aACYA,aAEA4Z,EAEvB,MAAO9pB,GACP2pB,EAAqBG,GAlBzB,GA2EA,IAEIG,EAFAC,EAAQ,GACRC,GAAW,EAEXC,GAAc,EAElB,SAASC,IACFF,GAAaF,IAIlBE,GAAW,EAEPF,EAAanpB,OACfopB,EAAQD,EAAaxe,OAAOye,GAE5BE,GAAc,EAGZF,EAAMppB,QACRwpB,KAIJ,SAASA,IACP,IAAIH,EAAJ,CAIA,IAAIvgB,EAAUmgB,EAAWM,GACzBF,GAAW,EAGX,IAFA,IAAII,EAAML,EAAMppB,OAETypB,GAAK,CAIV,IAHAN,EAAeC,EACfA,EAAQ,KAECE,EAAaG,GAChBN,GACFA,EAAaG,GAAYpP,MAI7BoP,GAAc,EACdG,EAAML,EAAMppB,OAGdmpB,EAAe,KACfE,GAAW,EA1Eb,SAAyBK,GACvB,GAAIb,IAAuBzZ,aAEzB,OAAOA,aAAasa,GAItB,IAAKb,IAAuBG,IAAwBH,IAAuBzZ,aAEzE,OADAyZ,EAAqBzZ,aACdA,aAAasa,GAGtB,IAESb,EAAmBa,GAC1B,MAAOxqB,GACP,IAEE,OAAO2pB,EAAmB9oB,KAAK,KAAM2pB,GACrC,MAAOxqB,GAGP,OAAO2pB,EAAmB9oB,KAAKoC,KAAMunB,KAqDzCC,CAAgB7gB,IAoBlB,SAAS8gB,EAAKV,EAAKW,GACjB1nB,KAAK+mB,IAAMA,EACX/mB,KAAK0nB,MAAQA,EAef,SAASC,KAlCThB,EAAQiB,SAAW,SAAUb,GAC3B,IAAI7N,EAAO,IAAIjU,MAAMP,UAAU7G,OAAS,GAExC,GAAuB,EAAnB6G,UAAU7G,OACZ,IAAK,IAAIV,EAAI,EAAGA,EAAIuH,UAAU7G,OAAQV,IACpC+b,EAAK/b,EAAI,GAAKuH,UAAUvH,GAI5B8pB,EAAMziB,KAAK,IAAIijB,EAAKV,EAAK7N,IAEJ,IAAjB+N,EAAMppB,QAAiBqpB,GACzBJ,EAAWO,IAUfI,EAAKrmB,UAAU2W,IAAM,WACnB/X,KAAK+mB,IAAItiB,MAAM,KAAMzE,KAAK0nB,QAG5Bf,EAAQrjB,MAAQ,UAChBqjB,EAAQkB,SAAU,EAClBlB,EAAQmB,IAAM,GACdnB,EAAQoB,KAAO,GACfpB,EAAQjb,QAAU,GAElBib,EAAQqB,SAAW,GAInBrB,EAAQsB,GAAKN,EACbhB,EAAQuB,YAAcP,EACtBhB,EAAQwB,KAAOR,EACfhB,EAAQyB,IAAMT,EACdhB,EAAQ0B,eAAiBV,EACzBhB,EAAQ2B,mBAAqBX,EAC7BhB,EAAQ4B,KAAOZ,EACfhB,EAAQ6B,gBAAkBb,EAC1BhB,EAAQ8B,oBAAsBd,EAE9BhB,EAAQ+B,UAAY,SAAU5gB,GAC5B,MAAO,IAGT6e,EAAQgC,QAAU,SAAU7gB,GAC1B,MAAM,IAAItK,MAAM,qCAGlBmpB,EAAQiC,IAAM,WACZ,MAAO,KAGTjC,EAAQkC,MAAQ,SAAUC,GACxB,MAAM,IAAItrB,MAAM,mCAGlBmpB,EAAQoC,MAAQ,WACd,OAAO,IAGP,IAAIC,GAAG,CAAC,SAASjrB,EAAQC,EAAOL,IAClC,SAAWqR,EAAaia,GACxB,aAEA,IAAIrB,EAAW7pB,EAAQ,sBAAsB6pB,SAEzCnjB,EAAQykB,SAAS9nB,UAAUqD,MAC3B8M,EAAQtM,MAAM7D,UAAUmQ,MACxB4X,EAAe,GACfC,EAAkB,EActB,SAASC,EAAQjO,EAAIkO,GACnBtpB,KAAKupB,IAAMnO,EACXpb,KAAKwpB,SAAWF,EAdlB3rB,EAAQiP,WAAa,WACnB,OAAO,IAAIyc,EAAQ5kB,EAAM7G,KAAKgP,WAAYlO,OAAQgG,WAAYuI,eAGhEtP,EAAQmF,YAAc,WACpB,OAAO,IAAIumB,EAAQ5kB,EAAM7G,KAAKkF,YAAapE,OAAQgG,WAAYxB,gBAGjEvF,EAAQsP,aAAetP,EAAQuF,cAAgB,SAAUyD,GACvDA,EAAQzG,SAQVmpB,EAAQjoB,UAAUqoB,MAAQJ,EAAQjoB,UAAUsoB,IAAM,aAElDL,EAAQjoB,UAAUlB,MAAQ,WACxBF,KAAKwpB,SAAS5rB,KAAKc,OAAQsB,KAAKupB,MAIlC5rB,EAAQgsB,OAAS,SAAUC,EAAMC,GAC/B5c,aAAa2c,EAAKE,gBAClBF,EAAKG,aAAeF,GAGtBlsB,EAAQqsB,SAAW,SAAUJ,GAC3B3c,aAAa2c,EAAKE,gBAClBF,EAAKG,cAAgB,GAGvBpsB,EAAQssB,aAAetsB,EAAQ+lB,OAAS,SAAUkG,GAChD3c,aAAa2c,EAAKE,gBAClB,IAAID,EAAQD,EAAKG,aAEJ,GAATF,IACFD,EAAKE,eAAiBld,WAAW,WAC3Bgd,EAAKM,YAAYN,EAAKM,cACzBL,KAKPlsB,EAAQqR,aAAuC,mBAAjBA,EAA8BA,EAAe,SAAUgJ,GACnF,IAAIoD,EAAKgO,IACLlQ,IAAOxU,UAAU7G,OAAS,IAAY0T,EAAM3T,KAAK8G,UAAW,GAgBhE,OAfAykB,EAAa/N,IAAM,EACnBwM,EAAS,WACHuB,EAAa/N,KAGXlC,EACFlB,EAAGvT,MAAM,KAAMyU,GAEflB,EAAGpa,KAAK,MAIVD,EAAQsrB,eAAe7N,MAGpBA,GAETzd,EAAQsrB,eAA2C,mBAAnBA,EAAgCA,EAAiB,SAAU7N,UAClF+N,EAAa/N,MAGnBxd,KAAKoC,KAAKjC,EAAQ,UAAUiR,aAAajR,EAAQ,UAAUkrB,iBAC5D,CAACkB,qBAAqB,GAAGzW,OAAS,MAAM,GAAG,CAAC,IAtmH9C","file":"script.min.js","sourcesContent":["(function () { var require = undefined; var define = undefined; (function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){\n'use strict';\n\nvar Lucy = require('./third-party/lucy.js');\n\nvar config = {\n  algoliaAppId: 'CGLHJ0181U',\n  algoliaAppKey: '8fa2f724a6314f9a0b840c85b05b943e',\n  algoliaIndexName: 'mc4wp_kb',\n  links: [{\n    text: \"<span class=\\\"dashicons dashicons-book\\\"></span> Knowledge Base\",\n    href: \"https://www.mc4wp.com/kb/\"\n  }, {\n    text: \"<span class=\\\"dashicons dashicons-editor-code\\\"></span> Code Snippets\",\n    href: \"https://github.com/ibericode/mc4wp-snippets\"\n  }, {\n    text: \"<span class=\\\"dashicons dashicons-editor-break\\\"></span> Changelog (free plugin)\",\n    href: \"https://wordpress.org/plugins/mailchimp-for-wp/#developers\"\n  }, {\n    text: \"<span class=\\\"dashicons dashicons-editor-break\\\"></span> Changelog (Premium plugin)\",\n    href: \"https://my.mc4wp.com/plugins/1/changelog\"\n  }],\n  contactLink: 'mailto:support@mc4wp.com'\n}; // grab from WP dumped var.\n\nif (window.lucy_config) {\n  config.contactLink = window.lucy_config.email_link;\n}\n\nnew Lucy(config.algoliaAppId, config.algoliaAppKey, config.algoliaIndexName, config.links, config.contactLink);\n\n},{\"./third-party/lucy.js\":2}],2:[function(require,module,exports){\n\"use strict\";\n\nvar m = require('mithril');\n\nvar algoliasearch = require('algoliasearch/lite');\n\nfunction addEvent(element, event, handler) {\n  if (element.addEventListener) {\n    element.addEventListener(event, handler, false);\n  } else {\n    element.attachEvent('on' + event, handler);\n  }\n}\n\nfunction removeEvent(element, event, handler) {\n  if (element.removeEventListener) {\n    element.removeEventListener(event, handler);\n  } else {\n    element.detachEvent('on' + event, handler);\n  }\n}\n\nfunction maybeClose(event) {\n  // close when pressing ESCAPE\n  if (event.type === 'keyup' && event.keyCode === 27) {\n    this.close();\n    return;\n  } // close when clicking ANY element outside of Lucy\n\n\n  var clickedElement = event.target || event.srcElement;\n\n  if (event.type === 'click' && this.element.contains && !this.element.contains(clickedElement)) {\n    this.close();\n  }\n}\n\nfunction listenForInput(event) {\n  var element = event.target || event.srcElement;\n  var value = element.value; // revert back to list of links when empty\n\n  if (value === '' && this.searchQuery !== '') {\n    this.reset();\n    return;\n  }\n\n  this.searchQuery = value; // perform search on [ENTER]\n\n  if (event.keyCode === 13) {\n    this.search(value);\n  }\n}\n\nvar Lucy = function Lucy(algoliaAppId, algoliaAppKey, algoliaIndexName, links, contactLink) {\n  this.algolia = algoliasearch(algoliaAppId, algoliaAppKey).initIndex(algoliaIndexName);\n  this.opened = false;\n  this.loader = null;\n  this.searchResults = null;\n  this.searchQuery = '';\n  this.element = document.createElement('div');\n  this.element.setAttribute('class', 'lucy closed');\n  this.hrefLinks = links;\n  this.hrefContactLink = contactLink;\n  document.body.appendChild(this.element);\n  m.mount(this.element, {\n    view: this.getDOM.bind(this)\n  });\n};\n\nLucy.prototype.getDOM = function () {\n  var results = \"\";\n\n  if (this.searchQuery.length > 0) {\n    if (this.searchResults === null) {\n      results = m(\"em.search-pending\", \"Hit [ENTER] to search for \\\"\" + this.searchQuery + \"\\\"..\");\n    } else if (this.searchResults.length > 0) {\n      results = this.searchResults.map(function (l) {\n        return m('a', {\n          href: l.href\n        }, m.trust(l.text));\n      });\n    } else {\n      results = m('em.search-pending', \"Nothing found for \\\"\" + this.searchQuery + \"\\\"..\");\n    }\n  }\n\n  return [m('div.lucy--content', {\n    style: {\n      display: this.opened ? 'block' : 'none'\n    }\n  }, [m('span.close-icon', {\n    onclick: this.close.bind(this)\n  }, \"\"), m('div.header', [m('h4', 'Looking for help?'), m('div.search-form', {\n    onsubmit: this.search.bind(this)\n  }, [m('input', {\n    type: 'text',\n    value: this.searchQuery,\n    onkeyup: listenForInput.bind(this),\n    onupdate: function (vnode) {\n      if (this.opened) {\n        vnode.dom.focus();\n      }\n    }.bind(this),\n    placeholder: 'What are you looking for?'\n  }), m('span', {\n    \"class\": 'loader',\n    oncreate: function (vnode) {\n      this.loader = vnode.dom;\n    }.bind(this)\n  }), m('input', {\n    type: 'submit'\n  })])]), m('div.list', [m('div.links', {\n    style: {\n      display: this.searchQuery.length > 0 ? 'none' : 'block'\n    }\n  }, this.hrefLinks.map(function (l) {\n    return m('a', {\n      href: l.href\n    }, m.trust(l.text));\n  })), m('div.search-results', results)]), m('div.footer', [m(\"span\", \"Can't find the answer you're looking for?\"), m(\"a\", {\n    \"class\": 'button button-primary',\n    href: this.hrefContactLink,\n    target: \"_blank\"\n  }, \"Contact Support\")])]), m('span.lucy-button', {\n    onclick: this.open.bind(this),\n    style: {\n      display: this.opened ? 'none' : 'block'\n    }\n  }, [m('span.lucy-button-text', \"Need help?\")])];\n};\n\nLucy.prototype.open = function () {\n  if (this.opened) return;\n  this.opened = true;\n  this.element.setAttribute('class', 'lucy open');\n  m.redraw();\n  addEvent(document, 'keyup', maybeClose.bind(this));\n  addEvent(document, 'click', maybeClose.bind(this));\n};\n\nLucy.prototype.close = function () {\n  if (!this.opened) return;\n  this.opened = false;\n  this.reset();\n  this.element.setAttribute('class', 'lucy closed');\n  removeEvent(document, 'keyup', maybeClose.bind(this));\n  removeEvent(document, 'click', maybeClose.bind(this));\n};\n\nLucy.prototype.reset = function () {\n  this.searchQuery = '';\n  this.searchResults = null;\n  m.redraw();\n};\n\nLucy.prototype.search = function (query) {\n  var _this = this;\n\n  var loader = this.loader;\n\n  var tick = function tick() {\n    loader.innerText += '.';\n\n    if (loader.innerText.length > 3) {\n      loader.innerText = '.';\n    }\n  }; // start loader\n\n\n  loader.innerText = '.';\n  var loadingInterval = window.setInterval(tick, 333);\n  this.algolia.search(query, {\n    hitsPerPage: 5\n  }).then(function (result) {\n    _this.searchResults = [];\n    /* clear loader */\n\n    loader.innerText = '';\n    window.clearInterval(loadingInterval);\n    _this.searchResults = result.hits.map(function (r) {\n      return {\n        href: r.url,\n        text: r._highlightResult.title.value\n      };\n    });\n    m.redraw();\n  })[\"catch\"](function (error) {\n    console.log(error);\n  });\n};\n\nmodule.exports = Lucy;\n\n},{\"algoliasearch/lite\":3,\"mithril\":7}],3:[function(require,module,exports){\n\"use strict\";\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\n/*! algoliasearch-lite.umd.js | 4.4.0 |  Algolia, inc. | https://github.com/algolia/algoliasearch-client-javascript */\n!function (e, t) {\n  \"object\" == (typeof exports === \"undefined\" ? \"undefined\" : _typeof(exports)) && \"undefined\" != typeof module ? module.exports = t() : \"function\" == typeof define && define.amd ? define(t) : (e = e || self).algoliasearch = t();\n}(void 0, function () {\n  \"use strict\";\n\n  function e(e, t, r) {\n    return t in e ? Object.defineProperty(e, t, {\n      value: r,\n      enumerable: !0,\n      configurable: !0,\n      writable: !0\n    }) : e[t] = r, e;\n  }\n\n  function t(e, t) {\n    var r = Object.keys(e);\n\n    if (Object.getOwnPropertySymbols) {\n      var n = Object.getOwnPropertySymbols(e);\n      t && (n = n.filter(function (t) {\n        return Object.getOwnPropertyDescriptor(e, t).enumerable;\n      })), r.push.apply(r, n);\n    }\n\n    return r;\n  }\n\n  function r(r) {\n    for (var n = 1; n < arguments.length; n++) {\n      var o = null != arguments[n] ? arguments[n] : {};\n      n % 2 ? t(Object(o), !0).forEach(function (t) {\n        e(r, t, o[t]);\n      }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(r, Object.getOwnPropertyDescriptors(o)) : t(Object(o)).forEach(function (e) {\n        Object.defineProperty(r, e, Object.getOwnPropertyDescriptor(o, e));\n      });\n    }\n\n    return r;\n  }\n\n  function n(e, t) {\n    if (null == e) return {};\n\n    var r,\n        n,\n        o = function (e, t) {\n      if (null == e) return {};\n      var r,\n          n,\n          o = {},\n          a = Object.keys(e);\n\n      for (n = 0; n < a.length; n++) {\n        r = a[n], t.indexOf(r) >= 0 || (o[r] = e[r]);\n      }\n\n      return o;\n    }(e, t);\n\n    if (Object.getOwnPropertySymbols) {\n      var a = Object.getOwnPropertySymbols(e);\n\n      for (n = 0; n < a.length; n++) {\n        r = a[n], t.indexOf(r) >= 0 || Object.prototype.propertyIsEnumerable.call(e, r) && (o[r] = e[r]);\n      }\n    }\n\n    return o;\n  }\n\n  function o(e, t) {\n    return function (e) {\n      if (Array.isArray(e)) return e;\n    }(e) || function (e, t) {\n      if (!(Symbol.iterator in Object(e) || \"[object Arguments]\" === Object.prototype.toString.call(e))) return;\n      var r = [],\n          n = !0,\n          o = !1,\n          a = void 0;\n\n      try {\n        for (var u, i = e[Symbol.iterator](); !(n = (u = i.next()).done) && (r.push(u.value), !t || r.length !== t); n = !0) {\n          ;\n        }\n      } catch (e) {\n        o = !0, a = e;\n      } finally {\n        try {\n          n || null == i[\"return\"] || i[\"return\"]();\n        } finally {\n          if (o) throw a;\n        }\n      }\n\n      return r;\n    }(e, t) || function () {\n      throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n    }();\n  }\n\n  function a(e) {\n    return function (e) {\n      if (Array.isArray(e)) {\n        for (var t = 0, r = new Array(e.length); t < e.length; t++) {\n          r[t] = e[t];\n        }\n\n        return r;\n      }\n    }(e) || function (e) {\n      if (Symbol.iterator in Object(e) || \"[object Arguments]\" === Object.prototype.toString.call(e)) return Array.from(e);\n    }(e) || function () {\n      throw new TypeError(\"Invalid attempt to spread non-iterable instance\");\n    }();\n  }\n\n  function u(e) {\n    var t,\n        r = \"algoliasearch-client-js-\".concat(e.key),\n        n = function n() {\n      return void 0 === t && (t = e.localStorage || window.localStorage), t;\n    },\n        a = function a() {\n      return JSON.parse(n().getItem(r) || \"{}\");\n    };\n\n    return {\n      get: function get(e, t) {\n        var r = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {\n          miss: function miss() {\n            return Promise.resolve();\n          }\n        };\n        return Promise.resolve().then(function () {\n          var r = JSON.stringify(e),\n              n = a()[r];\n          return Promise.all([n || t(), void 0 !== n]);\n        }).then(function (e) {\n          var t = o(e, 2),\n              n = t[0],\n              a = t[1];\n          return Promise.all([n, a || r.miss(n)]);\n        }).then(function (e) {\n          return o(e, 1)[0];\n        });\n      },\n      set: function set(e, t) {\n        return Promise.resolve().then(function () {\n          var o = a();\n          return o[JSON.stringify(e)] = t, n().setItem(r, JSON.stringify(o)), t;\n        });\n      },\n      \"delete\": function _delete(e) {\n        return Promise.resolve().then(function () {\n          var t = a();\n          delete t[JSON.stringify(e)], n().setItem(r, JSON.stringify(t));\n        });\n      },\n      clear: function clear() {\n        return Promise.resolve().then(function () {\n          n().removeItem(r);\n        });\n      }\n    };\n  }\n\n  function i(e) {\n    var t = a(e.caches),\n        r = t.shift();\n    return void 0 === r ? {\n      get: function get(e, t) {\n        var r = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {\n          miss: function miss() {\n            return Promise.resolve();\n          }\n        },\n            n = t();\n        return n.then(function (e) {\n          return Promise.all([e, r.miss(e)]);\n        }).then(function (e) {\n          return o(e, 1)[0];\n        });\n      },\n      set: function set(e, t) {\n        return Promise.resolve(t);\n      },\n      \"delete\": function _delete(e) {\n        return Promise.resolve();\n      },\n      clear: function clear() {\n        return Promise.resolve();\n      }\n    } : {\n      get: function get(e, n) {\n        var o = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {\n          miss: function miss() {\n            return Promise.resolve();\n          }\n        };\n        return r.get(e, n, o)[\"catch\"](function () {\n          return i({\n            caches: t\n          }).get(e, n, o);\n        });\n      },\n      set: function set(e, n) {\n        return r.set(e, n)[\"catch\"](function () {\n          return i({\n            caches: t\n          }).set(e, n);\n        });\n      },\n      \"delete\": function _delete(e) {\n        return r[\"delete\"](e)[\"catch\"](function () {\n          return i({\n            caches: t\n          })[\"delete\"](e);\n        });\n      },\n      clear: function clear() {\n        return r.clear()[\"catch\"](function () {\n          return i({\n            caches: t\n          }).clear();\n        });\n      }\n    };\n  }\n\n  function s() {\n    var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {\n      serializable: !0\n    },\n        t = {};\n    return {\n      get: function get(r, n) {\n        var o = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {\n          miss: function miss() {\n            return Promise.resolve();\n          }\n        },\n            a = JSON.stringify(r);\n        if (a in t) return Promise.resolve(e.serializable ? JSON.parse(t[a]) : t[a]);\n\n        var u = n(),\n            i = o && o.miss || function () {\n          return Promise.resolve();\n        };\n\n        return u.then(function (e) {\n          return i(e);\n        }).then(function () {\n          return u;\n        });\n      },\n      set: function set(r, n) {\n        return t[JSON.stringify(r)] = e.serializable ? JSON.stringify(n) : n, Promise.resolve(n);\n      },\n      \"delete\": function _delete(e) {\n        return delete t[JSON.stringify(e)], Promise.resolve();\n      },\n      clear: function clear() {\n        return t = {}, Promise.resolve();\n      }\n    };\n  }\n\n  function c(e) {\n    for (var t = e.length - 1; t > 0; t--) {\n      var r = Math.floor(Math.random() * (t + 1)),\n          n = e[t];\n      e[t] = e[r], e[r] = n;\n    }\n\n    return e;\n  }\n\n  function l(e, t) {\n    return Object.keys(void 0 !== t ? t : {}).forEach(function (r) {\n      e[r] = t[r](e);\n    }), e;\n  }\n\n  function f(e) {\n    for (var t = arguments.length, r = new Array(t > 1 ? t - 1 : 0), n = 1; n < t; n++) {\n      r[n - 1] = arguments[n];\n    }\n\n    var o = 0;\n    return e.replace(/%s/g, function () {\n      return encodeURIComponent(r[o++]);\n    });\n  }\n\n  var h = {\n    WithinQueryParameters: 0,\n    WithinHeaders: 1\n  };\n\n  function d(e, t) {\n    var r = e || {},\n        n = r.data || {};\n    return Object.keys(r).forEach(function (e) {\n      -1 === [\"timeout\", \"headers\", \"queryParameters\", \"data\", \"cacheable\"].indexOf(e) && (n[e] = r[e]);\n    }), {\n      data: Object.entries(n).length > 0 ? n : void 0,\n      timeout: r.timeout || t,\n      headers: r.headers || {},\n      queryParameters: r.queryParameters || {},\n      cacheable: r.cacheable\n    };\n  }\n\n  var m = {\n    Read: 1,\n    Write: 2,\n    Any: 3\n  },\n      p = 1,\n      v = 2,\n      g = 3;\n\n  function y(e) {\n    var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : p;\n    return r({}, e, {\n      status: t,\n      lastUpdate: Date.now()\n    });\n  }\n\n  function b(e) {\n    return {\n      protocol: e.protocol || \"https\",\n      url: e.url,\n      accept: e.accept || m.Any\n    };\n  }\n\n  var O = \"GET\",\n      P = \"POST\";\n\n  function q(e, t) {\n    return Promise.all(t.map(function (t) {\n      return e.get(t, function () {\n        return Promise.resolve(y(t));\n      });\n    })).then(function (e) {\n      var r = e.filter(function (e) {\n        return function (e) {\n          return e.status === p || Date.now() - e.lastUpdate > 12e4;\n        }(e);\n      }),\n          n = e.filter(function (e) {\n        return function (e) {\n          return e.status === g && Date.now() - e.lastUpdate <= 12e4;\n        }(e);\n      }),\n          o = [].concat(a(r), a(n));\n      return {\n        getTimeout: function getTimeout(e, t) {\n          return (0 === n.length && 0 === e ? 1 : n.length + 3 + e) * t;\n        },\n        statelessHosts: o.length > 0 ? o.map(function (e) {\n          return b(e);\n        }) : t\n      };\n    });\n  }\n\n  function j(e, t, n, o) {\n    var u = [],\n        i = function (e, t) {\n      if (e.method === O || void 0 === e.data && void 0 === t.data) return;\n      var n = Array.isArray(e.data) ? e.data : r({}, e.data, {}, t.data);\n      return JSON.stringify(n);\n    }(n, o),\n        s = function (e, t) {\n      var n = r({}, e.headers, {}, t.headers),\n          o = {};\n      return Object.keys(n).forEach(function (e) {\n        var t = n[e];\n        o[e.toLowerCase()] = t;\n      }), o;\n    }(e, o),\n        c = n.method,\n        l = n.method !== O ? {} : r({}, n.data, {}, o.data),\n        f = r({\n      \"x-algolia-agent\": e.userAgent.value\n    }, e.queryParameters, {}, l, {}, o.queryParameters),\n        h = 0,\n        d = function t(r, a) {\n      var l = r.pop();\n      if (void 0 === l) throw {\n        name: \"RetryError\",\n        message: \"Unreachable hosts - your application id may be incorrect. If the error persists, contact support@algolia.com.\",\n        transporterStackTrace: A(u)\n      };\n\n      var d = {\n        data: i,\n        headers: s,\n        method: c,\n        url: w(l, n.path, f),\n        connectTimeout: a(h, e.timeouts.connect),\n        responseTimeout: a(h, o.timeout)\n      },\n          m = function m(e) {\n        var t = {\n          request: d,\n          response: e,\n          host: l,\n          triesLeft: r.length\n        };\n        return u.push(t), t;\n      },\n          p = {\n        onSucess: function onSucess(e) {\n          return function (e) {\n            try {\n              return JSON.parse(e.content);\n            } catch (t) {\n              throw function (e, t) {\n                return {\n                  name: \"DeserializationError\",\n                  message: e,\n                  response: t\n                };\n              }(t.message, e);\n            }\n          }(e);\n        },\n        onRetry: function onRetry(n) {\n          var o = m(n);\n          return n.isTimedOut && h++, Promise.all([e.logger.info(\"Retryable failure\", x(o)), e.hostsCache.set(l, y(l, n.isTimedOut ? g : v))]).then(function () {\n            return t(r, a);\n          });\n        },\n        onFail: function onFail(e) {\n          throw m(e), function (e, t) {\n            var r = e.content,\n                n = e.status,\n                o = r;\n\n            try {\n              o = JSON.parse(r).message;\n            } catch (e) {}\n\n            return function (e, t, r) {\n              return {\n                name: \"ApiError\",\n                message: e,\n                status: t,\n                transporterStackTrace: r\n              };\n            }(o, n, t);\n          }(e, A(u));\n        }\n      };\n\n      return e.requester.send(d).then(function (e) {\n        return function (e, t) {\n          return function (e) {\n            var t = e.status;\n            return e.isTimedOut || function (e) {\n              var t = e.isTimedOut,\n                  r = e.status;\n              return !t && 0 == ~~r;\n            }(e) || 2 != ~~(t / 100) && 4 != ~~(t / 100);\n          }(e) ? t.onRetry(e) : 2 == ~~(e.status / 100) ? t.onSucess(e) : t.onFail(e);\n        }(e, p);\n      });\n    };\n\n    return q(e.hostsCache, t).then(function (e) {\n      return d(a(e.statelessHosts).reverse(), e.getTimeout);\n    });\n  }\n\n  function S(e) {\n    var t = {\n      value: \"Algolia for JavaScript (\".concat(e, \")\"),\n      add: function add(e) {\n        var r = \"; \".concat(e.segment).concat(void 0 !== e.version ? \" (\".concat(e.version, \")\") : \"\");\n        return -1 === t.value.indexOf(r) && (t.value = \"\".concat(t.value).concat(r)), t;\n      }\n    };\n    return t;\n  }\n\n  function w(e, t, r) {\n    var n = T(r),\n        o = \"\".concat(e.protocol, \"://\").concat(e.url, \"/\").concat(\"/\" === t.charAt(0) ? t.substr(1) : t);\n    return n.length && (o += \"?\".concat(n)), o;\n  }\n\n  function T(e) {\n    return Object.keys(e).map(function (t) {\n      return f(\"%s=%s\", t, (r = e[t], \"[object Object]\" === Object.prototype.toString.call(r) || \"[object Array]\" === Object.prototype.toString.call(r) ? JSON.stringify(e[t]) : e[t]));\n      var r;\n    }).join(\"&\");\n  }\n\n  function A(e) {\n    return e.map(function (e) {\n      return x(e);\n    });\n  }\n\n  function x(e) {\n    var t = e.request.headers[\"x-algolia-api-key\"] ? {\n      \"x-algolia-api-key\": \"*****\"\n    } : {};\n    return r({}, e, {\n      request: r({}, e.request, {\n        headers: r({}, e.request.headers, {}, t)\n      })\n    });\n  }\n\n  var C = function C(e) {\n    var t = e.appId,\n        n = function (e, t, r) {\n      var n = {\n        \"x-algolia-api-key\": r,\n        \"x-algolia-application-id\": t\n      };\n      return {\n        headers: function headers() {\n          return e === h.WithinHeaders ? n : {};\n        },\n        queryParameters: function queryParameters() {\n          return e === h.WithinQueryParameters ? n : {};\n        }\n      };\n    }(void 0 !== e.authMode ? e.authMode : h.WithinHeaders, t, e.apiKey),\n        a = function (e) {\n      var t = e.hostsCache,\n          r = e.logger,\n          n = e.requester,\n          a = e.requestsCache,\n          u = e.responsesCache,\n          i = e.timeouts,\n          s = e.userAgent,\n          c = e.hosts,\n          l = e.queryParameters,\n          f = {\n        hostsCache: t,\n        logger: r,\n        requester: n,\n        requestsCache: a,\n        responsesCache: u,\n        timeouts: i,\n        userAgent: s,\n        headers: e.headers,\n        queryParameters: l,\n        hosts: c.map(function (e) {\n          return b(e);\n        }),\n        read: function read(e, t) {\n          var r = d(t, f.timeouts.read),\n              n = function n() {\n            return j(f, f.hosts.filter(function (e) {\n              return 0 != (e.accept & m.Read);\n            }), e, r);\n          };\n\n          if (!0 !== (void 0 !== r.cacheable ? r.cacheable : e.cacheable)) return n();\n          var a = {\n            request: e,\n            mappedRequestOptions: r,\n            transporter: {\n              queryParameters: f.queryParameters,\n              headers: f.headers\n            }\n          };\n          return f.responsesCache.get(a, function () {\n            return f.requestsCache.get(a, function () {\n              return f.requestsCache.set(a, n()).then(function (e) {\n                return Promise.all([f.requestsCache[\"delete\"](a), e]);\n              }, function (e) {\n                return Promise.all([f.requestsCache[\"delete\"](a), Promise.reject(e)]);\n              }).then(function (e) {\n                var t = o(e, 2);\n                t[0];\n                return t[1];\n              });\n            });\n          }, {\n            miss: function miss(e) {\n              return f.responsesCache.set(a, e);\n            }\n          });\n        },\n        write: function write(e, t) {\n          return j(f, f.hosts.filter(function (e) {\n            return 0 != (e.accept & m.Write);\n          }), e, d(t, f.timeouts.write));\n        }\n      };\n      return f;\n    }(r({\n      hosts: [{\n        url: \"\".concat(t, \"-dsn.algolia.net\"),\n        accept: m.Read\n      }, {\n        url: \"\".concat(t, \".algolia.net\"),\n        accept: m.Write\n      }].concat(c([{\n        url: \"\".concat(t, \"-1.algolianet.com\")\n      }, {\n        url: \"\".concat(t, \"-2.algolianet.com\")\n      }, {\n        url: \"\".concat(t, \"-3.algolianet.com\")\n      }]))\n    }, e, {\n      headers: r({}, n.headers(), {}, {\n        \"content-type\": \"application/x-www-form-urlencoded\"\n      }, {}, e.headers),\n      queryParameters: r({}, n.queryParameters(), {}, e.queryParameters)\n    }));\n\n    return l({\n      transporter: a,\n      appId: t,\n      addAlgoliaAgent: function addAlgoliaAgent(e, t) {\n        a.userAgent.add({\n          segment: e,\n          version: t\n        });\n      },\n      clearCache: function clearCache() {\n        return Promise.all([a.requestsCache.clear(), a.responsesCache.clear()]).then(function () {});\n      }\n    }, e.methods);\n  },\n      N = function N(e) {\n    return function (t) {\n      var r = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {},\n          n = {\n        transporter: e.transporter,\n        appId: e.appId,\n        indexName: t\n      };\n      return l(n, r.methods);\n    };\n  },\n      k = function k(e) {\n    return function (t, n) {\n      var o = t.map(function (e) {\n        return r({}, e, {\n          params: T(e.params || {})\n        });\n      });\n      return e.transporter.read({\n        method: P,\n        path: \"1/indexes/*/queries\",\n        data: {\n          requests: o\n        },\n        cacheable: !0\n      }, n);\n    };\n  },\n      J = function J(e) {\n    return function (t, o) {\n      return Promise.all(t.map(function (t) {\n        var a = t.params,\n            u = a.facetName,\n            i = a.facetQuery,\n            s = n(a, [\"facetName\", \"facetQuery\"]);\n        return N(e)(t.indexName, {\n          methods: {\n            searchForFacetValues: I\n          }\n        }).searchForFacetValues(u, i, r({}, o, {}, s));\n      }));\n    };\n  },\n      E = function E(e) {\n    return function (t, r) {\n      return e.transporter.read({\n        method: P,\n        path: f(\"1/indexes/%s/query\", e.indexName),\n        data: {\n          query: t\n        },\n        cacheable: !0\n      }, r);\n    };\n  },\n      I = function I(e) {\n    return function (t, r, n) {\n      return e.transporter.read({\n        method: P,\n        path: f(\"1/indexes/%s/facets/%s/query\", e.indexName, t),\n        data: {\n          facetQuery: r\n        },\n        cacheable: !0\n      }, n);\n    };\n  },\n      F = 1,\n      R = 2,\n      D = 3;\n\n  function W(e, t, n) {\n    var o,\n        a = {\n      appId: e,\n      apiKey: t,\n      timeouts: {\n        connect: 1,\n        read: 2,\n        write: 30\n      },\n      requester: {\n        send: function send(e) {\n          return new Promise(function (t) {\n            var r = new XMLHttpRequest();\n            r.open(e.method, e.url, !0), Object.keys(e.headers).forEach(function (t) {\n              return r.setRequestHeader(t, e.headers[t]);\n            });\n\n            var n,\n                o = function o(e, n) {\n              return setTimeout(function () {\n                r.abort(), t({\n                  status: 0,\n                  content: n,\n                  isTimedOut: !0\n                });\n              }, 1e3 * e);\n            },\n                a = o(e.connectTimeout, \"Connection timeout\");\n\n            r.onreadystatechange = function () {\n              r.readyState > r.OPENED && void 0 === n && (clearTimeout(a), n = o(e.responseTimeout, \"Socket timeout\"));\n            }, r.onerror = function () {\n              0 === r.status && (clearTimeout(a), clearTimeout(n), t({\n                content: r.responseText || \"Network request failed\",\n                status: r.status,\n                isTimedOut: !1\n              }));\n            }, r.onload = function () {\n              clearTimeout(a), clearTimeout(n), t({\n                content: r.responseText,\n                status: r.status,\n                isTimedOut: !1\n              });\n            }, r.send(e.data);\n          });\n        }\n      },\n      logger: (o = D, {\n        debug: function debug(e, t) {\n          return F >= o && console.debug(e, t), Promise.resolve();\n        },\n        info: function info(e, t) {\n          return R >= o && console.info(e, t), Promise.resolve();\n        },\n        error: function error(e, t) {\n          return console.error(e, t), Promise.resolve();\n        }\n      }),\n      responsesCache: s(),\n      requestsCache: s({\n        serializable: !1\n      }),\n      hostsCache: i({\n        caches: [u({\n          key: \"\".concat(\"4.4.0\", \"-\").concat(e)\n        }), s()]\n      }),\n      userAgent: S(\"4.4.0\").add({\n        segment: \"Browser\",\n        version: \"lite\"\n      }),\n      authMode: h.WithinQueryParameters\n    };\n    return C(r({}, a, {}, n, {\n      methods: {\n        search: k,\n        searchForFacetValues: J,\n        multipleQueries: k,\n        multipleSearchForFacetValues: J,\n        initIndex: function initIndex(e) {\n          return function (t) {\n            return N(e)(t, {\n              methods: {\n                search: E,\n                searchForFacetValues: I\n              }\n            });\n          };\n        }\n      }\n    }));\n  }\n\n  return W.version = \"4.4.0\", W;\n});\n\n},{}],4:[function(require,module,exports){\n\"use strict\";\n\nvar Vnode = require(\"../render/vnode\");\n\nmodule.exports = function (render, schedule, console) {\n  var subscriptions = [];\n  var rendering = false;\n  var pending = false;\n\n  function sync() {\n    if (rendering) throw new Error(\"Nested m.redraw.sync() call\");\n    rendering = true;\n\n    for (var i = 0; i < subscriptions.length; i += 2) {\n      try {\n        render(subscriptions[i], Vnode(subscriptions[i + 1]), redraw);\n      } catch (e) {\n        console.error(e);\n      }\n    }\n\n    rendering = false;\n  }\n\n  function redraw() {\n    if (!pending) {\n      pending = true;\n      schedule(function () {\n        pending = false;\n        sync();\n      });\n    }\n  }\n\n  redraw.sync = sync;\n\n  function mount(root, component) {\n    if (component != null && component.view == null && typeof component !== \"function\") {\n      throw new TypeError(\"m.mount(element, component) expects a component, not a vnode\");\n    }\n\n    var index = subscriptions.indexOf(root);\n\n    if (index >= 0) {\n      subscriptions.splice(index, 2);\n      render(root, [], redraw);\n    }\n\n    if (component != null) {\n      subscriptions.push(root, component);\n      render(root, Vnode(component), redraw);\n    }\n  }\n\n  return {\n    mount: mount,\n    redraw: redraw\n  };\n};\n\n},{\"../render/vnode\":23}],5:[function(require,module,exports){\n(function (setImmediate){\n\"use strict\";\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nvar Vnode = require(\"../render/vnode\");\n\nvar m = require(\"../render/hyperscript\");\n\nvar Promise = require(\"../promise/promise\");\n\nvar buildPathname = require(\"../pathname/build\");\n\nvar parsePathname = require(\"../pathname/parse\");\n\nvar compileTemplate = require(\"../pathname/compileTemplate\");\n\nvar assign = require(\"../pathname/assign\");\n\nvar sentinel = {};\n\nmodule.exports = function ($window, mountRedraw) {\n  var fireAsync;\n\n  function setPath(path, data, options) {\n    path = buildPathname(path, data);\n\n    if (fireAsync != null) {\n      fireAsync();\n      var state = options ? options.state : null;\n      var title = options ? options.title : null;\n      if (options && options.replace) $window.history.replaceState(state, title, route.prefix + path);else $window.history.pushState(state, title, route.prefix + path);\n    } else {\n      $window.location.href = route.prefix + path;\n    }\n  }\n\n  var currentResolver = sentinel,\n      component,\n      attrs,\n      currentPath,\n      _lastUpdate;\n\n  var SKIP = route.SKIP = {};\n\n  function route(root, defaultRoute, routes) {\n    if (root == null) throw new Error(\"Ensure the DOM element that was passed to `m.route` is not undefined\"); // 0 = start\n    // 1 = init\n    // 2 = ready\n\n    var state = 0;\n    var compiled = Object.keys(routes).map(function (route) {\n      if (route[0] !== \"/\") throw new SyntaxError(\"Routes must start with a `/`\");\n\n      if (/:([^\\/\\.-]+)(\\.{3})?:/.test(route)) {\n        throw new SyntaxError(\"Route parameter names must be separated with either `/`, `.`, or `-`\");\n      }\n\n      return {\n        route: route,\n        component: routes[route],\n        check: compileTemplate(route)\n      };\n    });\n    var callAsync = typeof setImmediate === \"function\" ? setImmediate : setTimeout;\n    var p = Promise.resolve();\n    var scheduled = false;\n    var onremove;\n    fireAsync = null;\n\n    if (defaultRoute != null) {\n      var defaultData = parsePathname(defaultRoute);\n\n      if (!compiled.some(function (i) {\n        return i.check(defaultData);\n      })) {\n        throw new ReferenceError(\"Default route doesn't match any known routes\");\n      }\n    }\n\n    function resolveRoute() {\n      scheduled = false; // Consider the pathname holistically. The prefix might even be invalid,\n      // but that's not our problem.\n\n      var prefix = $window.location.hash;\n\n      if (route.prefix[0] !== \"#\") {\n        prefix = $window.location.search + prefix;\n\n        if (route.prefix[0] !== \"?\") {\n          prefix = $window.location.pathname + prefix;\n          if (prefix[0] !== \"/\") prefix = \"/\" + prefix;\n        }\n      } // This seemingly useless `.concat()` speeds up the tests quite a bit,\n      // since the representation is consistently a relatively poorly\n      // optimized cons string.\n\n\n      var path = prefix.concat().replace(/(?:%[a-f89][a-f0-9])+/gim, decodeURIComponent).slice(route.prefix.length);\n      var data = parsePathname(path);\n      assign(data.params, $window.history.state);\n\n      function fail() {\n        if (path === defaultRoute) throw new Error(\"Could not resolve default route \" + defaultRoute);\n        setPath(defaultRoute, null, {\n          replace: true\n        });\n      }\n\n      loop(0);\n\n      function loop(i) {\n        // 0 = init\n        // 1 = scheduled\n        // 2 = done\n        for (; i < compiled.length; i++) {\n          if (compiled[i].check(data)) {\n            var payload = compiled[i].component;\n            var matchedRoute = compiled[i].route;\n            var localComp = payload;\n\n            var update = _lastUpdate = function lastUpdate(comp) {\n              if (update !== _lastUpdate) return;\n              if (comp === SKIP) return loop(i + 1);\n              component = comp != null && (typeof comp.view === \"function\" || typeof comp === \"function\") ? comp : \"div\";\n              attrs = data.params, currentPath = path, _lastUpdate = null;\n              currentResolver = payload.render ? payload : null;\n              if (state === 2) mountRedraw.redraw();else {\n                state = 2;\n                mountRedraw.redraw.sync();\n              }\n            }; // There's no understating how much I *wish* I could\n            // use `async`/`await` here...\n\n\n            if (payload.view || typeof payload === \"function\") {\n              payload = {};\n              update(localComp);\n            } else if (payload.onmatch) {\n              p.then(function () {\n                return payload.onmatch(data.params, path, matchedRoute);\n              }).then(update, fail);\n            } else update(\"div\");\n\n            return;\n          }\n        }\n\n        fail();\n      }\n    } // Set it unconditionally so `m.route.set` and `m.route.Link` both work,\n    // even if neither `pushState` nor `hashchange` are supported. It's\n    // cleared if `hashchange` is used, since that makes it automatically\n    // async.\n\n\n    fireAsync = function fireAsync() {\n      if (!scheduled) {\n        scheduled = true;\n        callAsync(resolveRoute);\n      }\n    };\n\n    if (typeof $window.history.pushState === \"function\") {\n      onremove = function onremove() {\n        $window.removeEventListener(\"popstate\", fireAsync, false);\n      };\n\n      $window.addEventListener(\"popstate\", fireAsync, false);\n    } else if (route.prefix[0] === \"#\") {\n      fireAsync = null;\n\n      onremove = function onremove() {\n        $window.removeEventListener(\"hashchange\", resolveRoute, false);\n      };\n\n      $window.addEventListener(\"hashchange\", resolveRoute, false);\n    }\n\n    return mountRedraw.mount(root, {\n      onbeforeupdate: function onbeforeupdate() {\n        state = state ? 2 : 1;\n        return !(!state || sentinel === currentResolver);\n      },\n      oncreate: resolveRoute,\n      onremove: onremove,\n      view: function view() {\n        if (!state || sentinel === currentResolver) return; // Wrap in a fragment to preserve existing key semantics\n\n        var vnode = [Vnode(component, attrs.key, attrs)];\n        if (currentResolver) vnode = currentResolver.render(vnode[0]);\n        return vnode;\n      }\n    });\n  }\n\n  route.set = function (path, data, options) {\n    if (_lastUpdate != null) {\n      options = options || {};\n      options.replace = true;\n    }\n\n    _lastUpdate = null;\n    setPath(path, data, options);\n  };\n\n  route.get = function () {\n    return currentPath;\n  };\n\n  route.prefix = \"#!\";\n  route.Link = {\n    view: function view(vnode) {\n      var options = vnode.attrs.options; // Remove these so they don't get overwritten\n\n      var attrs = {},\n          onclick,\n          href;\n      assign(attrs, vnode.attrs); // The first two are internal, but the rest are magic attributes\n      // that need censored to not screw up rendering.\n\n      attrs.selector = attrs.options = attrs.key = attrs.oninit = attrs.oncreate = attrs.onbeforeupdate = attrs.onupdate = attrs.onbeforeremove = attrs.onremove = null; // Do this now so we can get the most current `href` and `disabled`.\n      // Those attributes may also be specified in the selector, and we\n      // should honor that.\n\n      var child = m(vnode.attrs.selector || \"a\", attrs, vnode.children); // Let's provide a *right* way to disable a route link, rather than\n      // letting people screw up accessibility on accident.\n      //\n      // The attribute is coerced so users don't get surprised over\n      // `disabled: 0` resulting in a button that's somehow routable\n      // despite being visibly disabled.\n\n      if (child.attrs.disabled = Boolean(child.attrs.disabled)) {\n        child.attrs.href = null;\n        child.attrs[\"aria-disabled\"] = \"true\"; // If you *really* do want to do this on a disabled link, use\n        // an `oncreate` hook to add it.\n\n        child.attrs.onclick = null;\n      } else {\n        onclick = child.attrs.onclick;\n        href = child.attrs.href;\n        child.attrs.href = route.prefix + href;\n\n        child.attrs.onclick = function (e) {\n          var result;\n\n          if (typeof onclick === \"function\") {\n            result = onclick.call(e.currentTarget, e);\n          } else if (onclick == null || _typeof(onclick) !== \"object\") {// do nothing\n          } else if (typeof onclick.handleEvent === \"function\") {\n            onclick.handleEvent(e);\n          } // Adapted from React Router's implementation:\n          // https://github.com/ReactTraining/react-router/blob/520a0acd48ae1b066eb0b07d6d4d1790a1d02482/packages/react-router-dom/modules/Link.js\n          //\n          // Try to be flexible and intuitive in how we handle links.\n          // Fun fact: links aren't as obvious to get right as you\n          // would expect. There's a lot more valid ways to click a\n          // link than this, and one might want to not simply click a\n          // link, but right click or command-click it to copy the\n          // link target, etc. Nope, this isn't just for blind people.\n\n\n          if ( // Skip if `onclick` prevented default\n          result !== false && !e.defaultPrevented && ( // Ignore everything but left clicks\n          e.button === 0 || e.which === 0 || e.which === 1) && ( // Let the browser handle `target=_blank`, etc.\n          !e.currentTarget.target || e.currentTarget.target === \"_self\") && // No modifier keys\n          !e.ctrlKey && !e.metaKey && !e.shiftKey && !e.altKey) {\n            e.preventDefault();\n            e.redraw = false;\n            route.set(href, null, options);\n          }\n        };\n      }\n\n      return child;\n    }\n  };\n\n  route.param = function (key) {\n    return attrs && key != null ? attrs[key] : attrs;\n  };\n\n  return route;\n};\n\n}).call(this,require(\"timers\").setImmediate)\n},{\"../pathname/assign\":9,\"../pathname/build\":10,\"../pathname/compileTemplate\":11,\"../pathname/parse\":12,\"../promise/promise\":14,\"../render/hyperscript\":19,\"../render/vnode\":23,\"timers\":28}],6:[function(require,module,exports){\n\"use strict\";\n\nvar hyperscript = require(\"./render/hyperscript\");\n\nhyperscript.trust = require(\"./render/trust\");\nhyperscript.fragment = require(\"./render/fragment\");\nmodule.exports = hyperscript;\n\n},{\"./render/fragment\":18,\"./render/hyperscript\":19,\"./render/trust\":22}],7:[function(require,module,exports){\n\"use strict\";\n\nvar hyperscript = require(\"./hyperscript\");\n\nvar request = require(\"./request\");\n\nvar mountRedraw = require(\"./mount-redraw\");\n\nvar m = function m() {\n  return hyperscript.apply(this, arguments);\n};\n\nm.m = hyperscript;\nm.trust = hyperscript.trust;\nm.fragment = hyperscript.fragment;\nm.mount = mountRedraw.mount;\nm.route = require(\"./route\");\nm.render = require(\"./render\");\nm.redraw = mountRedraw.redraw;\nm.request = request.request;\nm.jsonp = request.jsonp;\nm.parseQueryString = require(\"./querystring/parse\");\nm.buildQueryString = require(\"./querystring/build\");\nm.parsePathname = require(\"./pathname/parse\");\nm.buildPathname = require(\"./pathname/build\");\nm.vnode = require(\"./render/vnode\");\nm.PromisePolyfill = require(\"./promise/polyfill\");\nmodule.exports = m;\n\n},{\"./hyperscript\":6,\"./mount-redraw\":8,\"./pathname/build\":10,\"./pathname/parse\":12,\"./promise/polyfill\":13,\"./querystring/build\":15,\"./querystring/parse\":16,\"./render\":17,\"./render/vnode\":23,\"./request\":24,\"./route\":26}],8:[function(require,module,exports){\n\"use strict\";\n\nvar render = require(\"./render\");\n\nmodule.exports = require(\"./api/mount-redraw\")(render, requestAnimationFrame, console);\n\n},{\"./api/mount-redraw\":4,\"./render\":17}],9:[function(require,module,exports){\n\"use strict\";\n\nmodule.exports = Object.assign || function (target, source) {\n  if (source) Object.keys(source).forEach(function (key) {\n    target[key] = source[key];\n  });\n};\n\n},{}],10:[function(require,module,exports){\n\"use strict\";\n\nvar buildQueryString = require(\"../querystring/build\");\n\nvar assign = require(\"./assign\"); // Returns `path` from `template` + `params`\n\n\nmodule.exports = function (template, params) {\n  if (/:([^\\/\\.-]+)(\\.{3})?:/.test(template)) {\n    throw new SyntaxError(\"Template parameter names *must* be separated\");\n  }\n\n  if (params == null) return template;\n  var queryIndex = template.indexOf(\"?\");\n  var hashIndex = template.indexOf(\"#\");\n  var queryEnd = hashIndex < 0 ? template.length : hashIndex;\n  var pathEnd = queryIndex < 0 ? queryEnd : queryIndex;\n  var path = template.slice(0, pathEnd);\n  var query = {};\n  assign(query, params);\n  var resolved = path.replace(/:([^\\/\\.-]+)(\\.{3})?/g, function (m, key, variadic) {\n    delete query[key]; // If no such parameter exists, don't interpolate it.\n\n    if (params[key] == null) return m; // Escape normal parameters, but not variadic ones.\n\n    return variadic ? params[key] : encodeURIComponent(String(params[key]));\n  }); // In case the template substitution adds new query/hash parameters.\n\n  var newQueryIndex = resolved.indexOf(\"?\");\n  var newHashIndex = resolved.indexOf(\"#\");\n  var newQueryEnd = newHashIndex < 0 ? resolved.length : newHashIndex;\n  var newPathEnd = newQueryIndex < 0 ? newQueryEnd : newQueryIndex;\n  var result = resolved.slice(0, newPathEnd);\n  if (queryIndex >= 0) result += template.slice(queryIndex, queryEnd);\n  if (newQueryIndex >= 0) result += (queryIndex < 0 ? \"?\" : \"&\") + resolved.slice(newQueryIndex, newQueryEnd);\n  var querystring = buildQueryString(query);\n  if (querystring) result += (queryIndex < 0 && newQueryIndex < 0 ? \"?\" : \"&\") + querystring;\n  if (hashIndex >= 0) result += template.slice(hashIndex);\n  if (newHashIndex >= 0) result += (hashIndex < 0 ? \"\" : \"&\") + resolved.slice(newHashIndex);\n  return result;\n};\n\n},{\"../querystring/build\":15,\"./assign\":9}],11:[function(require,module,exports){\n\"use strict\";\n\nvar parsePathname = require(\"./parse\"); // Compiles a template into a function that takes a resolved path (without query\n// strings) and returns an object containing the template parameters with their\n// parsed values. This expects the input of the compiled template to be the\n// output of `parsePathname`. Note that it does *not* remove query parameters\n// specified in the template.\n\n\nmodule.exports = function (template) {\n  var templateData = parsePathname(template);\n  var templateKeys = Object.keys(templateData.params);\n  var keys = [];\n  var regexp = new RegExp(\"^\" + templateData.path.replace( // I escape literal text so people can use things like `:file.:ext` or\n  // `:lang-:locale` in routes. This is all merged into one pass so I\n  // don't also accidentally escape `-` and make it harder to detect it to\n  // ban it from template parameters.\n  /:([^\\/.-]+)(\\.{3}|\\.(?!\\.)|-)?|[\\\\^$*+.()|\\[\\]{}]/g, function (m, key, extra) {\n    if (key == null) return \"\\\\\" + m;\n    keys.push({\n      k: key,\n      r: extra === \"...\"\n    });\n    if (extra === \"...\") return \"(.*)\";\n    if (extra === \".\") return \"([^/]+)\\\\.\";\n    return \"([^/]+)\" + (extra || \"\");\n  }) + \"$\");\n  return function (data) {\n    // First, check the params. Usually, there isn't any, and it's just\n    // checking a static set.\n    for (var i = 0; i < templateKeys.length; i++) {\n      if (templateData.params[templateKeys[i]] !== data.params[templateKeys[i]]) return false;\n    } // If no interpolations exist, let's skip all the ceremony\n\n\n    if (!keys.length) return regexp.test(data.path);\n    var values = regexp.exec(data.path);\n    if (values == null) return false;\n\n    for (var i = 0; i < keys.length; i++) {\n      data.params[keys[i].k] = keys[i].r ? values[i + 1] : decodeURIComponent(values[i + 1]);\n    }\n\n    return true;\n  };\n};\n\n},{\"./parse\":12}],12:[function(require,module,exports){\n\"use strict\";\n\nvar parseQueryString = require(\"../querystring/parse\"); // Returns `{path, params}` from `url`\n\n\nmodule.exports = function (url) {\n  var queryIndex = url.indexOf(\"?\");\n  var hashIndex = url.indexOf(\"#\");\n  var queryEnd = hashIndex < 0 ? url.length : hashIndex;\n  var pathEnd = queryIndex < 0 ? queryEnd : queryIndex;\n  var path = url.slice(0, pathEnd).replace(/\\/{2,}/g, \"/\");\n  if (!path) path = \"/\";else {\n    if (path[0] !== \"/\") path = \"/\" + path;\n    if (path.length > 1 && path[path.length - 1] === \"/\") path = path.slice(0, -1);\n  }\n  return {\n    path: path,\n    params: queryIndex < 0 ? {} : parseQueryString(url.slice(queryIndex + 1, queryEnd))\n  };\n};\n\n},{\"../querystring/parse\":16}],13:[function(require,module,exports){\n(function (setImmediate){\n\"use strict\";\n/** @constructor */\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nvar PromisePolyfill = function PromisePolyfill(executor) {\n  if (!(this instanceof PromisePolyfill)) throw new Error(\"Promise must be called with `new`\");\n  if (typeof executor !== \"function\") throw new TypeError(\"executor must be a function\");\n  var self = this,\n      resolvers = [],\n      rejectors = [],\n      resolveCurrent = handler(resolvers, true),\n      rejectCurrent = handler(rejectors, false);\n  var instance = self._instance = {\n    resolvers: resolvers,\n    rejectors: rejectors\n  };\n  var callAsync = typeof setImmediate === \"function\" ? setImmediate : setTimeout;\n\n  function handler(list, shouldAbsorb) {\n    return function execute(value) {\n      var then;\n\n      try {\n        if (shouldAbsorb && value != null && (_typeof(value) === \"object\" || typeof value === \"function\") && typeof (then = value.then) === \"function\") {\n          if (value === self) throw new TypeError(\"Promise can't be resolved w/ itself\");\n          executeOnce(then.bind(value));\n        } else {\n          callAsync(function () {\n            if (!shouldAbsorb && list.length === 0) console.error(\"Possible unhandled promise rejection:\", value);\n\n            for (var i = 0; i < list.length; i++) {\n              list[i](value);\n            }\n\n            resolvers.length = 0, rejectors.length = 0;\n            instance.state = shouldAbsorb;\n\n            instance.retry = function () {\n              execute(value);\n            };\n          });\n        }\n      } catch (e) {\n        rejectCurrent(e);\n      }\n    };\n  }\n\n  function executeOnce(then) {\n    var runs = 0;\n\n    function run(fn) {\n      return function (value) {\n        if (runs++ > 0) return;\n        fn(value);\n      };\n    }\n\n    var onerror = run(rejectCurrent);\n\n    try {\n      then(run(resolveCurrent), onerror);\n    } catch (e) {\n      onerror(e);\n    }\n  }\n\n  executeOnce(executor);\n};\n\nPromisePolyfill.prototype.then = function (onFulfilled, onRejection) {\n  var self = this,\n      instance = self._instance;\n\n  function handle(callback, list, next, state) {\n    list.push(function (value) {\n      if (typeof callback !== \"function\") next(value);else try {\n        resolveNext(callback(value));\n      } catch (e) {\n        if (rejectNext) rejectNext(e);\n      }\n    });\n    if (typeof instance.retry === \"function\" && state === instance.state) instance.retry();\n  }\n\n  var resolveNext, rejectNext;\n  var promise = new PromisePolyfill(function (resolve, reject) {\n    resolveNext = resolve, rejectNext = reject;\n  });\n  handle(onFulfilled, instance.resolvers, resolveNext, true), handle(onRejection, instance.rejectors, rejectNext, false);\n  return promise;\n};\n\nPromisePolyfill.prototype[\"catch\"] = function (onRejection) {\n  return this.then(null, onRejection);\n};\n\nPromisePolyfill.prototype[\"finally\"] = function (callback) {\n  return this.then(function (value) {\n    return PromisePolyfill.resolve(callback()).then(function () {\n      return value;\n    });\n  }, function (reason) {\n    return PromisePolyfill.resolve(callback()).then(function () {\n      return PromisePolyfill.reject(reason);\n    });\n  });\n};\n\nPromisePolyfill.resolve = function (value) {\n  if (value instanceof PromisePolyfill) return value;\n  return new PromisePolyfill(function (resolve) {\n    resolve(value);\n  });\n};\n\nPromisePolyfill.reject = function (value) {\n  return new PromisePolyfill(function (resolve, reject) {\n    reject(value);\n  });\n};\n\nPromisePolyfill.all = function (list) {\n  return new PromisePolyfill(function (resolve, reject) {\n    var total = list.length,\n        count = 0,\n        values = [];\n    if (list.length === 0) resolve([]);else for (var i = 0; i < list.length; i++) {\n      (function (i) {\n        function consume(value) {\n          count++;\n          values[i] = value;\n          if (count === total) resolve(values);\n        }\n\n        if (list[i] != null && (_typeof(list[i]) === \"object\" || typeof list[i] === \"function\") && typeof list[i].then === \"function\") {\n          list[i].then(consume, reject);\n        } else consume(list[i]);\n      })(i);\n    }\n  });\n};\n\nPromisePolyfill.race = function (list) {\n  return new PromisePolyfill(function (resolve, reject) {\n    for (var i = 0; i < list.length; i++) {\n      list[i].then(resolve, reject);\n    }\n  });\n};\n\nmodule.exports = PromisePolyfill;\n\n}).call(this,require(\"timers\").setImmediate)\n},{\"timers\":28}],14:[function(require,module,exports){\n(function (global){\n\"use strict\";\n\nvar PromisePolyfill = require(\"./polyfill\");\n\nif (typeof window !== \"undefined\") {\n  if (typeof window.Promise === \"undefined\") {\n    window.Promise = PromisePolyfill;\n  } else if (!window.Promise.prototype[\"finally\"]) {\n    window.Promise.prototype[\"finally\"] = PromisePolyfill.prototype[\"finally\"];\n  }\n\n  module.exports = window.Promise;\n} else if (typeof global !== \"undefined\") {\n  if (typeof global.Promise === \"undefined\") {\n    global.Promise = PromisePolyfill;\n  } else if (!global.Promise.prototype[\"finally\"]) {\n    global.Promise.prototype[\"finally\"] = PromisePolyfill.prototype[\"finally\"];\n  }\n\n  module.exports = global.Promise;\n} else {\n  module.exports = PromisePolyfill;\n}\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{\"./polyfill\":13}],15:[function(require,module,exports){\n\"use strict\";\n\nmodule.exports = function (object) {\n  if (Object.prototype.toString.call(object) !== \"[object Object]\") return \"\";\n  var args = [];\n\n  for (var key in object) {\n    destructure(key, object[key]);\n  }\n\n  return args.join(\"&\");\n\n  function destructure(key, value) {\n    if (Array.isArray(value)) {\n      for (var i = 0; i < value.length; i++) {\n        destructure(key + \"[\" + i + \"]\", value[i]);\n      }\n    } else if (Object.prototype.toString.call(value) === \"[object Object]\") {\n      for (var i in value) {\n        destructure(key + \"[\" + i + \"]\", value[i]);\n      }\n    } else args.push(encodeURIComponent(key) + (value != null && value !== \"\" ? \"=\" + encodeURIComponent(value) : \"\"));\n  }\n};\n\n},{}],16:[function(require,module,exports){\n\"use strict\";\n\nmodule.exports = function (string) {\n  if (string === \"\" || string == null) return {};\n  if (string.charAt(0) === \"?\") string = string.slice(1);\n  var entries = string.split(\"&\"),\n      counters = {},\n      data = {};\n\n  for (var i = 0; i < entries.length; i++) {\n    var entry = entries[i].split(\"=\");\n    var key = decodeURIComponent(entry[0]);\n    var value = entry.length === 2 ? decodeURIComponent(entry[1]) : \"\";\n    if (value === \"true\") value = true;else if (value === \"false\") value = false;\n    var levels = key.split(/\\]\\[?|\\[/);\n    var cursor = data;\n    if (key.indexOf(\"[\") > -1) levels.pop();\n\n    for (var j = 0; j < levels.length; j++) {\n      var level = levels[j],\n          nextLevel = levels[j + 1];\n      var isNumber = nextLevel == \"\" || !isNaN(parseInt(nextLevel, 10));\n\n      if (level === \"\") {\n        var key = levels.slice(0, j).join();\n\n        if (counters[key] == null) {\n          counters[key] = Array.isArray(cursor) ? cursor.length : 0;\n        }\n\n        level = counters[key]++;\n      } // Disallow direct prototype pollution\n      else if (level === \"__proto__\") break;\n\n      if (j === levels.length - 1) cursor[level] = value;else {\n        // Read own properties exclusively to disallow indirect\n        // prototype pollution\n        var desc = Object.getOwnPropertyDescriptor(cursor, level);\n        if (desc != null) desc = desc.value;\n        if (desc == null) cursor[level] = desc = isNumber ? [] : {};\n        cursor = desc;\n      }\n    }\n  }\n\n  return data;\n};\n\n},{}],17:[function(require,module,exports){\n\"use strict\";\n\nmodule.exports = require(\"./render/render\")(window);\n\n},{\"./render/render\":21}],18:[function(require,module,exports){\n\"use strict\";\n\nvar Vnode = require(\"../render/vnode\");\n\nvar hyperscriptVnode = require(\"./hyperscriptVnode\");\n\nmodule.exports = function () {\n  var vnode = hyperscriptVnode.apply(0, arguments);\n  vnode.tag = \"[\";\n  vnode.children = Vnode.normalizeChildren(vnode.children);\n  return vnode;\n};\n\n},{\"../render/vnode\":23,\"./hyperscriptVnode\":20}],19:[function(require,module,exports){\n\"use strict\";\n\nvar Vnode = require(\"../render/vnode\");\n\nvar hyperscriptVnode = require(\"./hyperscriptVnode\");\n\nvar selectorParser = /(?:(^|#|\\.)([^#\\.\\[\\]]+))|(\\[(.+?)(?:\\s*=\\s*(\"|'|)((?:\\\\[\"'\\]]|.)*?)\\5)?\\])/g;\nvar selectorCache = {};\nvar hasOwn = {}.hasOwnProperty;\n\nfunction isEmpty(object) {\n  for (var key in object) {\n    if (hasOwn.call(object, key)) return false;\n  }\n\n  return true;\n}\n\nfunction compileSelector(selector) {\n  var match,\n      tag = \"div\",\n      classes = [],\n      attrs = {};\n\n  while (match = selectorParser.exec(selector)) {\n    var type = match[1],\n        value = match[2];\n    if (type === \"\" && value !== \"\") tag = value;else if (type === \"#\") attrs.id = value;else if (type === \".\") classes.push(value);else if (match[3][0] === \"[\") {\n      var attrValue = match[6];\n      if (attrValue) attrValue = attrValue.replace(/\\\\([\"'])/g, \"$1\").replace(/\\\\\\\\/g, \"\\\\\");\n      if (match[4] === \"class\") classes.push(attrValue);else attrs[match[4]] = attrValue === \"\" ? attrValue : attrValue || true;\n    }\n  }\n\n  if (classes.length > 0) attrs.className = classes.join(\" \");\n  return selectorCache[selector] = {\n    tag: tag,\n    attrs: attrs\n  };\n}\n\nfunction execSelector(state, vnode) {\n  var attrs = vnode.attrs;\n  var children = Vnode.normalizeChildren(vnode.children);\n  var hasClass = hasOwn.call(attrs, \"class\");\n  var className = hasClass ? attrs[\"class\"] : attrs.className;\n  vnode.tag = state.tag;\n  vnode.attrs = null;\n  vnode.children = undefined;\n\n  if (!isEmpty(state.attrs) && !isEmpty(attrs)) {\n    var newAttrs = {};\n\n    for (var key in attrs) {\n      if (hasOwn.call(attrs, key)) newAttrs[key] = attrs[key];\n    }\n\n    attrs = newAttrs;\n  }\n\n  for (var key in state.attrs) {\n    if (hasOwn.call(state.attrs, key) && key !== \"className\" && !hasOwn.call(attrs, key)) {\n      attrs[key] = state.attrs[key];\n    }\n  }\n\n  if (className != null || state.attrs.className != null) attrs.className = className != null ? state.attrs.className != null ? String(state.attrs.className) + \" \" + String(className) : className : state.attrs.className != null ? state.attrs.className : null;\n  if (hasClass) attrs[\"class\"] = null;\n\n  for (var key in attrs) {\n    if (hasOwn.call(attrs, key) && key !== \"key\") {\n      vnode.attrs = attrs;\n      break;\n    }\n  }\n\n  if (Array.isArray(children) && children.length === 1 && children[0] != null && children[0].tag === \"#\") {\n    vnode.text = children[0].children;\n  } else {\n    vnode.children = children;\n  }\n\n  return vnode;\n}\n\nfunction hyperscript(selector) {\n  if (selector == null || typeof selector !== \"string\" && typeof selector !== \"function\" && typeof selector.view !== \"function\") {\n    throw Error(\"The selector must be either a string or a component.\");\n  }\n\n  var vnode = hyperscriptVnode.apply(1, arguments);\n\n  if (typeof selector === \"string\") {\n    vnode.children = Vnode.normalizeChildren(vnode.children);\n    if (selector !== \"[\") return execSelector(selectorCache[selector] || compileSelector(selector), vnode);\n  }\n\n  vnode.tag = selector;\n  return vnode;\n}\n\nmodule.exports = hyperscript;\n\n},{\"../render/vnode\":23,\"./hyperscriptVnode\":20}],20:[function(require,module,exports){\n\"use strict\";\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nvar Vnode = require(\"../render/vnode\"); // Call via `hyperscriptVnode.apply(startOffset, arguments)`\n//\n// The reason I do it this way, forwarding the arguments and passing the start\n// offset in `this`, is so I don't have to create a temporary array in a\n// performance-critical path.\n//\n// In native ES6, I'd instead add a final `...args` parameter to the\n// `hyperscript` and `fragment` factories and define this as\n// `hyperscriptVnode(...args)`, since modern engines do optimize that away. But\n// ES5 (what Mithril requires thanks to IE support) doesn't give me that luxury,\n// and engines aren't nearly intelligent enough to do either of these:\n//\n// 1. Elide the allocation for `[].slice.call(arguments, 1)` when it's passed to\n//    another function only to be indexed.\n// 2. Elide an `arguments` allocation when it's passed to any function other\n//    than `Function.prototype.apply` or `Reflect.apply`.\n//\n// In ES6, it'd probably look closer to this (I'd need to profile it, though):\n// module.exports = function(attrs, ...children) {\n//     if (attrs == null || typeof attrs === \"object\" && attrs.tag == null && !Array.isArray(attrs)) {\n//         if (children.length === 1 && Array.isArray(children[0])) children = children[0]\n//     } else {\n//         children = children.length === 0 && Array.isArray(attrs) ? attrs : [attrs, ...children]\n//         attrs = undefined\n//     }\n//\n//     if (attrs == null) attrs = {}\n//     return Vnode(\"\", attrs.key, attrs, children)\n// }\n\n\nmodule.exports = function () {\n  var attrs = arguments[this],\n      start = this + 1,\n      children;\n\n  if (attrs == null) {\n    attrs = {};\n  } else if (_typeof(attrs) !== \"object\" || attrs.tag != null || Array.isArray(attrs)) {\n    attrs = {};\n    start = this;\n  }\n\n  if (arguments.length === start + 1) {\n    children = arguments[start];\n    if (!Array.isArray(children)) children = [children];\n  } else {\n    children = [];\n\n    while (start < arguments.length) {\n      children.push(arguments[start++]);\n    }\n  }\n\n  return Vnode(\"\", attrs.key, attrs, children);\n};\n\n},{\"../render/vnode\":23}],21:[function(require,module,exports){\n\"use strict\";\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nvar Vnode = require(\"../render/vnode\");\n\nmodule.exports = function ($window) {\n  var $doc = $window && $window.document;\n  var currentRedraw;\n  var nameSpace = {\n    svg: \"http://www.w3.org/2000/svg\",\n    math: \"http://www.w3.org/1998/Math/MathML\"\n  };\n\n  function getNameSpace(vnode) {\n    return vnode.attrs && vnode.attrs.xmlns || nameSpace[vnode.tag];\n  } //sanity check to discourage people from doing `vnode.state = ...`\n\n\n  function checkState(vnode, original) {\n    if (vnode.state !== original) throw new Error(\"`vnode.state` must not be modified\");\n  } //Note: the hook is passed as the `this` argument to allow proxying the\n  //arguments without requiring a full array allocation to do so. It also\n  //takes advantage of the fact the current `vnode` is the first argument in\n  //all lifecycle methods.\n\n\n  function callHook(vnode) {\n    var original = vnode.state;\n\n    try {\n      return this.apply(original, arguments);\n    } finally {\n      checkState(vnode, original);\n    }\n  } // IE11 (at least) throws an UnspecifiedError when accessing document.activeElement when\n  // inside an iframe. Catch and swallow this error, and heavy-handidly return null.\n\n\n  function activeElement() {\n    try {\n      return $doc.activeElement;\n    } catch (e) {\n      return null;\n    }\n  } //create\n\n\n  function createNodes(parent, vnodes, start, end, hooks, nextSibling, ns) {\n    for (var i = start; i < end; i++) {\n      var vnode = vnodes[i];\n\n      if (vnode != null) {\n        createNode(parent, vnode, hooks, ns, nextSibling);\n      }\n    }\n  }\n\n  function createNode(parent, vnode, hooks, ns, nextSibling) {\n    var tag = vnode.tag;\n\n    if (typeof tag === \"string\") {\n      vnode.state = {};\n      if (vnode.attrs != null) initLifecycle(vnode.attrs, vnode, hooks);\n\n      switch (tag) {\n        case \"#\":\n          createText(parent, vnode, nextSibling);\n          break;\n\n        case \"<\":\n          createHTML(parent, vnode, ns, nextSibling);\n          break;\n\n        case \"[\":\n          createFragment(parent, vnode, hooks, ns, nextSibling);\n          break;\n\n        default:\n          createElement(parent, vnode, hooks, ns, nextSibling);\n      }\n    } else createComponent(parent, vnode, hooks, ns, nextSibling);\n  }\n\n  function createText(parent, vnode, nextSibling) {\n    vnode.dom = $doc.createTextNode(vnode.children);\n    insertNode(parent, vnode.dom, nextSibling);\n  }\n\n  var possibleParents = {\n    caption: \"table\",\n    thead: \"table\",\n    tbody: \"table\",\n    tfoot: \"table\",\n    tr: \"tbody\",\n    th: \"tr\",\n    td: \"tr\",\n    colgroup: \"table\",\n    col: \"colgroup\"\n  };\n\n  function createHTML(parent, vnode, ns, nextSibling) {\n    var match = vnode.children.match(/^\\s*?<(\\w+)/im) || []; // not using the proper parent makes the child element(s) vanish.\n    //     var div = document.createElement(\"div\")\n    //     div.innerHTML = \"<td>i</td><td>j</td>\"\n    //     console.log(div.innerHTML)\n    // --> \"ij\", no <td> in sight.\n\n    var temp = $doc.createElement(possibleParents[match[1]] || \"div\");\n\n    if (ns === \"http://www.w3.org/2000/svg\") {\n      temp.innerHTML = \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\">\" + vnode.children + \"</svg>\";\n      temp = temp.firstChild;\n    } else {\n      temp.innerHTML = vnode.children;\n    }\n\n    vnode.dom = temp.firstChild;\n    vnode.domSize = temp.childNodes.length; // Capture nodes to remove, so we don't confuse them.\n\n    vnode.instance = [];\n    var fragment = $doc.createDocumentFragment();\n    var child;\n\n    while (child = temp.firstChild) {\n      vnode.instance.push(child);\n      fragment.appendChild(child);\n    }\n\n    insertNode(parent, fragment, nextSibling);\n  }\n\n  function createFragment(parent, vnode, hooks, ns, nextSibling) {\n    var fragment = $doc.createDocumentFragment();\n\n    if (vnode.children != null) {\n      var children = vnode.children;\n      createNodes(fragment, children, 0, children.length, hooks, null, ns);\n    }\n\n    vnode.dom = fragment.firstChild;\n    vnode.domSize = fragment.childNodes.length;\n    insertNode(parent, fragment, nextSibling);\n  }\n\n  function createElement(parent, vnode, hooks, ns, nextSibling) {\n    var tag = vnode.tag;\n    var attrs = vnode.attrs;\n    var is = attrs && attrs.is;\n    ns = getNameSpace(vnode) || ns;\n    var element = ns ? is ? $doc.createElementNS(ns, tag, {\n      is: is\n    }) : $doc.createElementNS(ns, tag) : is ? $doc.createElement(tag, {\n      is: is\n    }) : $doc.createElement(tag);\n    vnode.dom = element;\n\n    if (attrs != null) {\n      setAttrs(vnode, attrs, ns);\n    }\n\n    insertNode(parent, element, nextSibling);\n\n    if (!maybeSetContentEditable(vnode)) {\n      if (vnode.text != null) {\n        if (vnode.text !== \"\") element.textContent = vnode.text;else vnode.children = [Vnode(\"#\", undefined, undefined, vnode.text, undefined, undefined)];\n      }\n\n      if (vnode.children != null) {\n        var children = vnode.children;\n        createNodes(element, children, 0, children.length, hooks, null, ns);\n        if (vnode.tag === \"select\" && attrs != null) setLateSelectAttrs(vnode, attrs);\n      }\n    }\n  }\n\n  function initComponent(vnode, hooks) {\n    var sentinel;\n\n    if (typeof vnode.tag.view === \"function\") {\n      vnode.state = Object.create(vnode.tag);\n      sentinel = vnode.state.view;\n      if (sentinel.$$reentrantLock$$ != null) return;\n      sentinel.$$reentrantLock$$ = true;\n    } else {\n      vnode.state = void 0;\n      sentinel = vnode.tag;\n      if (sentinel.$$reentrantLock$$ != null) return;\n      sentinel.$$reentrantLock$$ = true;\n      vnode.state = vnode.tag.prototype != null && typeof vnode.tag.prototype.view === \"function\" ? new vnode.tag(vnode) : vnode.tag(vnode);\n    }\n\n    initLifecycle(vnode.state, vnode, hooks);\n    if (vnode.attrs != null) initLifecycle(vnode.attrs, vnode, hooks);\n    vnode.instance = Vnode.normalize(callHook.call(vnode.state.view, vnode));\n    if (vnode.instance === vnode) throw Error(\"A view cannot return the vnode it received as argument\");\n    sentinel.$$reentrantLock$$ = null;\n  }\n\n  function createComponent(parent, vnode, hooks, ns, nextSibling) {\n    initComponent(vnode, hooks);\n\n    if (vnode.instance != null) {\n      createNode(parent, vnode.instance, hooks, ns, nextSibling);\n      vnode.dom = vnode.instance.dom;\n      vnode.domSize = vnode.dom != null ? vnode.instance.domSize : 0;\n    } else {\n      vnode.domSize = 0;\n    }\n  } //update\n\n  /**\n   * @param {Element|Fragment} parent - the parent element\n   * @param {Vnode[] | null} old - the list of vnodes of the last `render()` call for\n   *                               this part of the tree\n   * @param {Vnode[] | null} vnodes - as above, but for the current `render()` call.\n   * @param {Function[]} hooks - an accumulator of post-render hooks (oncreate/onupdate)\n   * @param {Element | null} nextSibling - the next DOM node if we're dealing with a\n   *                                       fragment that is not the last item in its\n   *                                       parent\n   * @param {'svg' | 'math' | String | null} ns) - the current XML namespace, if any\n   * @returns void\n   */\n  // This function diffs and patches lists of vnodes, both keyed and unkeyed.\n  //\n  // We will:\n  //\n  // 1. describe its general structure\n  // 2. focus on the diff algorithm optimizations\n  // 3. discuss DOM node operations.\n  // ## Overview:\n  //\n  // The updateNodes() function:\n  // - deals with trivial cases\n  // - determines whether the lists are keyed or unkeyed based on the first non-null node\n  //   of each list.\n  // - diffs them and patches the DOM if needed (that's the brunt of the code)\n  // - manages the leftovers: after diffing, are there:\n  //   - old nodes left to remove?\n  // \t - new nodes to insert?\n  // \t deal with them!\n  //\n  // The lists are only iterated over once, with an exception for the nodes in `old` that\n  // are visited in the fourth part of the diff and in the `removeNodes` loop.\n  // ## Diffing\n  //\n  // Reading https://github.com/localvoid/ivi/blob/ddc09d06abaef45248e6133f7040d00d3c6be853/packages/ivi/src/vdom/implementation.ts#L617-L837\n  // may be good for context on longest increasing subsequence-based logic for moving nodes.\n  //\n  // In order to diff keyed lists, one has to\n  //\n  // 1) match nodes in both lists, per key, and update them accordingly\n  // 2) create the nodes present in the new list, but absent in the old one\n  // 3) remove the nodes present in the old list, but absent in the new one\n  // 4) figure out what nodes in 1) to move in order to minimize the DOM operations.\n  //\n  // To achieve 1) one can create a dictionary of keys => index (for the old list), then iterate\n  // over the new list and for each new vnode, find the corresponding vnode in the old list using\n  // the map.\n  // 2) is achieved in the same step: if a new node has no corresponding entry in the map, it is new\n  // and must be created.\n  // For the removals, we actually remove the nodes that have been updated from the old list.\n  // The nodes that remain in that list after 1) and 2) have been performed can be safely removed.\n  // The fourth step is a bit more complex and relies on the longest increasing subsequence (LIS)\n  // algorithm.\n  //\n  // the longest increasing subsequence is the list of nodes that can remain in place. Imagine going\n  // from `1,2,3,4,5` to `4,5,1,2,3` where the numbers are not necessarily the keys, but the indices\n  // corresponding to the keyed nodes in the old list (keyed nodes `e,d,c,b,a` => `b,a,e,d,c` would\n  //  match the above lists, for example).\n  //\n  // In there are two increasing subsequences: `4,5` and `1,2,3`, the latter being the longest. We\n  // can update those nodes without moving them, and only call `insertNode` on `4` and `5`.\n  //\n  // @localvoid adapted the algo to also support node deletions and insertions (the `lis` is actually\n  // the longest increasing subsequence *of old nodes still present in the new list*).\n  //\n  // It is a general algorithm that is fireproof in all circumstances, but it requires the allocation\n  // and the construction of a `key => oldIndex` map, and three arrays (one with `newIndex => oldIndex`,\n  // the `LIS` and a temporary one to create the LIS).\n  //\n  // So we cheat where we can: if the tails of the lists are identical, they are guaranteed to be part of\n  // the LIS and can be updated without moving them.\n  //\n  // If two nodes are swapped, they are guaranteed not to be part of the LIS, and must be moved (with\n  // the exception of the last node if the list is fully reversed).\n  //\n  // ## Finding the next sibling.\n  //\n  // `updateNode()` and `createNode()` expect a nextSibling parameter to perform DOM operations.\n  // When the list is being traversed top-down, at any index, the DOM nodes up to the previous\n  // vnode reflect the content of the new list, whereas the rest of the DOM nodes reflect the old\n  // list. The next sibling must be looked for in the old list using `getNextSibling(... oldStart + 1 ...)`.\n  //\n  // In the other scenarios (swaps, upwards traversal, map-based diff),\n  // the new vnodes list is traversed upwards. The DOM nodes at the bottom of the list reflect the\n  // bottom part of the new vnodes list, and we can use the `v.dom`  value of the previous node\n  // as the next sibling (cached in the `nextSibling` variable).\n  // ## DOM node moves\n  //\n  // In most scenarios `updateNode()` and `createNode()` perform the DOM operations. However,\n  // this is not the case if the node moved (second and fourth part of the diff algo). We move\n  // the old DOM nodes before updateNode runs because it enables us to use the cached `nextSibling`\n  // variable rather than fetching it using `getNextSibling()`.\n  //\n  // The fourth part of the diff currently inserts nodes unconditionally, leading to issues\n  // like #1791 and #1999. We need to be smarter about those situations where adjascent old\n  // nodes remain together in the new list in a way that isn't covered by parts one and\n  // three of the diff algo.\n\n\n  function updateNodes(parent, old, vnodes, hooks, nextSibling, ns) {\n    if (old === vnodes || old == null && vnodes == null) return;else if (old == null || old.length === 0) createNodes(parent, vnodes, 0, vnodes.length, hooks, nextSibling, ns);else if (vnodes == null || vnodes.length === 0) removeNodes(parent, old, 0, old.length);else {\n      var isOldKeyed = old[0] != null && old[0].key != null;\n      var isKeyed = vnodes[0] != null && vnodes[0].key != null;\n      var start = 0,\n          oldStart = 0;\n      if (!isOldKeyed) while (oldStart < old.length && old[oldStart] == null) {\n        oldStart++;\n      }\n      if (!isKeyed) while (start < vnodes.length && vnodes[start] == null) {\n        start++;\n      }\n      if (isKeyed === null && isOldKeyed == null) return; // both lists are full of nulls\n\n      if (isOldKeyed !== isKeyed) {\n        removeNodes(parent, old, oldStart, old.length);\n        createNodes(parent, vnodes, start, vnodes.length, hooks, nextSibling, ns);\n      } else if (!isKeyed) {\n        // Don't index past the end of either list (causes deopts).\n        var commonLength = old.length < vnodes.length ? old.length : vnodes.length; // Rewind if necessary to the first non-null index on either side.\n        // We could alternatively either explicitly create or remove nodes when `start !== oldStart`\n        // but that would be optimizing for sparse lists which are more rare than dense ones.\n\n        start = start < oldStart ? start : oldStart;\n\n        for (; start < commonLength; start++) {\n          o = old[start];\n          v = vnodes[start];\n          if (o === v || o == null && v == null) continue;else if (o == null) createNode(parent, v, hooks, ns, getNextSibling(old, start + 1, nextSibling));else if (v == null) removeNode(parent, o);else updateNode(parent, o, v, hooks, getNextSibling(old, start + 1, nextSibling), ns);\n        }\n\n        if (old.length > commonLength) removeNodes(parent, old, start, old.length);\n        if (vnodes.length > commonLength) createNodes(parent, vnodes, start, vnodes.length, hooks, nextSibling, ns);\n      } else {\n        // keyed diff\n        var oldEnd = old.length - 1,\n            end = vnodes.length - 1,\n            map,\n            o,\n            v,\n            oe,\n            ve,\n            topSibling; // bottom-up\n\n        while (oldEnd >= oldStart && end >= start) {\n          oe = old[oldEnd];\n          ve = vnodes[end];\n          if (oe.key !== ve.key) break;\n          if (oe !== ve) updateNode(parent, oe, ve, hooks, nextSibling, ns);\n          if (ve.dom != null) nextSibling = ve.dom;\n          oldEnd--, end--;\n        } // top-down\n\n\n        while (oldEnd >= oldStart && end >= start) {\n          o = old[oldStart];\n          v = vnodes[start];\n          if (o.key !== v.key) break;\n          oldStart++, start++;\n          if (o !== v) updateNode(parent, o, v, hooks, getNextSibling(old, oldStart, nextSibling), ns);\n        } // swaps and list reversals\n\n\n        while (oldEnd >= oldStart && end >= start) {\n          if (start === end) break;\n          if (o.key !== ve.key || oe.key !== v.key) break;\n          topSibling = getNextSibling(old, oldStart, nextSibling);\n          moveNodes(parent, oe, topSibling);\n          if (oe !== v) updateNode(parent, oe, v, hooks, topSibling, ns);\n          if (++start <= --end) moveNodes(parent, o, nextSibling);\n          if (o !== ve) updateNode(parent, o, ve, hooks, nextSibling, ns);\n          if (ve.dom != null) nextSibling = ve.dom;\n          oldStart++;\n          oldEnd--;\n          oe = old[oldEnd];\n          ve = vnodes[end];\n          o = old[oldStart];\n          v = vnodes[start];\n        } // bottom up once again\n\n\n        while (oldEnd >= oldStart && end >= start) {\n          if (oe.key !== ve.key) break;\n          if (oe !== ve) updateNode(parent, oe, ve, hooks, nextSibling, ns);\n          if (ve.dom != null) nextSibling = ve.dom;\n          oldEnd--, end--;\n          oe = old[oldEnd];\n          ve = vnodes[end];\n        }\n\n        if (start > end) removeNodes(parent, old, oldStart, oldEnd + 1);else if (oldStart > oldEnd) createNodes(parent, vnodes, start, end + 1, hooks, nextSibling, ns);else {\n          // inspired by ivi https://github.com/ivijs/ivi/ by Boris Kaul\n          var originalNextSibling = nextSibling,\n              vnodesLength = end - start + 1,\n              oldIndices = new Array(vnodesLength),\n              li = 0,\n              i = 0,\n              pos = 2147483647,\n              matched = 0,\n              map,\n              lisIndices;\n\n          for (i = 0; i < vnodesLength; i++) {\n            oldIndices[i] = -1;\n          }\n\n          for (i = end; i >= start; i--) {\n            if (map == null) map = getKeyMap(old, oldStart, oldEnd + 1);\n            ve = vnodes[i];\n            var oldIndex = map[ve.key];\n\n            if (oldIndex != null) {\n              pos = oldIndex < pos ? oldIndex : -1; // becomes -1 if nodes were re-ordered\n\n              oldIndices[i - start] = oldIndex;\n              oe = old[oldIndex];\n              old[oldIndex] = null;\n              if (oe !== ve) updateNode(parent, oe, ve, hooks, nextSibling, ns);\n              if (ve.dom != null) nextSibling = ve.dom;\n              matched++;\n            }\n          }\n\n          nextSibling = originalNextSibling;\n          if (matched !== oldEnd - oldStart + 1) removeNodes(parent, old, oldStart, oldEnd + 1);\n          if (matched === 0) createNodes(parent, vnodes, start, end + 1, hooks, nextSibling, ns);else {\n            if (pos === -1) {\n              // the indices of the indices of the items that are part of the\n              // longest increasing subsequence in the oldIndices list\n              lisIndices = makeLisIndices(oldIndices);\n              li = lisIndices.length - 1;\n\n              for (i = end; i >= start; i--) {\n                v = vnodes[i];\n                if (oldIndices[i - start] === -1) createNode(parent, v, hooks, ns, nextSibling);else {\n                  if (lisIndices[li] === i - start) li--;else moveNodes(parent, v, nextSibling);\n                }\n                if (v.dom != null) nextSibling = vnodes[i].dom;\n              }\n            } else {\n              for (i = end; i >= start; i--) {\n                v = vnodes[i];\n                if (oldIndices[i - start] === -1) createNode(parent, v, hooks, ns, nextSibling);\n                if (v.dom != null) nextSibling = vnodes[i].dom;\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n\n  function updateNode(parent, old, vnode, hooks, nextSibling, ns) {\n    var oldTag = old.tag,\n        tag = vnode.tag;\n\n    if (oldTag === tag) {\n      vnode.state = old.state;\n      vnode.events = old.events;\n      if (shouldNotUpdate(vnode, old)) return;\n\n      if (typeof oldTag === \"string\") {\n        if (vnode.attrs != null) {\n          updateLifecycle(vnode.attrs, vnode, hooks);\n        }\n\n        switch (oldTag) {\n          case \"#\":\n            updateText(old, vnode);\n            break;\n\n          case \"<\":\n            updateHTML(parent, old, vnode, ns, nextSibling);\n            break;\n\n          case \"[\":\n            updateFragment(parent, old, vnode, hooks, nextSibling, ns);\n            break;\n\n          default:\n            updateElement(old, vnode, hooks, ns);\n        }\n      } else updateComponent(parent, old, vnode, hooks, nextSibling, ns);\n    } else {\n      removeNode(parent, old);\n      createNode(parent, vnode, hooks, ns, nextSibling);\n    }\n  }\n\n  function updateText(old, vnode) {\n    if (old.children.toString() !== vnode.children.toString()) {\n      old.dom.nodeValue = vnode.children;\n    }\n\n    vnode.dom = old.dom;\n  }\n\n  function updateHTML(parent, old, vnode, ns, nextSibling) {\n    if (old.children !== vnode.children) {\n      removeHTML(parent, old);\n      createHTML(parent, vnode, ns, nextSibling);\n    } else {\n      vnode.dom = old.dom;\n      vnode.domSize = old.domSize;\n      vnode.instance = old.instance;\n    }\n  }\n\n  function updateFragment(parent, old, vnode, hooks, nextSibling, ns) {\n    updateNodes(parent, old.children, vnode.children, hooks, nextSibling, ns);\n    var domSize = 0,\n        children = vnode.children;\n    vnode.dom = null;\n\n    if (children != null) {\n      for (var i = 0; i < children.length; i++) {\n        var child = children[i];\n\n        if (child != null && child.dom != null) {\n          if (vnode.dom == null) vnode.dom = child.dom;\n          domSize += child.domSize || 1;\n        }\n      }\n\n      if (domSize !== 1) vnode.domSize = domSize;\n    }\n  }\n\n  function updateElement(old, vnode, hooks, ns) {\n    var element = vnode.dom = old.dom;\n    ns = getNameSpace(vnode) || ns;\n\n    if (vnode.tag === \"textarea\") {\n      if (vnode.attrs == null) vnode.attrs = {};\n\n      if (vnode.text != null) {\n        vnode.attrs.value = vnode.text; //FIXME handle multiple children\n\n        vnode.text = undefined;\n      }\n    }\n\n    updateAttrs(vnode, old.attrs, vnode.attrs, ns);\n\n    if (!maybeSetContentEditable(vnode)) {\n      if (old.text != null && vnode.text != null && vnode.text !== \"\") {\n        if (old.text.toString() !== vnode.text.toString()) old.dom.firstChild.nodeValue = vnode.text;\n      } else {\n        if (old.text != null) old.children = [Vnode(\"#\", undefined, undefined, old.text, undefined, old.dom.firstChild)];\n        if (vnode.text != null) vnode.children = [Vnode(\"#\", undefined, undefined, vnode.text, undefined, undefined)];\n        updateNodes(element, old.children, vnode.children, hooks, null, ns);\n      }\n    }\n  }\n\n  function updateComponent(parent, old, vnode, hooks, nextSibling, ns) {\n    vnode.instance = Vnode.normalize(callHook.call(vnode.state.view, vnode));\n    if (vnode.instance === vnode) throw Error(\"A view cannot return the vnode it received as argument\");\n    updateLifecycle(vnode.state, vnode, hooks);\n    if (vnode.attrs != null) updateLifecycle(vnode.attrs, vnode, hooks);\n\n    if (vnode.instance != null) {\n      if (old.instance == null) createNode(parent, vnode.instance, hooks, ns, nextSibling);else updateNode(parent, old.instance, vnode.instance, hooks, nextSibling, ns);\n      vnode.dom = vnode.instance.dom;\n      vnode.domSize = vnode.instance.domSize;\n    } else if (old.instance != null) {\n      removeNode(parent, old.instance);\n      vnode.dom = undefined;\n      vnode.domSize = 0;\n    } else {\n      vnode.dom = old.dom;\n      vnode.domSize = old.domSize;\n    }\n  }\n\n  function getKeyMap(vnodes, start, end) {\n    var map = Object.create(null);\n\n    for (; start < end; start++) {\n      var vnode = vnodes[start];\n\n      if (vnode != null) {\n        var key = vnode.key;\n        if (key != null) map[key] = start;\n      }\n    }\n\n    return map;\n  } // Lifted from ivi https://github.com/ivijs/ivi/\n  // takes a list of unique numbers (-1 is special and can\n  // occur multiple times) and returns an array with the indices\n  // of the items that are part of the longest increasing\n  // subsequece\n\n\n  var lisTemp = [];\n\n  function makeLisIndices(a) {\n    var result = [0];\n    var u = 0,\n        v = 0,\n        i = 0;\n    var il = lisTemp.length = a.length;\n\n    for (var i = 0; i < il; i++) {\n      lisTemp[i] = a[i];\n    }\n\n    for (var i = 0; i < il; ++i) {\n      if (a[i] === -1) continue;\n      var j = result[result.length - 1];\n\n      if (a[j] < a[i]) {\n        lisTemp[i] = j;\n        result.push(i);\n        continue;\n      }\n\n      u = 0;\n      v = result.length - 1;\n\n      while (u < v) {\n        // Fast integer average without overflow.\n        // eslint-disable-next-line no-bitwise\n        var c = (u >>> 1) + (v >>> 1) + (u & v & 1);\n\n        if (a[result[c]] < a[i]) {\n          u = c + 1;\n        } else {\n          v = c;\n        }\n      }\n\n      if (a[i] < a[result[u]]) {\n        if (u > 0) lisTemp[i] = result[u - 1];\n        result[u] = i;\n      }\n    }\n\n    u = result.length;\n    v = result[u - 1];\n\n    while (u-- > 0) {\n      result[u] = v;\n      v = lisTemp[v];\n    }\n\n    lisTemp.length = 0;\n    return result;\n  }\n\n  function getNextSibling(vnodes, i, nextSibling) {\n    for (; i < vnodes.length; i++) {\n      if (vnodes[i] != null && vnodes[i].dom != null) return vnodes[i].dom;\n    }\n\n    return nextSibling;\n  } // This covers a really specific edge case:\n  // - Parent node is keyed and contains child\n  // - Child is removed, returns unresolved promise in `onbeforeremove`\n  // - Parent node is moved in keyed diff\n  // - Remaining children still need moved appropriately\n  //\n  // Ideally, I'd track removed nodes as well, but that introduces a lot more\n  // complexity and I'm not exactly interested in doing that.\n\n\n  function moveNodes(parent, vnode, nextSibling) {\n    var frag = $doc.createDocumentFragment();\n    moveChildToFrag(parent, frag, vnode);\n    insertNode(parent, frag, nextSibling);\n  }\n\n  function moveChildToFrag(parent, frag, vnode) {\n    // Dodge the recursion overhead in a few of the most common cases.\n    while (vnode.dom != null && vnode.dom.parentNode === parent) {\n      if (typeof vnode.tag !== \"string\") {\n        vnode = vnode.instance;\n        if (vnode != null) continue;\n      } else if (vnode.tag === \"<\") {\n        for (var i = 0; i < vnode.instance.length; i++) {\n          frag.appendChild(vnode.instance[i]);\n        }\n      } else if (vnode.tag !== \"[\") {\n        // Don't recurse for text nodes *or* elements, just fragments\n        frag.appendChild(vnode.dom);\n      } else if (vnode.children.length === 1) {\n        vnode = vnode.children[0];\n        if (vnode != null) continue;\n      } else {\n        for (var i = 0; i < vnode.children.length; i++) {\n          var child = vnode.children[i];\n          if (child != null) moveChildToFrag(parent, frag, child);\n        }\n      }\n\n      break;\n    }\n  }\n\n  function insertNode(parent, dom, nextSibling) {\n    if (nextSibling != null) parent.insertBefore(dom, nextSibling);else parent.appendChild(dom);\n  }\n\n  function maybeSetContentEditable(vnode) {\n    if (vnode.attrs == null || vnode.attrs.contenteditable == null && // attribute\n    vnode.attrs.contentEditable == null // property\n    ) return false;\n    var children = vnode.children;\n\n    if (children != null && children.length === 1 && children[0].tag === \"<\") {\n      var content = children[0].children;\n      if (vnode.dom.innerHTML !== content) vnode.dom.innerHTML = content;\n    } else if (vnode.text != null || children != null && children.length !== 0) throw new Error(\"Child node of a contenteditable must be trusted\");\n\n    return true;\n  } //remove\n\n\n  function removeNodes(parent, vnodes, start, end) {\n    for (var i = start; i < end; i++) {\n      var vnode = vnodes[i];\n      if (vnode != null) removeNode(parent, vnode);\n    }\n  }\n\n  function removeNode(parent, vnode) {\n    var mask = 0;\n    var original = vnode.state;\n    var stateResult, attrsResult;\n\n    if (typeof vnode.tag !== \"string\" && typeof vnode.state.onbeforeremove === \"function\") {\n      var result = callHook.call(vnode.state.onbeforeremove, vnode);\n\n      if (result != null && typeof result.then === \"function\") {\n        mask = 1;\n        stateResult = result;\n      }\n    }\n\n    if (vnode.attrs && typeof vnode.attrs.onbeforeremove === \"function\") {\n      var result = callHook.call(vnode.attrs.onbeforeremove, vnode);\n\n      if (result != null && typeof result.then === \"function\") {\n        // eslint-disable-next-line no-bitwise\n        mask |= 2;\n        attrsResult = result;\n      }\n    }\n\n    checkState(vnode, original); // If we can, try to fast-path it and avoid all the overhead of awaiting\n\n    if (!mask) {\n      onremove(vnode);\n      removeChild(parent, vnode);\n    } else {\n      if (stateResult != null) {\n        var next = function next() {\n          // eslint-disable-next-line no-bitwise\n          if (mask & 1) {\n            mask &= 2;\n            if (!mask) reallyRemove();\n          }\n        };\n\n        stateResult.then(next, next);\n      }\n\n      if (attrsResult != null) {\n        var next = function next() {\n          // eslint-disable-next-line no-bitwise\n          if (mask & 2) {\n            mask &= 1;\n            if (!mask) reallyRemove();\n          }\n        };\n\n        attrsResult.then(next, next);\n      }\n    }\n\n    function reallyRemove() {\n      checkState(vnode, original);\n      onremove(vnode);\n      removeChild(parent, vnode);\n    }\n  }\n\n  function removeHTML(parent, vnode) {\n    for (var i = 0; i < vnode.instance.length; i++) {\n      parent.removeChild(vnode.instance[i]);\n    }\n  }\n\n  function removeChild(parent, vnode) {\n    // Dodge the recursion overhead in a few of the most common cases.\n    while (vnode.dom != null && vnode.dom.parentNode === parent) {\n      if (typeof vnode.tag !== \"string\") {\n        vnode = vnode.instance;\n        if (vnode != null) continue;\n      } else if (vnode.tag === \"<\") {\n        removeHTML(parent, vnode);\n      } else {\n        if (vnode.tag !== \"[\") {\n          parent.removeChild(vnode.dom);\n          if (!Array.isArray(vnode.children)) break;\n        }\n\n        if (vnode.children.length === 1) {\n          vnode = vnode.children[0];\n          if (vnode != null) continue;\n        } else {\n          for (var i = 0; i < vnode.children.length; i++) {\n            var child = vnode.children[i];\n            if (child != null) removeChild(parent, child);\n          }\n        }\n      }\n\n      break;\n    }\n  }\n\n  function onremove(vnode) {\n    if (typeof vnode.tag !== \"string\" && typeof vnode.state.onremove === \"function\") callHook.call(vnode.state.onremove, vnode);\n    if (vnode.attrs && typeof vnode.attrs.onremove === \"function\") callHook.call(vnode.attrs.onremove, vnode);\n\n    if (typeof vnode.tag !== \"string\") {\n      if (vnode.instance != null) onremove(vnode.instance);\n    } else {\n      var children = vnode.children;\n\n      if (Array.isArray(children)) {\n        for (var i = 0; i < children.length; i++) {\n          var child = children[i];\n          if (child != null) onremove(child);\n        }\n      }\n    }\n  } //attrs\n\n\n  function setAttrs(vnode, attrs, ns) {\n    for (var key in attrs) {\n      setAttr(vnode, key, null, attrs[key], ns);\n    }\n  }\n\n  function setAttr(vnode, key, old, value, ns) {\n    if (key === \"key\" || key === \"is\" || value == null || isLifecycleMethod(key) || old === value && !isFormAttribute(vnode, key) && _typeof(value) !== \"object\") return;\n    if (key[0] === \"o\" && key[1] === \"n\") return updateEvent(vnode, key, value);\n    if (key.slice(0, 6) === \"xlink:\") vnode.dom.setAttributeNS(\"http://www.w3.org/1999/xlink\", key.slice(6), value);else if (key === \"style\") updateStyle(vnode.dom, old, value);else if (hasPropertyKey(vnode, key, ns)) {\n      if (key === \"value\") {\n        // Only do the coercion if we're actually going to check the value.\n\n        /* eslint-disable no-implicit-coercion */\n        //setting input[value] to same value by typing on focused element moves cursor to end in Chrome\n        if ((vnode.tag === \"input\" || vnode.tag === \"textarea\") && vnode.dom.value === \"\" + value && vnode.dom === activeElement()) return; //setting select[value] to same value while having select open blinks select dropdown in Chrome\n\n        if (vnode.tag === \"select\" && old !== null && vnode.dom.value === \"\" + value) return; //setting option[value] to same value while having select open blinks select dropdown in Chrome\n\n        if (vnode.tag === \"option\" && old !== null && vnode.dom.value === \"\" + value) return;\n        /* eslint-enable no-implicit-coercion */\n      } // If you assign an input type that is not supported by IE 11 with an assignment expression, an error will occur.\n\n\n      if (vnode.tag === \"input\" && key === \"type\") vnode.dom.setAttribute(key, value);else vnode.dom[key] = value;\n    } else {\n      if (typeof value === \"boolean\") {\n        if (value) vnode.dom.setAttribute(key, \"\");else vnode.dom.removeAttribute(key);\n      } else vnode.dom.setAttribute(key === \"className\" ? \"class\" : key, value);\n    }\n  }\n\n  function removeAttr(vnode, key, old, ns) {\n    if (key === \"key\" || key === \"is\" || old == null || isLifecycleMethod(key)) return;\n    if (key[0] === \"o\" && key[1] === \"n\" && !isLifecycleMethod(key)) updateEvent(vnode, key, undefined);else if (key === \"style\") updateStyle(vnode.dom, old, null);else if (hasPropertyKey(vnode, key, ns) && key !== \"className\" && !(key === \"value\" && (vnode.tag === \"option\" || vnode.tag === \"select\" && vnode.dom.selectedIndex === -1 && vnode.dom === activeElement())) && !(vnode.tag === \"input\" && key === \"type\")) {\n      vnode.dom[key] = null;\n    } else {\n      var nsLastIndex = key.indexOf(\":\");\n      if (nsLastIndex !== -1) key = key.slice(nsLastIndex + 1);\n      if (old !== false) vnode.dom.removeAttribute(key === \"className\" ? \"class\" : key);\n    }\n  }\n\n  function setLateSelectAttrs(vnode, attrs) {\n    if (\"value\" in attrs) {\n      if (attrs.value === null) {\n        if (vnode.dom.selectedIndex !== -1) vnode.dom.value = null;\n      } else {\n        var normalized = \"\" + attrs.value; // eslint-disable-line no-implicit-coercion\n\n        if (vnode.dom.value !== normalized || vnode.dom.selectedIndex === -1) {\n          vnode.dom.value = normalized;\n        }\n      }\n    }\n\n    if (\"selectedIndex\" in attrs) setAttr(vnode, \"selectedIndex\", null, attrs.selectedIndex, undefined);\n  }\n\n  function updateAttrs(vnode, old, attrs, ns) {\n    if (attrs != null) {\n      for (var key in attrs) {\n        setAttr(vnode, key, old && old[key], attrs[key], ns);\n      }\n    }\n\n    var val;\n\n    if (old != null) {\n      for (var key in old) {\n        if ((val = old[key]) != null && (attrs == null || attrs[key] == null)) {\n          removeAttr(vnode, key, val, ns);\n        }\n      }\n    }\n  }\n\n  function isFormAttribute(vnode, attr) {\n    return attr === \"value\" || attr === \"checked\" || attr === \"selectedIndex\" || attr === \"selected\" && vnode.dom === activeElement() || vnode.tag === \"option\" && vnode.dom.parentNode === $doc.activeElement;\n  }\n\n  function isLifecycleMethod(attr) {\n    return attr === \"oninit\" || attr === \"oncreate\" || attr === \"onupdate\" || attr === \"onremove\" || attr === \"onbeforeremove\" || attr === \"onbeforeupdate\";\n  }\n\n  function hasPropertyKey(vnode, key, ns) {\n    // Filter out namespaced keys\n    return ns === undefined && ( // If it's a custom element, just keep it.\n    vnode.tag.indexOf(\"-\") > -1 || vnode.attrs != null && vnode.attrs.is || // If it's a normal element, let's try to avoid a few browser bugs.\n    key !== \"href\" && key !== \"list\" && key !== \"form\" && key !== \"width\" && key !== \"height\" // && key !== \"type\"\n    // Defer the property check until *after* we check everything.\n    ) && key in vnode.dom;\n  } //style\n\n\n  var uppercaseRegex = /[A-Z]/g;\n\n  function toLowerCase(capital) {\n    return \"-\" + capital.toLowerCase();\n  }\n\n  function normalizeKey(key) {\n    return key[0] === \"-\" && key[1] === \"-\" ? key : key === \"cssFloat\" ? \"float\" : key.replace(uppercaseRegex, toLowerCase);\n  }\n\n  function updateStyle(element, old, style) {\n    if (old === style) {// Styles are equivalent, do nothing.\n    } else if (style == null) {\n      // New style is missing, just clear it.\n      element.style.cssText = \"\";\n    } else if (_typeof(style) !== \"object\") {\n      // New style is a string, let engine deal with patching.\n      element.style.cssText = style;\n    } else if (old == null || _typeof(old) !== \"object\") {\n      // `old` is missing or a string, `style` is an object.\n      element.style.cssText = \"\"; // Add new style properties\n\n      for (var key in style) {\n        var value = style[key];\n        if (value != null) element.style.setProperty(normalizeKey(key), String(value));\n      }\n    } else {\n      // Both old & new are (different) objects.\n      // Update style properties that have changed\n      for (var key in style) {\n        var value = style[key];\n\n        if (value != null && (value = String(value)) !== String(old[key])) {\n          element.style.setProperty(normalizeKey(key), value);\n        }\n      } // Remove style properties that no longer exist\n\n\n      for (var key in old) {\n        if (old[key] != null && style[key] == null) {\n          element.style.removeProperty(normalizeKey(key));\n        }\n      }\n    }\n  } // Here's an explanation of how this works:\n  // 1. The event names are always (by design) prefixed by `on`.\n  // 2. The EventListener interface accepts either a function or an object\n  //    with a `handleEvent` method.\n  // 3. The object does not inherit from `Object.prototype`, to avoid\n  //    any potential interference with that (e.g. setters).\n  // 4. The event name is remapped to the handler before calling it.\n  // 5. In function-based event handlers, `ev.target === this`. We replicate\n  //    that below.\n  // 6. In function-based event handlers, `return false` prevents the default\n  //    action and stops event propagation. We replicate that below.\n\n\n  function EventDict() {\n    // Save this, so the current redraw is correctly tracked.\n    this._ = currentRedraw;\n  }\n\n  EventDict.prototype = Object.create(null);\n\n  EventDict.prototype.handleEvent = function (ev) {\n    var handler = this[\"on\" + ev.type];\n    var result;\n    if (typeof handler === \"function\") result = handler.call(ev.currentTarget, ev);else if (typeof handler.handleEvent === \"function\") handler.handleEvent(ev);\n    if (this._ && ev.redraw !== false) (0, this._)();\n\n    if (result === false) {\n      ev.preventDefault();\n      ev.stopPropagation();\n    }\n  }; //event\n\n\n  function updateEvent(vnode, key, value) {\n    if (vnode.events != null) {\n      if (vnode.events[key] === value) return;\n\n      if (value != null && (typeof value === \"function\" || _typeof(value) === \"object\")) {\n        if (vnode.events[key] == null) vnode.dom.addEventListener(key.slice(2), vnode.events, false);\n        vnode.events[key] = value;\n      } else {\n        if (vnode.events[key] != null) vnode.dom.removeEventListener(key.slice(2), vnode.events, false);\n        vnode.events[key] = undefined;\n      }\n    } else if (value != null && (typeof value === \"function\" || _typeof(value) === \"object\")) {\n      vnode.events = new EventDict();\n      vnode.dom.addEventListener(key.slice(2), vnode.events, false);\n      vnode.events[key] = value;\n    }\n  } //lifecycle\n\n\n  function initLifecycle(source, vnode, hooks) {\n    if (typeof source.oninit === \"function\") callHook.call(source.oninit, vnode);\n    if (typeof source.oncreate === \"function\") hooks.push(callHook.bind(source.oncreate, vnode));\n  }\n\n  function updateLifecycle(source, vnode, hooks) {\n    if (typeof source.onupdate === \"function\") hooks.push(callHook.bind(source.onupdate, vnode));\n  }\n\n  function shouldNotUpdate(vnode, old) {\n    do {\n      if (vnode.attrs != null && typeof vnode.attrs.onbeforeupdate === \"function\") {\n        var force = callHook.call(vnode.attrs.onbeforeupdate, vnode, old);\n        if (force !== undefined && !force) break;\n      }\n\n      if (typeof vnode.tag !== \"string\" && typeof vnode.state.onbeforeupdate === \"function\") {\n        var force = callHook.call(vnode.state.onbeforeupdate, vnode, old);\n        if (force !== undefined && !force) break;\n      }\n\n      return false;\n    } while (false); // eslint-disable-line no-constant-condition\n\n\n    vnode.dom = old.dom;\n    vnode.domSize = old.domSize;\n    vnode.instance = old.instance; // One would think having the actual latest attributes would be ideal,\n    // but it doesn't let us properly diff based on our current internal\n    // representation. We have to save not only the old DOM info, but also\n    // the attributes used to create it, as we diff *that*, not against the\n    // DOM directly (with a few exceptions in `setAttr`). And, of course, we\n    // need to save the children and text as they are conceptually not\n    // unlike special \"attributes\" internally.\n\n    vnode.attrs = old.attrs;\n    vnode.children = old.children;\n    vnode.text = old.text;\n    return true;\n  }\n\n  return function (dom, vnodes, redraw) {\n    if (!dom) throw new TypeError(\"Ensure the DOM element being passed to m.route/m.mount/m.render is not undefined.\");\n    var hooks = [];\n    var active = activeElement();\n    var namespace = dom.namespaceURI; // First time rendering into a node clears it out\n\n    if (dom.vnodes == null) dom.textContent = \"\";\n    vnodes = Vnode.normalizeChildren(Array.isArray(vnodes) ? vnodes : [vnodes]);\n    var prevRedraw = currentRedraw;\n\n    try {\n      currentRedraw = typeof redraw === \"function\" ? redraw : undefined;\n      updateNodes(dom, dom.vnodes, vnodes, hooks, null, namespace === \"http://www.w3.org/1999/xhtml\" ? undefined : namespace);\n    } finally {\n      currentRedraw = prevRedraw;\n    }\n\n    dom.vnodes = vnodes; // `document.activeElement` can return null: https://html.spec.whatwg.org/multipage/interaction.html#dom-document-activeelement\n\n    if (active != null && activeElement() !== active && typeof active.focus === \"function\") active.focus();\n\n    for (var i = 0; i < hooks.length; i++) {\n      hooks[i]();\n    }\n  };\n};\n\n},{\"../render/vnode\":23}],22:[function(require,module,exports){\n\"use strict\";\n\nvar Vnode = require(\"../render/vnode\");\n\nmodule.exports = function (html) {\n  if (html == null) html = \"\";\n  return Vnode(\"<\", undefined, undefined, html, undefined, undefined);\n};\n\n},{\"../render/vnode\":23}],23:[function(require,module,exports){\n\"use strict\";\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction Vnode(tag, key, attrs, children, text, dom) {\n  return {\n    tag: tag,\n    key: key,\n    attrs: attrs,\n    children: children,\n    text: text,\n    dom: dom,\n    domSize: undefined,\n    state: undefined,\n    events: undefined,\n    instance: undefined\n  };\n}\n\nVnode.normalize = function (node) {\n  if (Array.isArray(node)) return Vnode(\"[\", undefined, undefined, Vnode.normalizeChildren(node), undefined, undefined);\n  if (node == null || typeof node === \"boolean\") return null;\n  if (_typeof(node) === \"object\") return node;\n  return Vnode(\"#\", undefined, undefined, String(node), undefined, undefined);\n};\n\nVnode.normalizeChildren = function (input) {\n  var children = [];\n\n  if (input.length) {\n    var isKeyed = input[0] != null && input[0].key != null; // Note: this is a *very* perf-sensitive check.\n    // Fun fact: merging the loop like this is somehow faster than splitting\n    // it, noticeably so.\n\n    for (var i = 1; i < input.length; i++) {\n      if ((input[i] != null && input[i].key != null) !== isKeyed) {\n        throw new TypeError(\"Vnodes must either always have keys or never have keys!\");\n      }\n    }\n\n    for (var i = 0; i < input.length; i++) {\n      children[i] = Vnode.normalize(input[i]);\n    }\n  }\n\n  return children;\n};\n\nmodule.exports = Vnode;\n\n},{}],24:[function(require,module,exports){\n\"use strict\";\n\nvar PromisePolyfill = require(\"./promise/promise\");\n\nvar mountRedraw = require(\"./mount-redraw\");\n\nmodule.exports = require(\"./request/request\")(window, PromisePolyfill, mountRedraw.redraw);\n\n},{\"./mount-redraw\":8,\"./promise/promise\":14,\"./request/request\":25}],25:[function(require,module,exports){\n\"use strict\";\n\nvar buildPathname = require(\"../pathname/build\");\n\nmodule.exports = function ($window, Promise, oncompletion) {\n  var callbackCount = 0;\n\n  function PromiseProxy(executor) {\n    return new Promise(executor);\n  } // In case the global Promise is some userland library's where they rely on\n  // `foo instanceof this.constructor`, `this.constructor.resolve(value)`, or\n  // similar. Let's *not* break them.\n\n\n  PromiseProxy.prototype = Promise.prototype;\n  PromiseProxy.__proto__ = Promise; // eslint-disable-line no-proto\n\n  function makeRequest(factory) {\n    return function (url, args) {\n      if (typeof url !== \"string\") {\n        args = url;\n        url = url.url;\n      } else if (args == null) args = {};\n\n      var promise = new Promise(function (resolve, reject) {\n        factory(buildPathname(url, args.params), args, function (data) {\n          if (typeof args.type === \"function\") {\n            if (Array.isArray(data)) {\n              for (var i = 0; i < data.length; i++) {\n                data[i] = new args.type(data[i]);\n              }\n            } else data = new args.type(data);\n          }\n\n          resolve(data);\n        }, reject);\n      });\n      if (args.background === true) return promise;\n      var count = 0;\n\n      function complete() {\n        if (--count === 0 && typeof oncompletion === \"function\") oncompletion();\n      }\n\n      return wrap(promise);\n\n      function wrap(promise) {\n        var then = promise.then; // Set the constructor, so engines know to not await or resolve\n        // this as a native promise. At the time of writing, this is\n        // only necessary for V8, but their behavior is the correct\n        // behavior per spec. See this spec issue for more details:\n        // https://github.com/tc39/ecma262/issues/1577. Also, see the\n        // corresponding comment in `request/tests/test-request.js` for\n        // a bit more background on the issue at hand.\n\n        promise.constructor = PromiseProxy;\n\n        promise.then = function () {\n          count++;\n          var next = then.apply(promise, arguments);\n          next.then(complete, function (e) {\n            complete();\n            if (count === 0) throw e;\n          });\n          return wrap(next);\n        };\n\n        return promise;\n      }\n    };\n  }\n\n  function hasHeader(args, name) {\n    for (var key in args.headers) {\n      if ({}.hasOwnProperty.call(args.headers, key) && name.test(key)) return true;\n    }\n\n    return false;\n  }\n\n  return {\n    request: makeRequest(function (url, args, resolve, reject) {\n      var method = args.method != null ? args.method.toUpperCase() : \"GET\";\n      var body = args.body;\n      var assumeJSON = (args.serialize == null || args.serialize === JSON.serialize) && !(body instanceof $window.FormData);\n      var responseType = args.responseType || (typeof args.extract === \"function\" ? \"\" : \"json\");\n      var xhr = new $window.XMLHttpRequest(),\n          aborted = false;\n      var original = xhr,\n          replacedAbort;\n      var abort = xhr.abort;\n\n      xhr.abort = function () {\n        aborted = true;\n        abort.call(this);\n      };\n\n      xhr.open(method, url, args.async !== false, typeof args.user === \"string\" ? args.user : undefined, typeof args.password === \"string\" ? args.password : undefined);\n\n      if (assumeJSON && body != null && !hasHeader(args, /^content-type$/i)) {\n        xhr.setRequestHeader(\"Content-Type\", \"application/json; charset=utf-8\");\n      }\n\n      if (typeof args.deserialize !== \"function\" && !hasHeader(args, /^accept$/i)) {\n        xhr.setRequestHeader(\"Accept\", \"application/json, text/*\");\n      }\n\n      if (args.withCredentials) xhr.withCredentials = args.withCredentials;\n      if (args.timeout) xhr.timeout = args.timeout;\n      xhr.responseType = responseType;\n\n      for (var key in args.headers) {\n        if ({}.hasOwnProperty.call(args.headers, key)) {\n          xhr.setRequestHeader(key, args.headers[key]);\n        }\n      }\n\n      xhr.onreadystatechange = function (ev) {\n        // Don't throw errors on xhr.abort().\n        if (aborted) return;\n\n        if (ev.target.readyState === 4) {\n          try {\n            var success = ev.target.status >= 200 && ev.target.status < 300 || ev.target.status === 304 || /^file:\\/\\//i.test(url); // When the response type isn't \"\" or \"text\",\n            // `xhr.responseText` is the wrong thing to use.\n            // Browsers do the right thing and throw here, and we\n            // should honor that and do the right thing by\n            // preferring `xhr.response` where possible/practical.\n\n            var response = ev.target.response,\n                message;\n\n            if (responseType === \"json\") {\n              // For IE and Edge, which don't implement\n              // `responseType: \"json\"`.\n              if (!ev.target.responseType && typeof args.extract !== \"function\") response = JSON.parse(ev.target.responseText);\n            } else if (!responseType || responseType === \"text\") {\n              // Only use this default if it's text. If a parsed\n              // document is needed on old IE and friends (all\n              // unsupported), the user should use a custom\n              // `config` instead. They're already using this at\n              // their own risk.\n              if (response == null) response = ev.target.responseText;\n            }\n\n            if (typeof args.extract === \"function\") {\n              response = args.extract(ev.target, args);\n              success = true;\n            } else if (typeof args.deserialize === \"function\") {\n              response = args.deserialize(response);\n            }\n\n            if (success) resolve(response);else {\n              try {\n                message = ev.target.responseText;\n              } catch (e) {\n                message = response;\n              }\n\n              var error = new Error(message);\n              error.code = ev.target.status;\n              error.response = response;\n              reject(error);\n            }\n          } catch (e) {\n            reject(e);\n          }\n        }\n      };\n\n      if (typeof args.config === \"function\") {\n        xhr = args.config(xhr, args, url) || xhr; // Propagate the `abort` to any replacement XHR as well.\n\n        if (xhr !== original) {\n          replacedAbort = xhr.abort;\n\n          xhr.abort = function () {\n            aborted = true;\n            replacedAbort.call(this);\n          };\n        }\n      }\n\n      if (body == null) xhr.send();else if (typeof args.serialize === \"function\") xhr.send(args.serialize(body));else if (body instanceof $window.FormData) xhr.send(body);else xhr.send(JSON.stringify(body));\n    }),\n    jsonp: makeRequest(function (url, args, resolve, reject) {\n      var callbackName = args.callbackName || \"_mithril_\" + Math.round(Math.random() * 1e16) + \"_\" + callbackCount++;\n      var script = $window.document.createElement(\"script\");\n\n      $window[callbackName] = function (data) {\n        delete $window[callbackName];\n        script.parentNode.removeChild(script);\n        resolve(data);\n      };\n\n      script.onerror = function () {\n        delete $window[callbackName];\n        script.parentNode.removeChild(script);\n        reject(new Error(\"JSONP request failed\"));\n      };\n\n      script.src = url + (url.indexOf(\"?\") < 0 ? \"?\" : \"&\") + encodeURIComponent(args.callbackKey || \"callback\") + \"=\" + encodeURIComponent(callbackName);\n      $window.document.documentElement.appendChild(script);\n    })\n  };\n};\n\n},{\"../pathname/build\":10}],26:[function(require,module,exports){\n\"use strict\";\n\nvar mountRedraw = require(\"./mount-redraw\");\n\nmodule.exports = require(\"./api/router\")(window, mountRedraw);\n\n},{\"./api/router\":5,\"./mount-redraw\":8}],27:[function(require,module,exports){\n\"use strict\";\n\n// shim for using process in browser\nvar process = module.exports = {}; // cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n  throw new Error('setTimeout has not been defined');\n}\n\nfunction defaultClearTimeout() {\n  throw new Error('clearTimeout has not been defined');\n}\n\n(function () {\n  try {\n    if (typeof setTimeout === 'function') {\n      cachedSetTimeout = setTimeout;\n    } else {\n      cachedSetTimeout = defaultSetTimout;\n    }\n  } catch (e) {\n    cachedSetTimeout = defaultSetTimout;\n  }\n\n  try {\n    if (typeof clearTimeout === 'function') {\n      cachedClearTimeout = clearTimeout;\n    } else {\n      cachedClearTimeout = defaultClearTimeout;\n    }\n  } catch (e) {\n    cachedClearTimeout = defaultClearTimeout;\n  }\n})();\n\nfunction runTimeout(fun) {\n  if (cachedSetTimeout === setTimeout) {\n    //normal enviroments in sane situations\n    return setTimeout(fun, 0);\n  } // if setTimeout wasn't available but was latter defined\n\n\n  if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n    cachedSetTimeout = setTimeout;\n    return setTimeout(fun, 0);\n  }\n\n  try {\n    // when when somebody has screwed with setTimeout but no I.E. maddness\n    return cachedSetTimeout(fun, 0);\n  } catch (e) {\n    try {\n      // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n      return cachedSetTimeout.call(null, fun, 0);\n    } catch (e) {\n      // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n      return cachedSetTimeout.call(this, fun, 0);\n    }\n  }\n}\n\nfunction runClearTimeout(marker) {\n  if (cachedClearTimeout === clearTimeout) {\n    //normal enviroments in sane situations\n    return clearTimeout(marker);\n  } // if clearTimeout wasn't available but was latter defined\n\n\n  if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n    cachedClearTimeout = clearTimeout;\n    return clearTimeout(marker);\n  }\n\n  try {\n    // when when somebody has screwed with setTimeout but no I.E. maddness\n    return cachedClearTimeout(marker);\n  } catch (e) {\n    try {\n      // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n      return cachedClearTimeout.call(null, marker);\n    } catch (e) {\n      // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n      // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n      return cachedClearTimeout.call(this, marker);\n    }\n  }\n}\n\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n  if (!draining || !currentQueue) {\n    return;\n  }\n\n  draining = false;\n\n  if (currentQueue.length) {\n    queue = currentQueue.concat(queue);\n  } else {\n    queueIndex = -1;\n  }\n\n  if (queue.length) {\n    drainQueue();\n  }\n}\n\nfunction drainQueue() {\n  if (draining) {\n    return;\n  }\n\n  var timeout = runTimeout(cleanUpNextTick);\n  draining = true;\n  var len = queue.length;\n\n  while (len) {\n    currentQueue = queue;\n    queue = [];\n\n    while (++queueIndex < len) {\n      if (currentQueue) {\n        currentQueue[queueIndex].run();\n      }\n    }\n\n    queueIndex = -1;\n    len = queue.length;\n  }\n\n  currentQueue = null;\n  draining = false;\n  runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n  var args = new Array(arguments.length - 1);\n\n  if (arguments.length > 1) {\n    for (var i = 1; i < arguments.length; i++) {\n      args[i - 1] = arguments[i];\n    }\n  }\n\n  queue.push(new Item(fun, args));\n\n  if (queue.length === 1 && !draining) {\n    runTimeout(drainQueue);\n  }\n}; // v8 likes predictible objects\n\n\nfunction Item(fun, array) {\n  this.fun = fun;\n  this.array = array;\n}\n\nItem.prototype.run = function () {\n  this.fun.apply(null, this.array);\n};\n\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\n\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) {\n  return [];\n};\n\nprocess.binding = function (name) {\n  throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () {\n  return '/';\n};\n\nprocess.chdir = function (dir) {\n  throw new Error('process.chdir is not supported');\n};\n\nprocess.umask = function () {\n  return 0;\n};\n\n},{}],28:[function(require,module,exports){\n(function (setImmediate,clearImmediate){\n\"use strict\";\n\nvar nextTick = require('process/browser.js').nextTick;\n\nvar apply = Function.prototype.apply;\nvar slice = Array.prototype.slice;\nvar immediateIds = {};\nvar nextImmediateId = 0; // DOM APIs, for completeness\n\nexports.setTimeout = function () {\n  return new Timeout(apply.call(setTimeout, window, arguments), clearTimeout);\n};\n\nexports.setInterval = function () {\n  return new Timeout(apply.call(setInterval, window, arguments), clearInterval);\n};\n\nexports.clearTimeout = exports.clearInterval = function (timeout) {\n  timeout.close();\n};\n\nfunction Timeout(id, clearFn) {\n  this._id = id;\n  this._clearFn = clearFn;\n}\n\nTimeout.prototype.unref = Timeout.prototype.ref = function () {};\n\nTimeout.prototype.close = function () {\n  this._clearFn.call(window, this._id);\n}; // Does not start the time, just sets up the members needed.\n\n\nexports.enroll = function (item, msecs) {\n  clearTimeout(item._idleTimeoutId);\n  item._idleTimeout = msecs;\n};\n\nexports.unenroll = function (item) {\n  clearTimeout(item._idleTimeoutId);\n  item._idleTimeout = -1;\n};\n\nexports._unrefActive = exports.active = function (item) {\n  clearTimeout(item._idleTimeoutId);\n  var msecs = item._idleTimeout;\n\n  if (msecs >= 0) {\n    item._idleTimeoutId = setTimeout(function onTimeout() {\n      if (item._onTimeout) item._onTimeout();\n    }, msecs);\n  }\n}; // That's not how node.js implements it but the exposed api is the same.\n\n\nexports.setImmediate = typeof setImmediate === \"function\" ? setImmediate : function (fn) {\n  var id = nextImmediateId++;\n  var args = arguments.length < 2 ? false : slice.call(arguments, 1);\n  immediateIds[id] = true;\n  nextTick(function onNextTick() {\n    if (immediateIds[id]) {\n      // fn.call() is faster so we optimize for the common use-case\n      // @see http://jsperf.com/call-apply-segu\n      if (args) {\n        fn.apply(null, args);\n      } else {\n        fn.call(null);\n      } // Prevent ids from leaking\n\n\n      exports.clearImmediate(id);\n    }\n  });\n  return id;\n};\nexports.clearImmediate = typeof clearImmediate === \"function\" ? clearImmediate : function (id) {\n  delete immediateIds[id];\n};\n\n}).call(this,require(\"timers\").setImmediate,require(\"timers\").clearImmediate)\n},{\"process/browser.js\":27,\"timers\":28}]},{},[1]);\n })();"]}