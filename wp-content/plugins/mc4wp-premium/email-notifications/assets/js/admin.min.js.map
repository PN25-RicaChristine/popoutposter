{"version":3,"sources":["email-notifications/assets/js/admin.js"],"names":["r","e","n","t","o","i","f","c","u","a","Error","code","p","exports","call","length","1","require","module","mount","document","getElementById","tags","updateAvailableEmailTags","fields","mc4wp","forms","editor","query","tagName","getAttribute","toUpperCase","replace","indexOf","push","innerHTML","map","join","window","addEventListener","on","helpers","debounce"],"mappings":"CAA4E,SAASA,EAAEC,EAAEC,EAAEC,GAAG,SAASC,EAAEC,EAAEC,GAAG,IAAIJ,EAAEG,GAAG,CAAC,IAAIJ,EAAEI,GAAG,CAAC,IAAIE,GAAE,EAAoC,IAAID,GAAGC,EAAE,OAAOA,EAAEF,GAAE,GAAI,GAAGG,EAAE,OAAOA,EAAEH,GAAE,GAAI,IAAII,EAAE,IAAIC,MAAM,uBAAuBL,EAAE,KAAK,MAAMI,EAAEE,KAAK,mBAAmBF,EAAE,IAAIG,EAAEV,EAAEG,GAAG,CAACQ,QAAQ,IAAIZ,EAAEI,GAAG,GAAGS,KAAKF,EAAEC,QAAQ,SAASb,GAAoB,OAAOI,EAAlBH,EAAEI,GAAG,GAAGL,IAAeA,IAAIY,EAAEA,EAAEC,QAAQb,EAAEC,EAAEC,EAAEC,GAAG,OAAOD,EAAEG,GAAGQ,QAAQ,IAAI,IAAIL,GAAE,EAAoCH,EAAE,EAAEA,EAAEF,EAAEY,OAAOV,IAAID,EAAED,EAAEE,IAAI,OAAOD,EAA7b,CAA4c,CAACY,EAAE,CAAC,SAASC,EAAQC,EAAOL,GACxiB,aAEA,IAAIM,EAAQC,SAASC,eAAe,+BAChCC,EAAO,GAIX,SAASC,IACP,IAAIC,EAASC,MAAMC,MAAMC,OAAOC,MAAM,UACtCN,EAAO,CAAC,SAER,IAAK,IAAIjB,EAAI,EAAGA,EAAImB,EAAOT,OAAQV,IAAK,CACtC,IAAIwB,EAAUL,EAAOnB,GAAGyB,aAAa,QAAQC,cAG7CF,EAAUA,EAAQG,QAAQ,KAAM,IAAIA,QAAQ,YAAa,OAErDV,EAAKW,QAAQJ,GAAW,GAC1BP,EAAKY,KAAKL,GAIdV,EAAMgB,UAAYb,EAAKc,IAAI,SAAUP,GACnC,MAAO,qIAAgJA,EAlB5I,UAmBVQ,KAAK,KAGVC,OAAOC,iBAAiB,OAAQ,WAC9Bd,MAAMC,MAAMC,OAAOa,GAAG,SAAUf,MAAMgB,QAAQC,SAASnB,EAA0B,MACjFA,OAGA,KAAK,GAAG,CAAC","file":"admin.min.js","sourcesContent":["(function () { var require = undefined; var define = undefined; (function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){\n'use strict';\n\nvar mount = document.getElementById('email-message-template-tags');\nvar tags = [];\nvar tagOpen = '[';\nvar tagClose = ']';\n\nfunction updateAvailableEmailTags() {\n  var fields = mc4wp.forms.editor.query('[name]');\n  tags = ['_ALL_'];\n\n  for (var i = 0; i < fields.length; i++) {\n    var tagName = fields[i].getAttribute('name').toUpperCase(); // strip empty arrays []\n    // add in semicolon for named array keys\n\n    tagName = tagName.replace('[]', '').replace(/\\[(\\w+)\\]/, ':$1');\n\n    if (tags.indexOf(tagName) < 0) {\n      tags.push(tagName);\n    }\n  }\n\n  mount.innerHTML = tags.map(function (tagName) {\n    return '<input readonly style=\"background: transparent; border: 0;\" color: #222; onclick=\"this.select();\" onfocus=\"this.select()\" value=\"' + tagOpen + tagName + tagClose + '\" />';\n  }).join(' ');\n}\n\nwindow.addEventListener('load', function () {\n  mc4wp.forms.editor.on('change', mc4wp.helpers.debounce(updateAvailableEmailTags, 1000));\n  updateAvailableEmailTags();\n});\n\n},{}]},{},[1]);\n })();"]}